(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Qr(e,t){const n=Object.create(null),o=e.split(",");for(let l=0;l<o.length;l++)n[o[l]]=!0;return t?l=>!!n[l.toLowerCase()]:l=>!!n[l]}const Le={},oo=[],xt=()=>{},Pf=()=>!1,Mf=/^on[^a-z]/,ui=e=>Mf.test(e),es=e=>e.startsWith("onUpdate:"),Xe=Object.assign,ts=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ff=Object.prototype.hasOwnProperty,Pe=(e,t)=>Ff.call(e,t),_e=Array.isArray,lo=e=>ci(e)==="[object Map]",Yu=e=>ci(e)==="[object Set]",$e=e=>typeof e=="function",je=e=>typeof e=="string",ns=e=>typeof e=="symbol",Re=e=>e!==null&&typeof e=="object",qu=e=>Re(e)&&$e(e.then)&&$e(e.catch),Xu=Object.prototype.toString,ci=e=>Xu.call(e),Bf=e=>ci(e).slice(8,-1),Wu=e=>ci(e)==="[object Object]",os=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bl=Qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),di=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Af=/-(\w)/g,Dt=di(e=>e.replace(Af,(t,n)=>n?n.toUpperCase():"")),If=/\B([A-Z])/g,Gn=di(e=>e.replace(If,"-$1").toLowerCase()),fi=di(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wi=di(e=>e?`on${fi(e)}`:""),Uo=(e,t)=>!Object.is(e,t),Zi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ul=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Of=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Df=e=>{const t=je(e)?Number(e):NaN;return isNaN(t)?e:t};let Ys;const yr=()=>Ys||(Ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ae(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],l=je(o)?Hf(o):Ae(o);if(l)for(const i in l)t[i]=l[i]}return t}else{if(je(e))return e;if(Re(e))return e}}const Rf=/;(?![^(]*\))/g,zf=/:([^]+)/,Lf=/\/\*[^]*?\*\//g;function Hf(e){const t={};return e.replace(Lf,"").split(Rf).forEach(n=>{if(n){const o=n.split(zf);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function we(e){let t="";if(je(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const o=we(e[n]);o&&(t+=o+" ")}else if(Re(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Uf(e){if(!e)return null;let{class:t,style:n}=e;return t&&!je(t)&&(e.class=we(t)),n&&(e.style=Ae(n)),e}const jf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gf=Qr(jf);function Zu(e){return!!e||e===""}const De=e=>je(e)?e:e==null?"":_e(e)||Re(e)&&(e.toString===Xu||!$e(e.toString))?JSON.stringify(e,Ku,2):String(e),Ku=(e,t)=>t&&t.__v_isRef?Ku(e,t.value):lo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,l])=>(n[`${o} =>`]=l,n),{})}:Yu(t)?{[`Set(${t.size})`]:[...t.values()]}:Re(t)&&!_e(t)&&!Wu(t)?String(t):t;let ut;class Ju{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ut,!t&&ut&&(this.index=(ut.scopes||(ut.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ut;try{return ut=this,t()}finally{ut=n}}}on(){ut=this}off(){ut=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function pi(e){return new Ju(e)}function Yf(e,t=ut){t&&t.active&&t.effects.push(e)}function hi(){return ut}function Po(e){ut&&ut.cleanups.push(e)}const ls=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Qu=e=>(e.w&yn)>0,ec=e=>(e.n&yn)>0,qf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=yn},Xf=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const l=t[o];Qu(l)&&!ec(l)?l.delete(e):t[n++]=l,l.w&=~yn,l.n&=~yn}t.length=n}},jl=new WeakMap;let Co=0,yn=1;const _r=30;let vt;const An=Symbol(""),wr=Symbol("");class is{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Yf(this,o)}run(){if(!this.active)return this.fn();let t=vt,n=dn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=vt,vt=this,dn=!0,yn=1<<++Co,Co<=_r?qf(this):qs(this),this.fn()}finally{Co<=_r&&Xf(this),yn=1<<--Co,vt=this.parent,dn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){vt===this?this.deferStop=!0:this.active&&(qs(this),this.onStop&&this.onStop(),this.active=!1)}}function qs(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let dn=!0;const tc=[];function _o(){tc.push(dn),dn=!1}function wo(){const e=tc.pop();dn=e===void 0?!0:e}function st(e,t,n){if(dn&&vt){let o=jl.get(e);o||jl.set(e,o=new Map);let l=o.get(n);l||o.set(n,l=ls()),nc(l)}}function nc(e,t){let n=!1;Co<=_r?ec(e)||(e.n|=yn,n=!Qu(e)):n=!e.has(vt),n&&(e.add(vt),vt.deps.push(e))}function Wt(e,t,n,o,l,i){const r=jl.get(e);if(!r)return;let s=[];if(t==="clear")s=[...r.values()];else if(n==="length"&&_e(e)){const u=Number(o);r.forEach((a,c)=>{(c==="length"||c>=u)&&s.push(a)})}else switch(n!==void 0&&s.push(r.get(n)),t){case"add":_e(e)?os(n)&&s.push(r.get("length")):(s.push(r.get(An)),lo(e)&&s.push(r.get(wr)));break;case"delete":_e(e)||(s.push(r.get(An)),lo(e)&&s.push(r.get(wr)));break;case"set":lo(e)&&s.push(r.get(An));break}if(s.length===1)s[0]&&br(s[0]);else{const u=[];for(const a of s)a&&u.push(...a);br(ls(u))}}function br(e,t){const n=_e(e)?e:[...e];for(const o of n)o.computed&&Xs(o);for(const o of n)o.computed||Xs(o)}function Xs(e,t){(e!==vt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Wf(e,t){var n;return(n=jl.get(e))==null?void 0:n.get(t)}const Zf=Qr("__proto__,__v_isRef,__isVue"),oc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ns)),Kf=rs(),Jf=rs(!1,!0),Qf=rs(!0),Ws=ep();function ep(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=Ne(this);for(let i=0,r=this.length;i<r;i++)st(o,"get",i+"");const l=o[t](...n);return l===-1||l===!1?o[t](...n.map(Ne)):l}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){_o();const o=Ne(this)[t].apply(this,n);return wo(),o}}),e}function tp(e){const t=Ne(this);return st(t,"has",e),t.hasOwnProperty(e)}function rs(e=!1,t=!1){return function(o,l,i){if(l==="__v_isReactive")return!e;if(l==="__v_isReadonly")return e;if(l==="__v_isShallow")return t;if(l==="__v_raw"&&i===(e?t?vp:ac:t?sc:rc).get(o))return o;const r=_e(o);if(!e){if(r&&Pe(Ws,l))return Reflect.get(Ws,l,i);if(l==="hasOwnProperty")return tp}const s=Reflect.get(o,l,i);return(ns(l)?oc.has(l):Zf(l))||(e||st(o,"get",l),t)?s:He(s)?r&&os(l)?s:s.value:Re(s)?e?gi(s):sl(s):s}}const np=lc(),op=lc(!0);function lc(e=!1){return function(n,o,l,i){let r=n[o];if(co(r)&&He(r)&&!He(l))return!1;if(!e&&(!Gl(l)&&!co(l)&&(r=Ne(r),l=Ne(l)),!_e(n)&&He(r)&&!He(l)))return r.value=l,!0;const s=_e(n)&&os(o)?Number(o)<n.length:Pe(n,o),u=Reflect.set(n,o,l,i);return n===Ne(i)&&(s?Uo(l,r)&&Wt(n,"set",o,l):Wt(n,"add",o,l)),u}}function lp(e,t){const n=Pe(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&Wt(e,"delete",t,void 0),o}function ip(e,t){const n=Reflect.has(e,t);return(!ns(t)||!oc.has(t))&&st(e,"has",t),n}function rp(e){return st(e,"iterate",_e(e)?"length":An),Reflect.ownKeys(e)}const ic={get:Kf,set:np,deleteProperty:lp,has:ip,ownKeys:rp},sp={get:Qf,set(e,t){return!0},deleteProperty(e,t){return!0}},ap=Xe({},ic,{get:Jf,set:op}),ss=e=>e,mi=e=>Reflect.getPrototypeOf(e);function gl(e,t,n=!1,o=!1){e=e.__v_raw;const l=Ne(e),i=Ne(t);n||(t!==i&&st(l,"get",t),st(l,"get",i));const{has:r}=mi(l),s=o?ss:n?cs:jo;if(r.call(l,t))return s(e.get(t));if(r.call(l,i))return s(e.get(i));e!==l&&e.get(t)}function vl(e,t=!1){const n=this.__v_raw,o=Ne(n),l=Ne(e);return t||(e!==l&&st(o,"has",e),st(o,"has",l)),e===l?n.has(e):n.has(e)||n.has(l)}function yl(e,t=!1){return e=e.__v_raw,!t&&st(Ne(e),"iterate",An),Reflect.get(e,"size",e)}function Zs(e){e=Ne(e);const t=Ne(this);return mi(t).has.call(t,e)||(t.add(e),Wt(t,"add",e,e)),this}function Ks(e,t){t=Ne(t);const n=Ne(this),{has:o,get:l}=mi(n);let i=o.call(n,e);i||(e=Ne(e),i=o.call(n,e));const r=l.call(n,e);return n.set(e,t),i?Uo(t,r)&&Wt(n,"set",e,t):Wt(n,"add",e,t),this}function Js(e){const t=Ne(this),{has:n,get:o}=mi(t);let l=n.call(t,e);l||(e=Ne(e),l=n.call(t,e)),o&&o.call(t,e);const i=t.delete(e);return l&&Wt(t,"delete",e,void 0),i}function Qs(){const e=Ne(this),t=e.size!==0,n=e.clear();return t&&Wt(e,"clear",void 0,void 0),n}function _l(e,t){return function(o,l){const i=this,r=i.__v_raw,s=Ne(r),u=t?ss:e?cs:jo;return!e&&st(s,"iterate",An),r.forEach((a,c)=>o.call(l,u(a),u(c),i))}}function wl(e,t,n){return function(...o){const l=this.__v_raw,i=Ne(l),r=lo(i),s=e==="entries"||e===Symbol.iterator&&r,u=e==="keys"&&r,a=l[e](...o),c=n?ss:t?cs:jo;return!t&&st(i,"iterate",u?wr:An),{next(){const{value:d,done:h}=a.next();return h?{value:d,done:h}:{value:s?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Qt(e){return function(...t){return e==="delete"?!1:this}}function up(){const e={get(i){return gl(this,i)},get size(){return yl(this)},has:vl,add:Zs,set:Ks,delete:Js,clear:Qs,forEach:_l(!1,!1)},t={get(i){return gl(this,i,!1,!0)},get size(){return yl(this)},has:vl,add:Zs,set:Ks,delete:Js,clear:Qs,forEach:_l(!1,!0)},n={get(i){return gl(this,i,!0)},get size(){return yl(this,!0)},has(i){return vl.call(this,i,!0)},add:Qt("add"),set:Qt("set"),delete:Qt("delete"),clear:Qt("clear"),forEach:_l(!0,!1)},o={get(i){return gl(this,i,!0,!0)},get size(){return yl(this,!0)},has(i){return vl.call(this,i,!0)},add:Qt("add"),set:Qt("set"),delete:Qt("delete"),clear:Qt("clear"),forEach:_l(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=wl(i,!1,!1),n[i]=wl(i,!0,!1),t[i]=wl(i,!1,!0),o[i]=wl(i,!0,!0)}),[e,n,t,o]}const[cp,dp,fp,pp]=up();function as(e,t){const n=t?e?pp:fp:e?dp:cp;return(o,l,i)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?o:Reflect.get(Pe(n,l)&&l in o?n:o,l,i)}const hp={get:as(!1,!1)},mp={get:as(!1,!0)},gp={get:as(!0,!1)},rc=new WeakMap,sc=new WeakMap,ac=new WeakMap,vp=new WeakMap;function yp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _p(e){return e.__v_skip||!Object.isExtensible(e)?0:yp(Bf(e))}function sl(e){return co(e)?e:us(e,!1,ic,hp,rc)}function wp(e){return us(e,!1,ap,mp,sc)}function gi(e){return us(e,!0,sp,gp,ac)}function us(e,t,n,o,l){if(!Re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=l.get(e);if(i)return i;const r=_p(e);if(r===0)return e;const s=new Proxy(e,r===2?o:n);return l.set(e,s),s}function fn(e){return co(e)?fn(e.__v_raw):!!(e&&e.__v_isReactive)}function co(e){return!!(e&&e.__v_isReadonly)}function Gl(e){return!!(e&&e.__v_isShallow)}function uc(e){return fn(e)||co(e)}function Ne(e){const t=e&&e.__v_raw;return t?Ne(t):e}function Bt(e){return Ul(e,"__v_skip",!0),e}const jo=e=>Re(e)?sl(e):e,cs=e=>Re(e)?gi(e):e;function ds(e){dn&&vt&&(e=Ne(e),nc(e.dep||(e.dep=ls())))}function fs(e,t){e=Ne(e);const n=e.dep;n&&br(n)}function He(e){return!!(e&&e.__v_isRef===!0)}function ne(e){return bp(e,!1)}function bp(e,t){return He(e)?e:new xp(e,t)}class xp{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ne(t),this._value=n?t:jo(t)}get value(){return ds(this),this._value}set value(t){const n=this.__v_isShallow||Gl(t)||co(t);t=n?t:Ne(t),Uo(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:jo(t),fs(this))}}function A(e){return He(e)?e.value:e}const $p={get:(e,t,n)=>A(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const l=e[t];return He(l)&&!He(n)?(l.value=n,!0):Reflect.set(e,t,n,o)}};function cc(e){return fn(e)?e:new Proxy(e,$p)}class Sp{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:o}=t(()=>ds(this),()=>fs(this));this._get=n,this._set=o}get value(){return this._get()}set value(t){this._set(t)}}function dc(e){return new Sp(e)}function fc(e){const t=_e(e)?new Array(e.length):{};for(const n in e)t[n]=pc(e,n);return t}class Ep{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Wf(Ne(this._object),this._key)}}class kp{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ye(e,t,n){return He(e)?e:$e(e)?new kp(e):Re(e)&&arguments.length>1?pc(e,t,n):ne(e)}function pc(e,t,n){const o=e[t];return He(o)?o:new Ep(e,t,n)}class Cp{constructor(t,n,o,l){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new is(t,()=>{this._dirty||(this._dirty=!0,fs(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const t=Ne(this);return ds(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Vp(e,t,n=!1){let o,l;const i=$e(e);return i?(o=e,l=xt):(o=e.get,l=e.set),new Cp(o,l,i||!l,n)}function pn(e,t,n,o){let l;try{l=o?e(...o):e()}catch(i){vi(i,t,n)}return l}function pt(e,t,n,o){if($e(e)){const i=pn(e,t,n,o);return i&&qu(i)&&i.catch(r=>{vi(r,t,n)}),i}const l=[];for(let i=0;i<e.length;i++)l.push(pt(e[i],t,n,o));return l}function vi(e,t,n,o=!0){const l=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,s=n;for(;i;){const a=i.ec;if(a){for(let c=0;c<a.length;c++)if(a[c](e,r,s)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){pn(u,null,10,[e,r,s]);return}}Tp(e,n,l,o)}function Tp(e,t,n,o=!0){console.error(e)}let Go=!1,xr=!1;const tt=[];let Mt=0;const io=[];let Ut=null,Vn=0;const hc=Promise.resolve();let ps=null;function et(e){const t=ps||hc;return e?t.then(this?e.bind(this):e):t}function Np(e){let t=Mt+1,n=tt.length;for(;t<n;){const o=t+n>>>1;Yo(tt[o])<e?t=o+1:n=o}return t}function hs(e){(!tt.length||!tt.includes(e,Go&&e.allowRecurse?Mt+1:Mt))&&(e.id==null?tt.push(e):tt.splice(Np(e.id),0,e),mc())}function mc(){!Go&&!xr&&(xr=!0,ps=hc.then(vc))}function Pp(e){const t=tt.indexOf(e);t>Mt&&tt.splice(t,1)}function Mp(e){_e(e)?io.push(...e):(!Ut||!Ut.includes(e,e.allowRecurse?Vn+1:Vn))&&io.push(e),mc()}function ea(e,t=Go?Mt+1:0){for(;t<tt.length;t++){const n=tt[t];n&&n.pre&&(tt.splice(t,1),t--,n())}}function gc(e){if(io.length){const t=[...new Set(io)];if(io.length=0,Ut){Ut.push(...t);return}for(Ut=t,Ut.sort((n,o)=>Yo(n)-Yo(o)),Vn=0;Vn<Ut.length;Vn++)Ut[Vn]();Ut=null,Vn=0}}const Yo=e=>e.id==null?1/0:e.id,Fp=(e,t)=>{const n=Yo(e)-Yo(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function vc(e){xr=!1,Go=!0,tt.sort(Fp);const t=xt;try{for(Mt=0;Mt<tt.length;Mt++){const n=tt[Mt];n&&n.active!==!1&&pn(n,null,14)}}finally{Mt=0,tt.length=0,gc(),Go=!1,ps=null,(tt.length||io.length)&&vc()}}function Bp(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Le;let l=n;const i=t.startsWith("update:"),r=i&&t.slice(7);if(r&&r in o){const c=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:h}=o[c]||Le;h&&(l=n.map(f=>je(f)?f.trim():f)),d&&(l=n.map(Of))}let s,u=o[s=Wi(t)]||o[s=Wi(Dt(t))];!u&&i&&(u=o[s=Wi(Gn(t))]),u&&pt(u,e,6,l);const a=o[s+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,pt(a,e,6,l)}}function yc(e,t,n=!1){const o=t.emitsCache,l=o.get(e);if(l!==void 0)return l;const i=e.emits;let r={},s=!1;if(!$e(e)){const u=a=>{const c=yc(a,t,!0);c&&(s=!0,Xe(r,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!s?(Re(e)&&o.set(e,null),null):(_e(i)?i.forEach(u=>r[u]=null):Xe(r,i),Re(e)&&o.set(e,r),r)}function yi(e,t){return!e||!ui(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,Gn(t))||Pe(e,t))}let Je=null,_i=null;function Yl(e){const t=Je;return Je=e,_i=e&&e.type.__scopeId||null,t}function Ap(e){_i=e}function Ip(){_i=null}const Op=e=>re;function re(e,t=Je,n){if(!t||e._n)return e;const o=(...l)=>{o._d&&pa(-1);const i=Yl(t);let r;try{r=e(...l)}finally{Yl(i),o._d&&pa(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function Ki(e){const{type:t,vnode:n,proxy:o,withProxy:l,props:i,propsOptions:[r],slots:s,attrs:u,emit:a,render:c,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=e;let g,_;const x=Yl(e);try{if(n.shapeFlag&4){const w=l||o;g=Pt(c.call(w,w,d,i,f,h,p)),_=u}else{const w=t;g=Pt(w.length>1?w(i,{attrs:u,slots:s,emit:a}):w(i,null)),_=t.props?u:Dp(u)}}catch(w){Bo.length=0,vi(w,e,1),g=B(mt)}let k=g;if(_&&m!==!1){const w=Object.keys(_),{shapeFlag:M}=k;w.length&&M&7&&(r&&w.some(es)&&(_=Rp(_,r)),k=_n(k,_))}return n.dirs&&(k=_n(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),g=k,Yl(x),g}const Dp=e=>{let t;for(const n in e)(n==="class"||n==="style"||ui(n))&&((t||(t={}))[n]=e[n]);return t},Rp=(e,t)=>{const n={};for(const o in e)(!es(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function zp(e,t,n){const{props:o,children:l,component:i}=e,{props:r,children:s,patchFlag:u}=t,a=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return o?ta(o,r,a):!!r;if(u&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(r[h]!==o[h]&&!yi(a,h))return!0}}}else return(l||s)&&(!s||!s.$stable)?!0:o===r?!1:o?r?ta(o,r,a):!0:!!r;return!1}function ta(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let l=0;l<o.length;l++){const i=o[l];if(t[i]!==e[i]&&!yi(n,i))return!0}return!1}function Lp({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Hp=e=>e.__isSuspense;function Up(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):Mp(e)}function na(e,t){return ms(e,null,t)}const bl={};function xe(e,t,n){return ms(e,t,n)}function ms(e,t,{immediate:n,deep:o,flush:l,onTrack:i,onTrigger:r}=Le){var s;const u=hi()===((s=Ze)==null?void 0:s.scope)?Ze:null;let a,c=!1,d=!1;if(He(e)?(a=()=>e.value,c=Gl(e)):fn(e)?(a=()=>e,o=!0):_e(e)?(d=!0,c=e.some(w=>fn(w)||Gl(w)),a=()=>e.map(w=>{if(He(w))return w.value;if(fn(w))return Mn(w);if($e(w))return pn(w,u,2)})):$e(e)?t?a=()=>pn(e,u,2):a=()=>{if(!(u&&u.isUnmounted))return h&&h(),pt(e,u,3,[f])}:a=xt,t&&o){const w=a;a=()=>Mn(w())}let h,f=w=>{h=x.onStop=()=>{pn(w,u,4)}},p;if(Wo)if(f=xt,t?n&&pt(t,u,3,[a(),d?[]:void 0,f]):a(),l==="sync"){const w=Bh();p=w.__watcherHandles||(w.__watcherHandles=[])}else return xt;let m=d?new Array(e.length).fill(bl):bl;const g=()=>{if(x.active)if(t){const w=x.run();(o||c||(d?w.some((M,b)=>Uo(M,m[b])):Uo(w,m)))&&(h&&h(),pt(t,u,3,[w,m===bl?void 0:d&&m[0]===bl?[]:m,f]),m=w)}else x.run()};g.allowRecurse=!!t;let _;l==="sync"?_=g:l==="post"?_=()=>lt(g,u&&u.suspense):(g.pre=!0,u&&(g.id=u.uid),_=()=>hs(g));const x=new is(a,_);t?n?g():m=x.run():l==="post"?lt(x.run.bind(x),u&&u.suspense):x.run();const k=()=>{x.stop(),u&&u.scope&&ts(u.scope.effects,x)};return p&&p.push(k),k}function jp(e,t,n){const o=this.proxy,l=je(e)?e.includes(".")?_c(o,e):()=>o[e]:e.bind(o,o);let i;$e(t)?i=t:(i=t.handler,n=t);const r=Ze;po(this);const s=ms(l,i.bind(o),n);return r?po(r):In(),s}function _c(e,t){const n=t.split(".");return()=>{let o=e;for(let l=0;l<n.length&&o;l++)o=o[n[l]];return o}}function Mn(e,t){if(!Re(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),He(e))Mn(e.value,t);else if(_e(e))for(let n=0;n<e.length;n++)Mn(e[n],t);else if(Yu(e)||lo(e))e.forEach(n=>{Mn(n,t)});else if(Wu(e))for(const n in e)Mn(e[n],t);return e}function fo(e,t){const n=Je;if(n===null)return e;const o=ki(n)||n.proxy,l=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,s,u,a=Le]=t[i];r&&($e(r)&&(r={mounted:r,updated:r}),r.deep&&Mn(s),l.push({dir:r,instance:o,value:s,oldValue:void 0,arg:u,modifiers:a}))}return e}function xn(e,t,n,o){const l=e.dirs,i=t&&t.dirs;for(let r=0;r<l.length;r++){const s=l[r];i&&(s.oldValue=i[r].value);let u=s.dir[o];u&&(_o(),pt(u,n,8,[e.el,s,e,t]),wo())}}function Gp(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return We(()=>{e.isMounted=!0}),xi(()=>{e.isUnmounting=!0}),e}const dt=[Function,Array],wc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:dt,onEnter:dt,onAfterEnter:dt,onEnterCancelled:dt,onBeforeLeave:dt,onLeave:dt,onAfterLeave:dt,onLeaveCancelled:dt,onBeforeAppear:dt,onAppear:dt,onAfterAppear:dt,onAppearCancelled:dt},Yp={name:"BaseTransition",props:wc,setup(e,{slots:t}){const n=bo(),o=Gp();let l;return()=>{const i=t.default&&xc(t.default(),!0);if(!i||!i.length)return;let r=i[0];if(i.length>1){for(const m of i)if(m.type!==mt){r=m;break}}const s=Ne(e),{mode:u}=s;if(o.isLeaving)return Ji(r);const a=oa(r);if(!a)return Ji(r);const c=$r(a,s,o,n);Sr(a,c);const d=n.subTree,h=d&&oa(d);let f=!1;const{getTransitionKey:p}=a.type;if(p){const m=p();l===void 0?l=m:m!==l&&(l=m,f=!0)}if(h&&h.type!==mt&&(!Tn(a,h)||f)){const m=$r(h,s,o,n);if(Sr(h,m),u==="out-in")return o.isLeaving=!0,m.afterLeave=()=>{o.isLeaving=!1,n.update.active!==!1&&n.update()},Ji(r);u==="in-out"&&a.type!==mt&&(m.delayLeave=(g,_,x)=>{const k=bc(o,h);k[String(h.key)]=h,g._leaveCb=()=>{_(),g._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=x})}return r}}},qp=Yp;function bc(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function $r(e,t,n,o){const{appear:l,mode:i,persisted:r=!1,onBeforeEnter:s,onEnter:u,onAfterEnter:a,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:_,onAppearCancelled:x}=t,k=String(e.key),w=bc(n,e),M=(C,L)=>{C&&pt(C,o,9,L)},b=(C,L)=>{const H=L[1];M(C,L),_e(C)?C.every(Q=>Q.length<=1)&&H():C.length<=1&&H()},z={mode:i,persisted:r,beforeEnter(C){let L=s;if(!n.isMounted)if(l)L=m||s;else return;C._leaveCb&&C._leaveCb(!0);const H=w[k];H&&Tn(e,H)&&H.el._leaveCb&&H.el._leaveCb(),M(L,[C])},enter(C){let L=u,H=a,Q=c;if(!n.isMounted)if(l)L=g||u,H=_||a,Q=x||c;else return;let G=!1;const le=C._enterCb=E=>{G||(G=!0,E?M(Q,[C]):M(H,[C]),z.delayedLeave&&z.delayedLeave(),C._enterCb=void 0)};L?b(L,[C,le]):le()},leave(C,L){const H=String(e.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return L();M(d,[C]);let Q=!1;const G=C._leaveCb=le=>{Q||(Q=!0,L(),le?M(p,[C]):M(f,[C]),C._leaveCb=void 0,w[H]===e&&delete w[H])};w[H]=e,h?b(h,[C,G]):G()},clone(C){return $r(C,t,n,o)}};return z}function Ji(e){if(wi(e))return e=_n(e),e.children=null,e}function oa(e){return wi(e)?e.children?e.children[0]:void 0:e}function Sr(e,t){e.shapeFlag&6&&e.component?Sr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function xc(e,t=!1,n){let o=[],l=0;for(let i=0;i<e.length;i++){let r=e[i];const s=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===Me?(r.patchFlag&128&&l++,o=o.concat(xc(r.children,t,s))):(t||r.type!==mt)&&o.push(s!=null?_n(r,{key:s}):r)}if(l>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function ce(e,t){return $e(e)?(()=>Xe({name:e.name},t,{setup:e}))():e}const Mo=e=>!!e.type.__asyncLoader,wi=e=>e.type.__isKeepAlive;function Xp(e,t){$c(e,"a",t)}function Wp(e,t){$c(e,"da",t)}function $c(e,t,n=Ze){const o=e.__wdc||(e.__wdc=()=>{let l=n;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(bi(t,o,n),n){let l=n.parent;for(;l&&l.parent;)wi(l.parent.vnode)&&Zp(o,t,n,l),l=l.parent}}function Zp(e,t,n,o){const l=bi(t,e,o,!0);gs(()=>{ts(o[t],l)},n)}function bi(e,t,n=Ze,o=!1){if(n){const l=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;_o(),po(n);const s=pt(t,n,e,r);return In(),wo(),s});return o?l.unshift(i):l.push(i),i}}const Kt=e=>(t,n=Ze)=>(!Wo||e==="sp")&&bi(e,(...o)=>t(...o),n),Sc=Kt("bm"),We=Kt("m"),Kp=Kt("bu"),Jp=Kt("u"),xi=Kt("bum"),gs=Kt("um"),Qp=Kt("sp"),eh=Kt("rtg"),th=Kt("rtc");function nh(e,t=Ze){bi("ec",e,t)}const vs="components",oh="directives";function zn(e,t){return ys(vs,e,!0,t)||e}const Ec=Symbol.for("v-ndc");function Qn(e){return je(e)?ys(vs,e,!1)||e:e||Ec}function $i(e){return ys(oh,e)}function ys(e,t,n=!0,o=!1){const l=Je||Ze;if(l){const i=l.type;if(e===vs){const s=Ph(i,!1);if(s&&(s===t||s===Dt(t)||s===fi(Dt(t))))return i}const r=la(l[e]||i[e],t)||la(l.appContext[e],t);return!r&&o?i:r}}function la(e,t){return e&&(e[t]||e[Dt(t)]||e[fi(Dt(t))])}function ht(e,t,n,o){let l;const i=n&&n[o];if(_e(e)||je(e)){l=new Array(e.length);for(let r=0,s=e.length;r<s;r++)l[r]=t(e[r],r,void 0,i&&i[r])}else if(typeof e=="number"){l=new Array(e);for(let r=0;r<e;r++)l[r]=t(r+1,r,void 0,i&&i[r])}else if(Re(e))if(e[Symbol.iterator])l=Array.from(e,(r,s)=>t(r,s,void 0,i&&i[s]));else{const r=Object.keys(e);l=new Array(r.length);for(let s=0,u=r.length;s<u;s++){const a=r[s];l[s]=t(e[a],a,s,i&&i[s])}}else l=[];return n&&(n[o]=l),l}function Ee(e,t,n={},o,l){if(Je.isCE||Je.parent&&Mo(Je.parent)&&Je.parent.isCE)return t!=="default"&&(n.name=t),B("slot",n,o&&o());let i=e[t];i&&i._c&&(i._d=!1),F();const r=i&&kc(i(n)),s=he(Me,{key:n.key||r&&r.key||`_${t}`},r||(o?o():[]),r&&e._===1?64:-2);return!l&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function kc(e){return e.some(t=>Xl(t)?!(t.type===mt||t.type===Me&&!kc(t.children)):!0)?e:null}const Er=e=>e?Rc(e)?ki(e)||e.proxy:Er(e.parent):null,Fo=Xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Er(e.parent),$root:e=>Er(e.root),$emit:e=>e.emit,$options:e=>ws(e),$forceUpdate:e=>e.f||(e.f=()=>hs(e.update)),$nextTick:e=>e.n||(e.n=et.bind(e.proxy)),$watch:e=>jp.bind(e)}),Qi=(e,t)=>e!==Le&&!e.__isScriptSetup&&Pe(e,t),lh={get({_:e},t){const{ctx:n,setupState:o,data:l,props:i,accessCache:r,type:s,appContext:u}=e;let a;if(t[0]!=="$"){const f=r[t];if(f!==void 0)switch(f){case 1:return o[t];case 2:return l[t];case 4:return n[t];case 3:return i[t]}else{if(Qi(o,t))return r[t]=1,o[t];if(l!==Le&&Pe(l,t))return r[t]=2,l[t];if((a=e.propsOptions[0])&&Pe(a,t))return r[t]=3,i[t];if(n!==Le&&Pe(n,t))return r[t]=4,n[t];kr&&(r[t]=0)}}const c=Fo[t];let d,h;if(c)return t==="$attrs"&&st(e,"get",t),c(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(n!==Le&&Pe(n,t))return r[t]=4,n[t];if(h=u.config.globalProperties,Pe(h,t))return h[t]},set({_:e},t,n){const{data:o,setupState:l,ctx:i}=e;return Qi(l,t)?(l[t]=n,!0):o!==Le&&Pe(o,t)?(o[t]=n,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:l,propsOptions:i}},r){let s;return!!n[r]||e!==Le&&Pe(e,r)||Qi(t,r)||(s=i[0])&&Pe(s,r)||Pe(o,r)||Pe(Fo,r)||Pe(l.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _s(){return Cc().slots}function ih(){return Cc().attrs}function Cc(){const e=bo();return e.setupContext||(e.setupContext=Lc(e))}function ia(e){return _e(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let kr=!0;function rh(e){const t=ws(e),n=e.proxy,o=e.ctx;kr=!1,t.beforeCreate&&ra(t.beforeCreate,e,"bc");const{data:l,computed:i,methods:r,watch:s,provide:u,inject:a,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:g,beforeDestroy:_,beforeUnmount:x,destroyed:k,unmounted:w,render:M,renderTracked:b,renderTriggered:z,errorCaptured:C,serverPrefetch:L,expose:H,inheritAttrs:Q,components:G,directives:le,filters:E}=t;if(a&&sh(a,o,null),r)for(const O in r){const I=r[O];$e(I)&&(o[O]=I.bind(n))}if(l){const O=l.call(n,n);Re(O)&&(e.data=sl(O))}if(kr=!0,i)for(const O in i){const I=i[O],T=$e(I)?I.bind(n,n):$e(I.get)?I.get.bind(n,n):xt,R=!$e(I)&&$e(I.set)?I.set.bind(n):xt,Y=W({get:T,set:R});Object.defineProperty(o,O,{enumerable:!0,configurable:!0,get:()=>Y.value,set:j=>Y.value=j})}if(s)for(const O in s)Vc(s[O],o,n,O);if(u){const O=$e(u)?u.call(n):u;Reflect.ownKeys(O).forEach(I=>{Ln(I,O[I])})}c&&ra(c,e,"c");function V(O,I){_e(I)?I.forEach(T=>O(T.bind(n))):I&&O(I.bind(n))}if(V(Sc,d),V(We,h),V(Kp,f),V(Jp,p),V(Xp,m),V(Wp,g),V(nh,C),V(th,b),V(eh,z),V(xi,x),V(gs,w),V(Qp,L),_e(H))if(H.length){const O=e.exposed||(e.exposed={});H.forEach(I=>{Object.defineProperty(O,I,{get:()=>n[I],set:T=>n[I]=T})})}else e.exposed||(e.exposed={});M&&e.render===xt&&(e.render=M),Q!=null&&(e.inheritAttrs=Q),G&&(e.components=G),le&&(e.directives=le)}function sh(e,t,n=xt){_e(e)&&(e=Cr(e));for(const o in e){const l=e[o];let i;Re(l)?"default"in l?i=$t(l.from||o,l.default,!0):i=$t(l.from||o):i=$t(l),He(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function ra(e,t,n){pt(_e(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Vc(e,t,n,o){const l=o.includes(".")?_c(n,o):()=>n[o];if(je(e)){const i=t[e];$e(i)&&xe(l,i)}else if($e(e))xe(l,e.bind(n));else if(Re(e))if(_e(e))e.forEach(i=>Vc(i,t,n,o));else{const i=$e(e.handler)?e.handler.bind(n):t[e.handler];$e(i)&&xe(l,i,e)}}function ws(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:l,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,s=i.get(t);let u;return s?u=s:!l.length&&!n&&!o?u=t:(u={},l.length&&l.forEach(a=>ql(u,a,r,!0)),ql(u,t,r)),Re(t)&&i.set(t,u),u}function ql(e,t,n,o=!1){const{mixins:l,extends:i}=t;i&&ql(e,i,n,!0),l&&l.forEach(r=>ql(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const s=ah[r]||n&&n[r];e[r]=s?s(e[r],t[r]):t[r]}return e}const ah={data:sa,props:aa,emits:aa,methods:Vo,computed:Vo,beforeCreate:ot,created:ot,beforeMount:ot,mounted:ot,beforeUpdate:ot,updated:ot,beforeDestroy:ot,beforeUnmount:ot,destroyed:ot,unmounted:ot,activated:ot,deactivated:ot,errorCaptured:ot,serverPrefetch:ot,components:Vo,directives:Vo,watch:ch,provide:sa,inject:uh};function sa(e,t){return t?e?function(){return Xe($e(e)?e.call(this,this):e,$e(t)?t.call(this,this):t)}:t:e}function uh(e,t){return Vo(Cr(e),Cr(t))}function Cr(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ot(e,t){return e?[...new Set([].concat(e,t))]:t}function Vo(e,t){return e?Xe(Object.create(null),e,t):t}function aa(e,t){return e?_e(e)&&_e(t)?[...new Set([...e,...t])]:Xe(Object.create(null),ia(e),ia(t??{})):t}function ch(e,t){if(!e)return t;if(!t)return e;const n=Xe(Object.create(null),e);for(const o in t)n[o]=ot(e[o],t[o]);return n}function Tc(){return{app:null,config:{isNativeTag:Pf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dh=0;function fh(e,t){return function(o,l=null){$e(o)||(o=Xe({},o)),l!=null&&!Re(l)&&(l=null);const i=Tc(),r=new Set;let s=!1;const u=i.app={_uid:dh++,_component:o,_props:l,_container:null,_context:i,_instance:null,version:Ah,get config(){return i.config},set config(a){},use(a,...c){return r.has(a)||(a&&$e(a.install)?(r.add(a),a.install(u,...c)):$e(a)&&(r.add(a),a(u,...c))),u},mixin(a){return i.mixins.includes(a)||i.mixins.push(a),u},component(a,c){return c?(i.components[a]=c,u):i.components[a]},directive(a,c){return c?(i.directives[a]=c,u):i.directives[a]},mount(a,c,d){if(!s){const h=B(o,l);return h.appContext=i,c&&t?t(h,a):e(h,a,d),s=!0,u._container=a,a.__vue_app__=u,ki(h.component)||h.component.proxy}},unmount(){s&&(e(null,u._container),delete u._container.__vue_app__)},provide(a,c){return i.provides[a]=c,u},runWithContext(a){qo=u;try{return a()}finally{qo=null}}};return u}}let qo=null;function Ln(e,t){if(Ze){let n=Ze.provides;const o=Ze.parent&&Ze.parent.provides;o===n&&(n=Ze.provides=Object.create(o)),n[e]=t}}function $t(e,t,n=!1){const o=Ze||Je;if(o||qo){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:qo._context.provides;if(l&&e in l)return l[e];if(arguments.length>1)return n&&$e(t)?t.call(o&&o.proxy):t}}function ph(){return!!(Ze||Je||qo)}function hh(e,t,n,o=!1){const l={},i={};Ul(i,Ei,1),e.propsDefaults=Object.create(null),Nc(e,t,l,i);for(const r in e.propsOptions[0])r in l||(l[r]=void 0);n?e.props=o?l:wp(l):e.type.props?e.props=l:e.props=i,e.attrs=i}function mh(e,t,n,o){const{props:l,attrs:i,vnode:{patchFlag:r}}=e,s=Ne(l),[u]=e.propsOptions;let a=!1;if((o||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(yi(e.emitsOptions,h))continue;const f=t[h];if(u)if(Pe(i,h))f!==i[h]&&(i[h]=f,a=!0);else{const p=Dt(h);l[p]=Vr(u,s,p,f,e,!1)}else f!==i[h]&&(i[h]=f,a=!0)}}}else{Nc(e,t,l,i)&&(a=!0);let c;for(const d in s)(!t||!Pe(t,d)&&((c=Gn(d))===d||!Pe(t,c)))&&(u?n&&(n[d]!==void 0||n[c]!==void 0)&&(l[d]=Vr(u,s,d,void 0,e,!0)):delete l[d]);if(i!==s)for(const d in i)(!t||!Pe(t,d))&&(delete i[d],a=!0)}a&&Wt(e,"set","$attrs")}function Nc(e,t,n,o){const[l,i]=e.propsOptions;let r=!1,s;if(t)for(let u in t){if(Bl(u))continue;const a=t[u];let c;l&&Pe(l,c=Dt(u))?!i||!i.includes(c)?n[c]=a:(s||(s={}))[c]=a:yi(e.emitsOptions,u)||(!(u in o)||a!==o[u])&&(o[u]=a,r=!0)}if(i){const u=Ne(n),a=s||Le;for(let c=0;c<i.length;c++){const d=i[c];n[d]=Vr(l,u,d,a[d],e,!Pe(a,d))}}return r}function Vr(e,t,n,o,l,i){const r=e[n];if(r!=null){const s=Pe(r,"default");if(s&&o===void 0){const u=r.default;if(r.type!==Function&&!r.skipFactory&&$e(u)){const{propsDefaults:a}=l;n in a?o=a[n]:(po(l),o=a[n]=u.call(null,t),In())}else o=u}r[0]&&(i&&!s?o=!1:r[1]&&(o===""||o===Gn(n))&&(o=!0))}return o}function Pc(e,t,n=!1){const o=t.propsCache,l=o.get(e);if(l)return l;const i=e.props,r={},s=[];let u=!1;if(!$e(e)){const c=d=>{u=!0;const[h,f]=Pc(d,t,!0);Xe(r,h),f&&s.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!u)return Re(e)&&o.set(e,oo),oo;if(_e(i))for(let c=0;c<i.length;c++){const d=Dt(i[c]);ua(d)&&(r[d]=Le)}else if(i)for(const c in i){const d=Dt(c);if(ua(d)){const h=i[c],f=r[d]=_e(h)||$e(h)?{type:h}:Xe({},h);if(f){const p=fa(Boolean,f.type),m=fa(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||Pe(f,"default"))&&s.push(d)}}}const a=[r,s];return Re(e)&&o.set(e,a),a}function ua(e){return e[0]!=="$"}function ca(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function da(e,t){return ca(e)===ca(t)}function fa(e,t){return _e(t)?t.findIndex(n=>da(n,e)):$e(t)&&da(t,e)?0:-1}const Mc=e=>e[0]==="_"||e==="$stable",bs=e=>_e(e)?e.map(Pt):[Pt(e)],gh=(e,t,n)=>{if(t._n)return t;const o=re((...l)=>bs(t(...l)),n);return o._c=!1,o},Fc=(e,t,n)=>{const o=e._ctx;for(const l in e){if(Mc(l))continue;const i=e[l];if($e(i))t[l]=gh(l,i,o);else if(i!=null){const r=bs(i);t[l]=()=>r}}},Bc=(e,t)=>{const n=bs(t);e.slots.default=()=>n},vh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ne(t),Ul(t,"_",n)):Fc(t,e.slots={})}else e.slots={},t&&Bc(e,t);Ul(e.slots,Ei,1)},yh=(e,t,n)=>{const{vnode:o,slots:l}=e;let i=!0,r=Le;if(o.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:(Xe(l,t),!n&&s===1&&delete l._):(i=!t.$stable,Fc(t,l)),r=t}else t&&(Bc(e,t),r={default:1});if(i)for(const s in l)!Mc(s)&&!(s in r)&&delete l[s]};function Tr(e,t,n,o,l=!1){if(_e(e)){e.forEach((h,f)=>Tr(h,t&&(_e(t)?t[f]:t),n,o,l));return}if(Mo(o)&&!l)return;const i=o.shapeFlag&4?ki(o.component)||o.component.proxy:o.el,r=l?null:i,{i:s,r:u}=e,a=t&&t.r,c=s.refs===Le?s.refs={}:s.refs,d=s.setupState;if(a!=null&&a!==u&&(je(a)?(c[a]=null,Pe(d,a)&&(d[a]=null)):He(a)&&(a.value=null)),$e(u))pn(u,s,12,[r,c]);else{const h=je(u),f=He(u);if(h||f){const p=()=>{if(e.f){const m=h?Pe(d,u)?d[u]:c[u]:u.value;l?_e(m)&&ts(m,i):_e(m)?m.includes(i)||m.push(i):h?(c[u]=[i],Pe(d,u)&&(d[u]=c[u])):(u.value=[i],e.k&&(c[e.k]=u.value))}else h?(c[u]=r,Pe(d,u)&&(d[u]=r)):f&&(u.value=r,e.k&&(c[e.k]=r))};r?(p.id=-1,lt(p,n)):p()}}}const lt=Up;function _h(e){return wh(e)}function wh(e,t){const n=yr();n.__VUE__=!0;const{insert:o,remove:l,patchProp:i,createElement:r,createText:s,createComment:u,setText:a,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=xt,insertStaticContent:p}=e,m=(y,v,$,N=null,S=null,U=null,Z=!1,J=null,oe=!!v.dynamicChildren)=>{if(y===v)return;y&&!Tn(y,v)&&(N=ie(y),j(y,S,U,!0),y=null),v.patchFlag===-2&&(oe=!1,v.dynamicChildren=null);const{type:te,ref:ge,shapeFlag:pe}=v;switch(te){case Si:g(y,v,$,N);break;case mt:_(y,v,$,N);break;case Al:y==null&&x(v,$,N,Z);break;case Me:G(y,v,$,N,S,U,Z,J,oe);break;default:pe&1?M(y,v,$,N,S,U,Z,J,oe):pe&6?le(y,v,$,N,S,U,Z,J,oe):(pe&64||pe&128)&&te.process(y,v,$,N,S,U,Z,J,oe,Se)}ge!=null&&S&&Tr(ge,y&&y.ref,U,v||y,!v)},g=(y,v,$,N)=>{if(y==null)o(v.el=s(v.children),$,N);else{const S=v.el=y.el;v.children!==y.children&&a(S,v.children)}},_=(y,v,$,N)=>{y==null?o(v.el=u(v.children||""),$,N):v.el=y.el},x=(y,v,$,N)=>{[y.el,y.anchor]=p(y.children,v,$,N,y.el,y.anchor)},k=({el:y,anchor:v},$,N)=>{let S;for(;y&&y!==v;)S=h(y),o(y,$,N),y=S;o(v,$,N)},w=({el:y,anchor:v})=>{let $;for(;y&&y!==v;)$=h(y),l(y),y=$;l(v)},M=(y,v,$,N,S,U,Z,J,oe)=>{Z=Z||v.type==="svg",y==null?b(v,$,N,S,U,Z,J,oe):L(y,v,S,U,Z,J,oe)},b=(y,v,$,N,S,U,Z,J)=>{let oe,te;const{type:ge,props:pe,shapeFlag:ye,transition:be,dirs:ke}=y;if(oe=y.el=r(y.type,U,pe&&pe.is,pe),ye&8?c(oe,y.children):ye&16&&C(y.children,oe,null,N,S,U&&ge!=="foreignObject",Z,J),ke&&xn(y,null,N,"created"),z(oe,y,y.scopeId,Z,N),pe){for(const Ie in pe)Ie!=="value"&&!Bl(Ie)&&i(oe,Ie,null,pe[Ie],U,y.children,N,S,se);"value"in pe&&i(oe,"value",null,pe.value),(te=pe.onVnodeBeforeMount)&&Ct(te,N,y)}ke&&xn(y,null,N,"beforeMount");const Oe=(!S||S&&!S.pendingBranch)&&be&&!be.persisted;Oe&&be.beforeEnter(oe),o(oe,v,$),((te=pe&&pe.onVnodeMounted)||Oe||ke)&&lt(()=>{te&&Ct(te,N,y),Oe&&be.enter(oe),ke&&xn(y,null,N,"mounted")},S)},z=(y,v,$,N,S)=>{if($&&f(y,$),N)for(let U=0;U<N.length;U++)f(y,N[U]);if(S){let U=S.subTree;if(v===U){const Z=S.vnode;z(y,Z,Z.scopeId,Z.slotScopeIds,S.parent)}}},C=(y,v,$,N,S,U,Z,J,oe=0)=>{for(let te=oe;te<y.length;te++){const ge=y[te]=J?an(y[te]):Pt(y[te]);m(null,ge,v,$,N,S,U,Z,J)}},L=(y,v,$,N,S,U,Z)=>{const J=v.el=y.el;let{patchFlag:oe,dynamicChildren:te,dirs:ge}=v;oe|=y.patchFlag&16;const pe=y.props||Le,ye=v.props||Le;let be;$&&$n($,!1),(be=ye.onVnodeBeforeUpdate)&&Ct(be,$,v,y),ge&&xn(v,y,$,"beforeUpdate"),$&&$n($,!0);const ke=S&&v.type!=="foreignObject";if(te?H(y.dynamicChildren,te,J,$,N,ke,U):Z||I(y,v,J,null,$,N,ke,U,!1),oe>0){if(oe&16)Q(J,v,pe,ye,$,N,S);else if(oe&2&&pe.class!==ye.class&&i(J,"class",null,ye.class,S),oe&4&&i(J,"style",pe.style,ye.style,S),oe&8){const Oe=v.dynamicProps;for(let Ie=0;Ie<Oe.length;Ie++){const qe=Oe[Ie],gt=pe[qe],Xn=ye[qe];(Xn!==gt||qe==="value")&&i(J,qe,gt,Xn,S,y.children,$,N,se)}}oe&1&&y.children!==v.children&&c(J,v.children)}else!Z&&te==null&&Q(J,v,pe,ye,$,N,S);((be=ye.onVnodeUpdated)||ge)&&lt(()=>{be&&Ct(be,$,v,y),ge&&xn(v,y,$,"updated")},N)},H=(y,v,$,N,S,U,Z)=>{for(let J=0;J<v.length;J++){const oe=y[J],te=v[J],ge=oe.el&&(oe.type===Me||!Tn(oe,te)||oe.shapeFlag&70)?d(oe.el):$;m(oe,te,ge,null,N,S,U,Z,!0)}},Q=(y,v,$,N,S,U,Z)=>{if($!==N){if($!==Le)for(const J in $)!Bl(J)&&!(J in N)&&i(y,J,$[J],null,Z,v.children,S,U,se);for(const J in N){if(Bl(J))continue;const oe=N[J],te=$[J];oe!==te&&J!=="value"&&i(y,J,te,oe,Z,v.children,S,U,se)}"value"in N&&i(y,"value",$.value,N.value)}},G=(y,v,$,N,S,U,Z,J,oe)=>{const te=v.el=y?y.el:s(""),ge=v.anchor=y?y.anchor:s("");let{patchFlag:pe,dynamicChildren:ye,slotScopeIds:be}=v;be&&(J=J?J.concat(be):be),y==null?(o(te,$,N),o(ge,$,N),C(v.children,$,ge,S,U,Z,J,oe)):pe>0&&pe&64&&ye&&y.dynamicChildren?(H(y.dynamicChildren,ye,$,S,U,Z,J),(v.key!=null||S&&v===S.subTree)&&Ac(y,v,!0)):I(y,v,$,ge,S,U,Z,J,oe)},le=(y,v,$,N,S,U,Z,J,oe)=>{v.slotScopeIds=J,y==null?v.shapeFlag&512?S.ctx.activate(v,$,N,Z,oe):E(v,$,N,S,U,Z,oe):X(y,v,oe)},E=(y,v,$,N,S,U,Z)=>{const J=y.component=Ch(y,N,S);if(wi(y)&&(J.ctx.renderer=Se),Vh(J),J.asyncDep){if(S&&S.registerDep(J,V),!y.el){const oe=J.subTree=B(mt);_(null,oe,v,$)}return}V(J,y,v,$,S,U,Z)},X=(y,v,$)=>{const N=v.component=y.component;if(zp(y,v,$))if(N.asyncDep&&!N.asyncResolved){O(N,v,$);return}else N.next=v,Pp(N.update),N.update();else v.el=y.el,N.vnode=v},V=(y,v,$,N,S,U,Z)=>{const J=()=>{if(y.isMounted){let{next:ge,bu:pe,u:ye,parent:be,vnode:ke}=y,Oe=ge,Ie;$n(y,!1),ge?(ge.el=ke.el,O(y,ge,Z)):ge=ke,pe&&Zi(pe),(Ie=ge.props&&ge.props.onVnodeBeforeUpdate)&&Ct(Ie,be,ge,ke),$n(y,!0);const qe=Ki(y),gt=y.subTree;y.subTree=qe,m(gt,qe,d(gt.el),ie(gt),y,S,U),ge.el=qe.el,Oe===null&&Lp(y,qe.el),ye&&lt(ye,S),(Ie=ge.props&&ge.props.onVnodeUpdated)&&lt(()=>Ct(Ie,be,ge,ke),S)}else{let ge;const{el:pe,props:ye}=v,{bm:be,m:ke,parent:Oe}=y,Ie=Mo(v);if($n(y,!1),be&&Zi(be),!Ie&&(ge=ye&&ye.onVnodeBeforeMount)&&Ct(ge,Oe,v),$n(y,!0),pe&&D){const qe=()=>{y.subTree=Ki(y),D(pe,y.subTree,y,S,null)};Ie?v.type.__asyncLoader().then(()=>!y.isUnmounted&&qe()):qe()}else{const qe=y.subTree=Ki(y);m(null,qe,$,N,y,S,U),v.el=qe.el}if(ke&&lt(ke,S),!Ie&&(ge=ye&&ye.onVnodeMounted)){const qe=v;lt(()=>Ct(ge,Oe,qe),S)}(v.shapeFlag&256||Oe&&Mo(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&y.a&&lt(y.a,S),y.isMounted=!0,v=$=N=null}},oe=y.effect=new is(J,()=>hs(te),y.scope),te=y.update=()=>oe.run();te.id=y.uid,$n(y,!0),te()},O=(y,v,$)=>{v.component=y;const N=y.vnode.props;y.vnode=v,y.next=null,mh(y,v.props,N,$),yh(y,v.children,$),_o(),ea(),wo()},I=(y,v,$,N,S,U,Z,J,oe=!1)=>{const te=y&&y.children,ge=y?y.shapeFlag:0,pe=v.children,{patchFlag:ye,shapeFlag:be}=v;if(ye>0){if(ye&128){R(te,pe,$,N,S,U,Z,J,oe);return}else if(ye&256){T(te,pe,$,N,S,U,Z,J,oe);return}}be&8?(ge&16&&se(te,S,U),pe!==te&&c($,pe)):ge&16?be&16?R(te,pe,$,N,S,U,Z,J,oe):se(te,S,U,!0):(ge&8&&c($,""),be&16&&C(pe,$,N,S,U,Z,J,oe))},T=(y,v,$,N,S,U,Z,J,oe)=>{y=y||oo,v=v||oo;const te=y.length,ge=v.length,pe=Math.min(te,ge);let ye;for(ye=0;ye<pe;ye++){const be=v[ye]=oe?an(v[ye]):Pt(v[ye]);m(y[ye],be,$,null,S,U,Z,J,oe)}te>ge?se(y,S,U,!0,!1,pe):C(v,$,N,S,U,Z,J,oe,pe)},R=(y,v,$,N,S,U,Z,J,oe)=>{let te=0;const ge=v.length;let pe=y.length-1,ye=ge-1;for(;te<=pe&&te<=ye;){const be=y[te],ke=v[te]=oe?an(v[te]):Pt(v[te]);if(Tn(be,ke))m(be,ke,$,null,S,U,Z,J,oe);else break;te++}for(;te<=pe&&te<=ye;){const be=y[pe],ke=v[ye]=oe?an(v[ye]):Pt(v[ye]);if(Tn(be,ke))m(be,ke,$,null,S,U,Z,J,oe);else break;pe--,ye--}if(te>pe){if(te<=ye){const be=ye+1,ke=be<ge?v[be].el:N;for(;te<=ye;)m(null,v[te]=oe?an(v[te]):Pt(v[te]),$,ke,S,U,Z,J,oe),te++}}else if(te>ye)for(;te<=pe;)j(y[te],S,U,!0),te++;else{const be=te,ke=te,Oe=new Map;for(te=ke;te<=ye;te++){const at=v[te]=oe?an(v[te]):Pt(v[te]);at.key!=null&&Oe.set(at.key,te)}let Ie,qe=0;const gt=ye-ke+1;let Xn=!1,Us=0;const xo=new Array(gt);for(te=0;te<gt;te++)xo[te]=0;for(te=be;te<=pe;te++){const at=y[te];if(qe>=gt){j(at,S,U,!0);continue}let kt;if(at.key!=null)kt=Oe.get(at.key);else for(Ie=ke;Ie<=ye;Ie++)if(xo[Ie-ke]===0&&Tn(at,v[Ie])){kt=Ie;break}kt===void 0?j(at,S,U,!0):(xo[kt-ke]=te+1,kt>=Us?Us=kt:Xn=!0,m(at,v[kt],$,null,S,U,Z,J,oe),qe++)}const js=Xn?bh(xo):oo;for(Ie=js.length-1,te=gt-1;te>=0;te--){const at=ke+te,kt=v[at],Gs=at+1<ge?v[at+1].el:N;xo[te]===0?m(null,kt,$,Gs,S,U,Z,J,oe):Xn&&(Ie<0||te!==js[Ie]?Y(kt,$,Gs,2):Ie--)}}},Y=(y,v,$,N,S=null)=>{const{el:U,type:Z,transition:J,children:oe,shapeFlag:te}=y;if(te&6){Y(y.component.subTree,v,$,N);return}if(te&128){y.suspense.move(v,$,N);return}if(te&64){Z.move(y,v,$,Se);return}if(Z===Me){o(U,v,$);for(let pe=0;pe<oe.length;pe++)Y(oe[pe],v,$,N);o(y.anchor,v,$);return}if(Z===Al){k(y,v,$);return}if(N!==2&&te&1&&J)if(N===0)J.beforeEnter(U),o(U,v,$),lt(()=>J.enter(U),S);else{const{leave:pe,delayLeave:ye,afterLeave:be}=J,ke=()=>o(U,v,$),Oe=()=>{pe(U,()=>{ke(),be&&be()})};ye?ye(U,ke,Oe):Oe()}else o(U,v,$)},j=(y,v,$,N=!1,S=!1)=>{const{type:U,props:Z,ref:J,children:oe,dynamicChildren:te,shapeFlag:ge,patchFlag:pe,dirs:ye}=y;if(J!=null&&Tr(J,null,$,y,!0),ge&256){v.ctx.deactivate(y);return}const be=ge&1&&ye,ke=!Mo(y);let Oe;if(ke&&(Oe=Z&&Z.onVnodeBeforeUnmount)&&Ct(Oe,v,y),ge&6)ee(y.component,$,N);else{if(ge&128){y.suspense.unmount($,N);return}be&&xn(y,null,v,"beforeUnmount"),ge&64?y.type.remove(y,v,$,S,Se,N):te&&(U!==Me||pe>0&&pe&64)?se(te,v,$,!1,!0):(U===Me&&pe&384||!S&&ge&16)&&se(oe,v,$),N&&ae(y)}(ke&&(Oe=Z&&Z.onVnodeUnmounted)||be)&&lt(()=>{Oe&&Ct(Oe,v,y),be&&xn(y,null,v,"unmounted")},$)},ae=y=>{const{type:v,el:$,anchor:N,transition:S}=y;if(v===Me){fe($,N);return}if(v===Al){w(y);return}const U=()=>{l($),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(y.shapeFlag&1&&S&&!S.persisted){const{leave:Z,delayLeave:J}=S,oe=()=>Z($,U);J?J(y.el,U,oe):oe()}else U()},fe=(y,v)=>{let $;for(;y!==v;)$=h(y),l(y),y=$;l(v)},ee=(y,v,$)=>{const{bum:N,scope:S,update:U,subTree:Z,um:J}=y;N&&Zi(N),S.stop(),U&&(U.active=!1,j(Z,y,v,$)),J&&lt(J,v),lt(()=>{y.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},se=(y,v,$,N=!1,S=!1,U=0)=>{for(let Z=U;Z<y.length;Z++)j(y[Z],v,$,N,S)},ie=y=>y.shapeFlag&6?ie(y.component.subTree):y.shapeFlag&128?y.suspense.next():h(y.anchor||y.el),de=(y,v,$)=>{y==null?v._vnode&&j(v._vnode,null,null,!0):m(v._vnode||null,y,v,null,null,null,$),ea(),gc(),v._vnode=y},Se={p:m,um:j,m:Y,r:ae,mt:E,mc:C,pc:I,pbc:H,n:ie,o:e};let P,D;return t&&([P,D]=t(Se)),{render:de,hydrate:P,createApp:fh(de,P)}}function $n({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Ac(e,t,n=!1){const o=e.children,l=t.children;if(_e(o)&&_e(l))for(let i=0;i<o.length;i++){const r=o[i];let s=l[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=l[i]=an(l[i]),s.el=r.el),n||Ac(r,s)),s.type===Si&&(s.el=r.el)}}function bh(e){const t=e.slice(),n=[0];let o,l,i,r,s;const u=e.length;for(o=0;o<u;o++){const a=e[o];if(a!==0){if(l=n[n.length-1],e[l]<a){t[o]=l,n.push(o);continue}for(i=0,r=n.length-1;i<r;)s=i+r>>1,e[n[s]]<a?i=s+1:r=s;a<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}const xh=e=>e.__isTeleport,Me=Symbol.for("v-fgt"),Si=Symbol.for("v-txt"),mt=Symbol.for("v-cmt"),Al=Symbol.for("v-stc"),Bo=[];let bt=null;function F(e=!1){Bo.push(bt=e?null:[])}function $h(){Bo.pop(),bt=Bo[Bo.length-1]||null}let Xo=1;function pa(e){Xo+=e}function Ic(e){return e.dynamicChildren=Xo>0?bt||oo:null,$h(),Xo>0&&bt&&bt.push(e),e}function K(e,t,n,o,l,i){return Ic(q(e,t,n,o,l,i,!0))}function he(e,t,n,o,l){return Ic(B(e,t,n,o,l,!0))}function Xl(e){return e?e.__v_isVNode===!0:!1}function Tn(e,t){return e.type===t.type&&e.key===t.key}const Ei="__vInternal",Oc=({key:e})=>e??null,Il=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||He(e)||$e(e)?{i:Je,r:e,k:t,f:!!n}:e:null);function q(e,t=null,n=null,o=0,l=null,i=e===Me?0:1,r=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Oc(t),ref:t&&Il(t),scopeId:_i,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Je};return s?(xs(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=je(n)?8:16),Xo>0&&!r&&bt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&bt.push(u),u}const B=Sh;function Sh(e,t=null,n=null,o=0,l=null,i=!1){if((!e||e===Ec)&&(e=mt),Xl(e)){const s=_n(e,t,!0);return n&&xs(s,n),Xo>0&&!i&&bt&&(s.shapeFlag&6?bt[bt.indexOf(e)]=s:bt.push(s)),s.patchFlag|=-2,s}if(Mh(e)&&(e=e.__vccOpts),t){t=Dc(t);let{class:s,style:u}=t;s&&!je(s)&&(t.class=we(s)),Re(u)&&(uc(u)&&!_e(u)&&(u=Xe({},u)),t.style=Ae(u))}const r=je(e)?1:Hp(e)?128:xh(e)?64:Re(e)?4:$e(e)?2:0;return q(e,t,n,o,l,r,i,!0)}function Dc(e){return e?uc(e)||Ei in e?Xe({},e):e:null}function _n(e,t,n=!1){const{props:o,ref:l,patchFlag:i,children:r}=e,s=t?Vt(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Oc(s),ref:t&&t.ref?n&&l?_e(l)?l.concat(Il(t)):[l,Il(t)]:Il(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_n(e.ssContent),ssFallback:e.ssFallback&&_n(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function al(e=" ",t=0){return B(Si,null,e,t)}function nt(e,t){const n=B(Al,null,e);return n.staticCount=t,n}function me(e="",t=!1){return t?(F(),he(mt,null,e)):B(mt,null,e)}function Pt(e){return e==null||typeof e=="boolean"?B(mt):_e(e)?B(Me,null,e.slice()):typeof e=="object"?an(e):B(Si,null,String(e))}function an(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_n(e)}function xs(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(o&65){const l=t.default;l&&(l._c&&(l._d=!1),xs(e,l()),l._c&&(l._d=!0));return}else{n=32;const l=t._;!l&&!(Ei in t)?t._ctx=Je:l===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else $e(t)?(t={default:t,_ctx:Je},n=32):(t=String(t),o&64?(n=16,t=[al(t)]):n=8);e.children=t,e.shapeFlag|=n}function Vt(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const l in o)if(l==="class")t.class!==o.class&&(t.class=we([t.class,o.class]));else if(l==="style")t.style=Ae([t.style,o.style]);else if(ui(l)){const i=t[l],r=o[l];r&&i!==r&&!(_e(i)&&i.includes(r))&&(t[l]=i?[].concat(i,r):r)}else l!==""&&(t[l]=o[l])}return t}function Ct(e,t,n,o=null){pt(e,t,7,[n,o])}const Eh=Tc();let kh=0;function Ch(e,t,n){const o=e.type,l=(t?t.appContext:e.appContext)||Eh,i={uid:kh++,vnode:e,type:o,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ju(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pc(o,l),emitsOptions:yc(o,l),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:o.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Bp.bind(null,i),e.ce&&e.ce(i),i}let Ze=null;const bo=()=>Ze||Je;let $s,Wn,ha="__VUE_INSTANCE_SETTERS__";(Wn=yr()[ha])||(Wn=yr()[ha]=[]),Wn.push(e=>Ze=e),$s=e=>{Wn.length>1?Wn.forEach(t=>t(e)):Wn[0](e)};const po=e=>{$s(e),e.scope.on()},In=()=>{Ze&&Ze.scope.off(),$s(null)};function Rc(e){return e.vnode.shapeFlag&4}let Wo=!1;function Vh(e,t=!1){Wo=t;const{props:n,children:o}=e.vnode,l=Rc(e);hh(e,n,l,t),vh(e,o);const i=l?Th(e,t):void 0;return Wo=!1,i}function Th(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Bt(new Proxy(e.ctx,lh));const{setup:o}=n;if(o){const l=e.setupContext=o.length>1?Lc(e):null;po(e),_o();const i=pn(o,e,0,[e.props,l]);if(wo(),In(),qu(i)){if(i.then(In,In),t)return i.then(r=>{ma(e,r,t)}).catch(r=>{vi(r,e,0)});e.asyncDep=i}else ma(e,i,t)}else zc(e,t)}function ma(e,t,n){$e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Re(t)&&(e.setupState=cc(t)),zc(e,n)}let ga;function zc(e,t,n){const o=e.type;if(!e.render){if(!t&&ga&&!o.render){const l=o.template||ws(e).template;if(l){const{isCustomElement:i,compilerOptions:r}=e.appContext.config,{delimiters:s,compilerOptions:u}=o,a=Xe(Xe({isCustomElement:i,delimiters:s},r),u);o.render=ga(l,a)}}e.render=o.render||xt}po(e),_o(),rh(e),wo(),In()}function Nh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return st(e,"get","$attrs"),t[n]}}))}function Lc(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Nh(e)},slots:e.slots,emit:e.emit,expose:t}}function ki(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(cc(Bt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Fo)return Fo[n](e)},has(t,n){return n in t||n in Fo}}))}function Ph(e,t=!0){return $e(e)?e.displayName||e.name:e.name||t&&e.__name}function Mh(e){return $e(e)&&"__vccOpts"in e}const W=(e,t)=>Vp(e,t,Wo);function Fe(e,t,n){const o=arguments.length;return o===2?Re(t)&&!_e(t)?Xl(t)?B(e,null,[t]):B(e,t):B(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Xl(n)&&(n=[n]),B(e,t,n))}const Fh=Symbol.for("v-scx"),Bh=()=>$t(Fh),Ah="3.3.4",Ih="http://www.w3.org/2000/svg",Nn=typeof document<"u"?document:null,va=Nn&&Nn.createElement("template"),Oh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const l=t?Nn.createElementNS(Ih,e):Nn.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:e=>Nn.createTextNode(e),createComment:e=>Nn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,l,i){const r=n?n.previousSibling:t.lastChild;if(l&&(l===i||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),n),!(l===i||!(l=l.nextSibling)););else{va.innerHTML=o?`<svg>${e}</svg>`:e;const s=va.content;if(o){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}t.insertBefore(s,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Dh(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Rh(e,t,n){const o=e.style,l=je(n);if(n&&!l){if(t&&!je(t))for(const i in t)n[i]==null&&Nr(o,i,"");for(const i in n)Nr(o,i,n[i])}else{const i=o.display;l?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=i)}}const ya=/\s*!important$/;function Nr(e,t,n){if(_e(n))n.forEach(o=>Nr(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=zh(e,t);ya.test(n)?e.setProperty(Gn(o),n.replace(ya,""),"important"):e[o]=n}}const _a=["Webkit","Moz","ms"],er={};function zh(e,t){const n=er[t];if(n)return n;let o=Dt(t);if(o!=="filter"&&o in e)return er[t]=o;o=fi(o);for(let l=0;l<_a.length;l++){const i=_a[l]+o;if(i in e)return er[t]=i}return t}const wa="http://www.w3.org/1999/xlink";function Lh(e,t,n,o,l){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(wa,t.slice(6,t.length)):e.setAttributeNS(wa,t,n);else{const i=Gf(t);n==null||i&&!Zu(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Hh(e,t,n,o,l,i,r){if(t==="innerHTML"||t==="textContent"){o&&r(o,l,i),e[t]=n??"";return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=n;const a=s==="OPTION"?e.getAttribute("value"):e.value,c=n??"";a!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Zu(n):n==null&&a==="string"?(n="",u=!0):a==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function Uh(e,t,n,o){e.addEventListener(t,n,o)}function jh(e,t,n,o){e.removeEventListener(t,n,o)}function Gh(e,t,n,o,l=null){const i=e._vei||(e._vei={}),r=i[t];if(o&&r)r.value=o;else{const[s,u]=Yh(t);if(o){const a=i[t]=Wh(o,l);Uh(e,s,a,u)}else r&&(jh(e,s,r,u),i[t]=void 0)}}const ba=/(?:Once|Passive|Capture)$/;function Yh(e){let t;if(ba.test(e)){t={};let o;for(;o=e.match(ba);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gn(e.slice(2)),t]}let tr=0;const qh=Promise.resolve(),Xh=()=>tr||(qh.then(()=>tr=0),tr=Date.now());function Wh(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;pt(Zh(o,n.value),t,5,[o])};return n.value=e,n.attached=Xh(),n}function Zh(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>l=>!l._stopped&&o&&o(l))}else return t}const xa=/^on[a-z]/,Kh=(e,t,n,o,l=!1,i,r,s,u)=>{t==="class"?Dh(e,o,l):t==="style"?Rh(e,n,o):ui(t)?es(t)||Gh(e,t,n,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Jh(e,t,o,l))?Hh(e,t,o,i,r,s,u):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Lh(e,t,o,l))};function Jh(e,t,n,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&xa.test(t)&&$e(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||xa.test(t)&&je(n)?!1:t in e}const en="transition",$o="animation",Ss=(e,{slots:t})=>Fe(qp,Qh(e),t);Ss.displayName="Transition";const Hc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ss.props=Xe({},wc,Hc);const Sn=(e,t=[])=>{_e(e)?e.forEach(n=>n(...t)):e&&e(...t)},$a=e=>e?_e(e)?e.some(t=>t.length>1):e.length>1:!1;function Qh(e){const t={};for(const G in e)G in Hc||(t[G]=e[G]);if(e.css===!1)return t;const{name:n="v",type:o,duration:l,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:a=r,appearToClass:c=s,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,p=em(l),m=p&&p[0],g=p&&p[1],{onBeforeEnter:_,onEnter:x,onEnterCancelled:k,onLeave:w,onLeaveCancelled:M,onBeforeAppear:b=_,onAppear:z=x,onAppearCancelled:C=k}=t,L=(G,le,E)=>{En(G,le?c:s),En(G,le?a:r),E&&E()},H=(G,le)=>{G._isLeaving=!1,En(G,d),En(G,f),En(G,h),le&&le()},Q=G=>(le,E)=>{const X=G?z:x,V=()=>L(le,G,E);Sn(X,[le,V]),Sa(()=>{En(le,G?u:i),tn(le,G?c:s),$a(X)||Ea(le,o,m,V)})};return Xe(t,{onBeforeEnter(G){Sn(_,[G]),tn(G,i),tn(G,r)},onBeforeAppear(G){Sn(b,[G]),tn(G,u),tn(G,a)},onEnter:Q(!1),onAppear:Q(!0),onLeave(G,le){G._isLeaving=!0;const E=()=>H(G,le);tn(G,d),om(),tn(G,h),Sa(()=>{G._isLeaving&&(En(G,d),tn(G,f),$a(w)||Ea(G,o,g,E))}),Sn(w,[G,E])},onEnterCancelled(G){L(G,!1),Sn(k,[G])},onAppearCancelled(G){L(G,!0),Sn(C,[G])},onLeaveCancelled(G){H(G),Sn(M,[G])}})}function em(e){if(e==null)return null;if(Re(e))return[nr(e.enter),nr(e.leave)];{const t=nr(e);return[t,t]}}function nr(e){return Df(e)}function tn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function En(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Sa(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let tm=0;function Ea(e,t,n,o){const l=e._endId=++tm,i=()=>{l===e._endId&&o()};if(n)return setTimeout(i,n);const{type:r,timeout:s,propCount:u}=nm(e,t);if(!r)return o();const a=r+"end";let c=0;const d=()=>{e.removeEventListener(a,h),i()},h=f=>{f.target===e&&++c>=u&&d()};setTimeout(()=>{c<u&&d()},s+1),e.addEventListener(a,h)}function nm(e,t){const n=window.getComputedStyle(e),o=p=>(n[p]||"").split(", "),l=o(`${en}Delay`),i=o(`${en}Duration`),r=ka(l,i),s=o(`${$o}Delay`),u=o(`${$o}Duration`),a=ka(s,u);let c=null,d=0,h=0;t===en?r>0&&(c=en,d=r,h=i.length):t===$o?a>0&&(c=$o,d=a,h=u.length):(d=Math.max(r,a),c=d>0?r>a?en:$o:null,h=c?c===en?i.length:u.length:0);const f=c===en&&/\b(transform|all)(,|$)/.test(o(`${en}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function ka(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Ca(n)+Ca(e[o])))}function Ca(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function om(){return document.body.offsetHeight}const lm=["ctrl","shift","alt","meta"],im={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>lm.some(n=>e[`${n}Key`]&&!t.includes(n))},Zo=(e,t)=>(n,...o)=>{for(let l=0;l<t.length;l++){const i=im[t[l]];if(i&&i(n,t))return}return e(n,...o)},rm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},sm=(e,t)=>n=>{if(!("key"in n))return;const o=Gn(n.key);if(t.some(l=>l===o||rm[l]===o))return e(n)},Va={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):So(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),So(e,!0),o.enter(e)):o.leave(e,()=>{So(e,!1)}):So(e,t))},beforeUnmount(e,{value:t}){So(e,t)}};function So(e,t){e.style.display=t?e._vod:"none"}const am=Xe({patchProp:Kh},Oh);let Ta;function um(){return Ta||(Ta=_h(am))}const Uc=(...e)=>{const t=um().createApp(...e),{mount:n}=t;return t.mount=o=>{const l=cm(o);if(!l)return;const i=t._component;!$e(i)&&!i.render&&!i.template&&(i.template=l.innerHTML),l.innerHTML="";const r=n(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),r},t};function cm(e){return je(e)?document.querySelector(e):e}var dm=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let jc;const Ci=e=>jc=e,Gc=Symbol();function Pr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ao;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ao||(Ao={}));function fm(){const e=pi(!0),t=e.run(()=>ne({}));let n=[],o=[];const l=Bt({install(i){Ci(l),l._a=i,i.provide(Gc,l),i.config.globalProperties.$pinia=l,o.forEach(r=>n.push(r)),o=[]},use(i){return!this._a&&!dm?o.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return l}const Yc=()=>{};function Na(e,t,n,o=Yc){e.push(t);const l=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),o())};return!n&&hi()&&Po(l),l}function Zn(e,...t){e.slice().forEach(n=>{n(...t)})}const pm=e=>e();function Mr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],l=e[n];Pr(l)&&Pr(o)&&e.hasOwnProperty(n)&&!He(o)&&!fn(o)?e[n]=Mr(l,o):e[n]=o}return e}const hm=Symbol();function mm(e){return!Pr(e)||!e.hasOwnProperty(hm)}const{assign:ln}=Object;function gm(e){return!!(He(e)&&e.effect)}function vm(e,t,n,o){const{state:l,actions:i,getters:r}=t,s=n.state.value[e];let u;function a(){s||(n.state.value[e]=l?l():{});const c=fc(n.state.value[e]);return ln(c,i,Object.keys(r||{}).reduce((d,h)=>(d[h]=Bt(W(()=>{Ci(n);const f=n._s.get(e);return r[h].call(f,f)})),d),{}))}return u=qc(e,a,t,n,o,!0),u}function qc(e,t,n={},o,l,i){let r;const s=ln({actions:{}},n),u={deep:!0};let a,c,d=[],h=[],f;const p=o.state.value[e];!i&&!p&&(o.state.value[e]={}),ne({});let m;function g(C){let L;a=c=!1,typeof C=="function"?(C(o.state.value[e]),L={type:Ao.patchFunction,storeId:e,events:f}):(Mr(o.state.value[e],C),L={type:Ao.patchObject,payload:C,storeId:e,events:f});const H=m=Symbol();et().then(()=>{m===H&&(a=!0)}),c=!0,Zn(d,L,o.state.value[e])}const _=i?function(){const{state:L}=n,H=L?L():{};this.$patch(Q=>{ln(Q,H)})}:Yc;function x(){r.stop(),d=[],h=[],o._s.delete(e)}function k(C,L){return function(){Ci(o);const H=Array.from(arguments),Q=[],G=[];function le(V){Q.push(V)}function E(V){G.push(V)}Zn(h,{args:H,name:C,store:M,after:le,onError:E});let X;try{X=L.apply(this&&this.$id===e?this:M,H)}catch(V){throw Zn(G,V),V}return X instanceof Promise?X.then(V=>(Zn(Q,V),V)).catch(V=>(Zn(G,V),Promise.reject(V))):(Zn(Q,X),X)}}const w={_p:o,$id:e,$onAction:Na.bind(null,h),$patch:g,$reset:_,$subscribe(C,L={}){const H=Na(d,C,L.detached,()=>Q()),Q=r.run(()=>xe(()=>o.state.value[e],G=>{(L.flush==="sync"?c:a)&&C({storeId:e,type:Ao.direct,events:f},G)},ln({},u,L)));return H},$dispose:x},M=sl(w);o._s.set(e,M);const b=o._a&&o._a.runWithContext||pm,z=o._e.run(()=>(r=pi(),b(()=>r.run(t))));for(const C in z){const L=z[C];if(He(L)&&!gm(L)||fn(L))i||(p&&mm(L)&&(He(L)?L.value=p[C]:Mr(L,p[C])),o.state.value[e][C]=L);else if(typeof L=="function"){const H=k(C,L);z[C]=H,s.actions[C]=L}}return ln(M,z),ln(Ne(M),z),Object.defineProperty(M,"$state",{get:()=>o.state.value[e],set:C=>{g(L=>{ln(L,C)})}}),o._p.forEach(C=>{ln(M,r.run(()=>C({store:M,app:o._a,pinia:o,options:s})))}),p&&i&&n.hydrate&&n.hydrate(M.$state,p),a=!0,c=!0,M}function ym(e,t,n){let o,l;const i=typeof t=="function";typeof e=="string"?(o=e,l=i?n:t):(l=e,o=e.id);function r(s,u){const a=ph();return s=s||(a?$t(Gc,null):null),s&&Ci(s),s=jc,s._s.has(o)||(i?qc(o,t,l,s):vm(o,l,s)),s._s.get(o)}return r.$id=o,r}const _m=["top","right","bottom","left"],Pa=["start","end"],Ma=_m.reduce((e,t)=>e.concat(t,t+"-"+Pa[0],t+"-"+Pa[1]),[]),Ko=Math.min,Cn=Math.max,wm={left:"right",right:"left",bottom:"top",top:"bottom"},bm={start:"end",end:"start"};function Fr(e,t,n){return Cn(e,Ko(t,n))}function Yn(e,t){return typeof e=="function"?e(t):e}function Rt(e){return e.split("-")[0]}function St(e){return e.split("-")[1]}function Xc(e){return e==="x"?"y":"x"}function Es(e){return e==="y"?"height":"width"}function ul(e){return["top","bottom"].includes(Rt(e))?"y":"x"}function ks(e){return Xc(ul(e))}function Wc(e,t,n){n===void 0&&(n=!1);const o=St(e),l=ks(e),i=Es(l);let r=l==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(r=Zl(r)),[r,Zl(r)]}function xm(e){const t=Zl(e);return[Wl(e),t,Wl(t)]}function Wl(e){return e.replace(/start|end/g,t=>bm[t])}function $m(e,t,n){const o=["left","right"],l=["right","left"],i=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?l:o:t?o:l;case"left":case"right":return t?i:r;default:return[]}}function Sm(e,t,n,o){const l=St(e);let i=$m(Rt(e),n==="start",o);return l&&(i=i.map(r=>r+"-"+l),t&&(i=i.concat(i.map(Wl)))),i}function Zl(e){return e.replace(/left|right|bottom|top/g,t=>wm[t])}function Em(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zc(e){return typeof e!="number"?Em(e):{top:e,right:e,bottom:e,left:e}}function Io(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Fa(e,t,n){let{reference:o,floating:l}=e;const i=ul(t),r=ks(t),s=Es(r),u=Rt(t),a=i==="y",c=o.x+o.width/2-l.width/2,d=o.y+o.height/2-l.height/2,h=o[s]/2-l[s]/2;let f;switch(u){case"top":f={x:c,y:o.y-l.height};break;case"bottom":f={x:c,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:d};break;case"left":f={x:o.x-l.width,y:d};break;default:f={x:o.x,y:o.y}}switch(St(t)){case"start":f[r]-=h*(n&&a?-1:1);break;case"end":f[r]+=h*(n&&a?-1:1);break}return f}const km=async(e,t,n)=>{const{placement:o="bottom",strategy:l="absolute",middleware:i=[],platform:r}=n,s=i.filter(Boolean),u=await(r.isRTL==null?void 0:r.isRTL(t));let a=await r.getElementRects({reference:e,floating:t,strategy:l}),{x:c,y:d}=Fa(a,o,u),h=o,f={},p=0;for(let m=0;m<s.length;m++){const{name:g,fn:_}=s[m],{x,y:k,data:w,reset:M}=await _({x:c,y:d,initialPlacement:o,placement:h,strategy:l,middlewareData:f,rects:a,platform:r,elements:{reference:e,floating:t}});if(c=x??c,d=k??d,f={...f,[g]:{...f[g],...w}},M&&p<=50){p++,typeof M=="object"&&(M.placement&&(h=M.placement),M.rects&&(a=M.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:l}):M.rects),{x:c,y:d}=Fa(a,h,u)),m=-1;continue}}return{x:c,y:d,placement:h,strategy:l,middlewareData:f}};async function Vi(e,t){var n;t===void 0&&(t={});const{x:o,y:l,platform:i,rects:r,elements:s,strategy:u}=e,{boundary:a="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Yn(t,e),p=Zc(f),g=s[h?d==="floating"?"reference":"floating":d],_=Io(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:a,rootBoundary:c,strategy:u})),x=d==="floating"?{...r.floating,x:o,y:l}:r.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),w=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},M=Io(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:k,strategy:u}):x);return{top:(_.top-M.top+p.top)/w.y,bottom:(M.bottom-_.bottom+p.bottom)/w.y,left:(_.left-M.left+p.left)/w.x,right:(M.right-_.right+p.right)/w.x}}const Cm=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:l,rects:i,platform:r,elements:s,middlewareData:u}=t,{element:a,padding:c=0}=Yn(e,t)||{};if(a==null)return{};const d=Zc(c),h={x:n,y:o},f=ks(l),p=Es(f),m=await r.getDimensions(a),g=f==="y",_=g?"top":"left",x=g?"bottom":"right",k=g?"clientHeight":"clientWidth",w=i.reference[p]+i.reference[f]-h[f]-i.floating[p],M=h[f]-i.reference[f],b=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a));let z=b?b[k]:0;(!z||!await(r.isElement==null?void 0:r.isElement(b)))&&(z=s.floating[k]||i.floating[p]);const C=w/2-M/2,L=z/2-m[p]/2-1,H=Ko(d[_],L),Q=Ko(d[x],L),G=H,le=z-m[p]-Q,E=z/2-m[p]/2+C,X=Fr(G,E,le),V=!u.arrow&&St(l)!=null&&E!=X&&i.reference[p]/2-(E<G?H:Q)-m[p]/2<0,O=V?E<G?E-G:E-le:0;return{[f]:h[f]+O,data:{[f]:X,centerOffset:E-X-O,...V&&{alignmentOffset:O}},reset:V}}});function Vm(e,t,n){return(e?[...n.filter(l=>St(l)===e),...n.filter(l=>St(l)!==e)]:n.filter(l=>Rt(l)===l)).filter(l=>e?St(l)===e||(t?Wl(l)!==l:!1):!0)}const Tm=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,l;const{rects:i,middlewareData:r,placement:s,platform:u,elements:a}=t,{crossAxis:c=!1,alignment:d,allowedPlacements:h=Ma,autoAlignment:f=!0,...p}=Yn(e,t),m=d!==void 0||h===Ma?Vm(d||null,f,h):h,g=await Vi(t,p),_=((n=r.autoPlacement)==null?void 0:n.index)||0,x=m[_];if(x==null)return{};const k=Wc(x,i,await(u.isRTL==null?void 0:u.isRTL(a.floating)));if(s!==x)return{reset:{placement:m[0]}};const w=[g[Rt(x)],g[k[0]],g[k[1]]],M=[...((o=r.autoPlacement)==null?void 0:o.overflows)||[],{placement:x,overflows:w}],b=m[_+1];if(b)return{data:{index:_+1,overflows:M},reset:{placement:b}};const z=M.map(H=>{const Q=St(H.placement);return[H.placement,Q&&c?H.overflows.slice(0,2).reduce((G,le)=>G+le,0):H.overflows[0],H.overflows]}).sort((H,Q)=>H[1]-Q[1]),L=((l=z.filter(H=>H[2].slice(0,St(H[0])?2:3).every(Q=>Q<=0))[0])==null?void 0:l[0])||z[0][0];return L!==s?{data:{index:_+1,overflows:M},reset:{placement:L}}:{}}}},Nm=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:l,middlewareData:i,rects:r,initialPlacement:s,platform:u,elements:a}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Yn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Rt(l),x=Rt(s)===s,k=await(u.isRTL==null?void 0:u.isRTL(a.floating)),w=h||(x||!m?[Zl(s)]:xm(s));!h&&p!=="none"&&w.push(...Sm(s,m,p,k));const M=[s,...w],b=await Vi(t,g),z=[];let C=((o=i.flip)==null?void 0:o.overflows)||[];if(c&&z.push(b[_]),d){const G=Wc(l,r,k);z.push(b[G[0]],b[G[1]])}if(C=[...C,{placement:l,overflows:z}],!z.every(G=>G<=0)){var L,H;const G=(((L=i.flip)==null?void 0:L.index)||0)+1,le=M[G];if(le)return{data:{index:G,overflows:C},reset:{placement:le}};let E=(H=C.filter(X=>X.overflows[0]<=0).sort((X,V)=>X.overflows[1]-V.overflows[1])[0])==null?void 0:H.placement;if(!E)switch(f){case"bestFit":{var Q;const X=(Q=C.map(V=>[V.placement,V.overflows.filter(O=>O>0).reduce((O,I)=>O+I,0)]).sort((V,O)=>V[1]-O[1])[0])==null?void 0:Q[0];X&&(E=X);break}case"initialPlacement":E=s;break}if(l!==E)return{reset:{placement:E}}}return{}}}};async function Pm(e,t){const{placement:n,platform:o,elements:l}=e,i=await(o.isRTL==null?void 0:o.isRTL(l.floating)),r=Rt(n),s=St(n),u=ul(n)==="y",a=["left","top"].includes(r)?-1:1,c=i&&u?-1:1,d=Yn(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&typeof p=="number"&&(f=s==="end"?p*-1:p),u?{x:f*c,y:h*a}:{x:h*a,y:f*c}}const Mm=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:o}=t,l=await Pm(t,e);return{x:n+l.x,y:o+l.y,data:l}}}},Fm=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:l}=t,{mainAxis:i=!0,crossAxis:r=!1,limiter:s={fn:g=>{let{x:_,y:x}=g;return{x:_,y:x}}},...u}=Yn(e,t),a={x:n,y:o},c=await Vi(t,u),d=ul(Rt(l)),h=Xc(d);let f=a[h],p=a[d];if(i){const g=h==="y"?"top":"left",_=h==="y"?"bottom":"right",x=f+c[g],k=f-c[_];f=Fr(x,f,k)}if(r){const g=d==="y"?"top":"left",_=d==="y"?"bottom":"right",x=p+c[g],k=p-c[_];p=Fr(x,p,k)}const m=s.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-o}}}}},Bm=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:o,platform:l,elements:i}=t,{apply:r=()=>{},...s}=Yn(e,t),u=await Vi(t,s),a=Rt(n),c=St(n),d=ul(n)==="y",{width:h,height:f}=o.floating;let p,m;a==="top"||a==="bottom"?(p=a,m=c===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(m=a,p=c==="end"?"top":"bottom");const g=f-u[p],_=h-u[m],x=!t.middlewareData.shift;let k=g,w=_;if(d){const b=h-u.left-u.right;w=c||x?Ko(_,b):b}else{const b=f-u.top-u.bottom;k=c||x?Ko(g,b):b}if(x&&!c){const b=Cn(u.left,0),z=Cn(u.right,0),C=Cn(u.top,0),L=Cn(u.bottom,0);d?w=h-2*(b!==0||z!==0?b+z:Cn(u.left,u.right)):k=f-2*(C!==0||L!==0?C+L:Cn(u.top,u.bottom))}await r({...t,availableWidth:w,availableHeight:k});const M=await l.getDimensions(i.floating);return h!==M.width||f!==M.height?{reset:{rects:!0}}:{}}}};function ft(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function At(e){return ft(e).getComputedStyle(e)}const Ba=Math.min,Oo=Math.max,Kl=Math.round;function Kc(e){const t=At(e);let n=parseFloat(t.width),o=parseFloat(t.height);const l=e.offsetWidth,i=e.offsetHeight,r=Kl(n)!==l||Kl(o)!==i;return r&&(n=l,o=i),{width:n,height:o,fallback:r}}function wn(e){return Qc(e)?(e.nodeName||"").toLowerCase():""}let xl;function Jc(){if(xl)return xl;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(xl=e.brands.map(t=>t.brand+"/"+t.version).join(" "),xl):navigator.userAgent}function It(e){return e instanceof ft(e).HTMLElement}function hn(e){return e instanceof ft(e).Element}function Qc(e){return e instanceof ft(e).Node}function Aa(e){return typeof ShadowRoot>"u"?!1:e instanceof ft(e).ShadowRoot||e instanceof ShadowRoot}function Ti(e){const{overflow:t,overflowX:n,overflowY:o,display:l}=At(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(l)}function Am(e){return["table","td","th"].includes(wn(e))}function Br(e){const t=/firefox/i.test(Jc()),n=At(e),o=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!o&&o!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(l=>n.willChange.includes(l))||["paint","layout","strict","content"].some(l=>{const i=n.contain;return i!=null&&i.includes(l)})}function ed(){return!/^((?!chrome|android).)*safari/i.test(Jc())}function Cs(e){return["html","body","#document"].includes(wn(e))}function td(e){return hn(e)?e:e.contextElement}const nd={x:1,y:1};function ro(e){const t=td(e);if(!It(t))return nd;const n=t.getBoundingClientRect(),{width:o,height:l,fallback:i}=Kc(t);let r=(i?Kl(n.width):n.width)/o,s=(i?Kl(n.height):n.height)/l;return r&&Number.isFinite(r)||(r=1),s&&Number.isFinite(s)||(s=1),{x:r,y:s}}function Jo(e,t,n,o){var l,i;t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=td(e);let u=nd;t&&(o?hn(o)&&(u=ro(o)):u=ro(e));const a=s?ft(s):window,c=!ed()&&n;let d=(r.left+(c&&((l=a.visualViewport)==null?void 0:l.offsetLeft)||0))/u.x,h=(r.top+(c&&((i=a.visualViewport)==null?void 0:i.offsetTop)||0))/u.y,f=r.width/u.x,p=r.height/u.y;if(s){const m=ft(s),g=o&&hn(o)?ft(o):o;let _=m.frameElement;for(;_&&o&&g!==m;){const x=ro(_),k=_.getBoundingClientRect(),w=getComputedStyle(_);k.x+=(_.clientLeft+parseFloat(w.paddingLeft))*x.x,k.y+=(_.clientTop+parseFloat(w.paddingTop))*x.y,d*=x.x,h*=x.y,f*=x.x,p*=x.y,d+=k.x,h+=k.y,_=ft(_).frameElement}}return{width:f,height:p,top:h,right:d+f,bottom:h+p,left:d,x:d,y:h}}function mn(e){return((Qc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ni(e){return hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function od(e){return Jo(mn(e)).left+Ni(e).scrollLeft}function Qo(e){if(wn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Aa(e)&&e.host||mn(e);return Aa(t)?t.host:t}function ld(e){const t=Qo(e);return Cs(t)?t.ownerDocument.body:It(t)&&Ti(t)?t:ld(t)}function Jl(e,t){var n;t===void 0&&(t=[]);const o=ld(e),l=o===((n=e.ownerDocument)==null?void 0:n.body),i=ft(o);return l?t.concat(i,i.visualViewport||[],Ti(o)?o:[]):t.concat(o,Jl(o))}function Ia(e,t,n){return t==="viewport"?Io(function(o,l){const i=ft(o),r=mn(o),s=i.visualViewport;let u=r.clientWidth,a=r.clientHeight,c=0,d=0;if(s){u=s.width,a=s.height;const h=ed();(h||!h&&l==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:u,height:a,x:c,y:d}}(e,n)):hn(t)?Io(function(o,l){const i=Jo(o,!0,l==="fixed"),r=i.top+o.clientTop,s=i.left+o.clientLeft,u=It(o)?ro(o):{x:1,y:1};return{width:o.clientWidth*u.x,height:o.clientHeight*u.y,x:s*u.x,y:r*u.y}}(t,n)):Io(function(o){const l=mn(o),i=Ni(o),r=o.ownerDocument.body,s=Oo(l.scrollWidth,l.clientWidth,r.scrollWidth,r.clientWidth),u=Oo(l.scrollHeight,l.clientHeight,r.scrollHeight,r.clientHeight);let a=-i.scrollLeft+od(o);const c=-i.scrollTop;return At(r).direction==="rtl"&&(a+=Oo(l.clientWidth,r.clientWidth)-s),{width:s,height:u,x:a,y:c}}(mn(e)))}function Oa(e){return It(e)&&At(e).position!=="fixed"?e.offsetParent:null}function Da(e){const t=ft(e);let n=Oa(e);for(;n&&Am(n)&&At(n).position==="static";)n=Oa(n);return n&&(wn(n)==="html"||wn(n)==="body"&&At(n).position==="static"&&!Br(n))?t:n||function(o){let l=Qo(o);for(;It(l)&&!Cs(l);){if(Br(l))return l;l=Qo(l)}return null}(e)||t}function Im(e,t,n){const o=It(t),l=mn(t),i=Jo(e,!0,n==="fixed",t);let r={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(o||!o&&n!=="fixed")if((wn(t)!=="body"||Ti(l))&&(r=Ni(t)),It(t)){const u=Jo(t,!0);s.x=u.x+t.clientLeft,s.y=u.y+t.clientTop}else l&&(s.x=od(l));return{x:i.left+r.scrollLeft-s.x,y:i.top+r.scrollTop-s.y,width:i.width,height:i.height}}const Om={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:l}=e;const i=n==="clippingAncestors"?function(a,c){const d=c.get(a);if(d)return d;let h=Jl(a).filter(g=>hn(g)&&wn(g)!=="body"),f=null;const p=At(a).position==="fixed";let m=p?Qo(a):a;for(;hn(m)&&!Cs(m);){const g=At(m),_=Br(m);(p?_||f:_||g.position!=="static"||!f||!["absolute","fixed"].includes(f.position))?f=g:h=h.filter(x=>x!==m),m=Qo(m)}return c.set(a,h),h}(t,this._c):[].concat(n),r=[...i,o],s=r[0],u=r.reduce((a,c)=>{const d=Ia(t,c,l);return a.top=Oo(d.top,a.top),a.right=Ba(d.right,a.right),a.bottom=Ba(d.bottom,a.bottom),a.left=Oo(d.left,a.left),a},Ia(t,s,l));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:o}=e;const l=It(n),i=mn(n);if(n===i)return t;let r={scrollLeft:0,scrollTop:0},s={x:1,y:1};const u={x:0,y:0};if((l||!l&&o!=="fixed")&&((wn(n)!=="body"||Ti(i))&&(r=Ni(n)),It(n))){const a=Jo(n);s=ro(n),u.x=a.x+n.clientLeft,u.y=a.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-r.scrollLeft*s.x+u.x,y:t.y*s.y-r.scrollTop*s.y+u.y}},isElement:hn,getDimensions:function(e){return It(e)?Kc(e):e.getBoundingClientRect()},getOffsetParent:Da,getDocumentElement:mn,getScale:ro,async getElementRects(e){let{reference:t,floating:n,strategy:o}=e;const l=this.getOffsetParent||Da,i=this.getDimensions;return{reference:Im(t,await l(n),o),floating:{x:0,y:0,...await i(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>At(e).direction==="rtl"},Dm=(e,t,n)=>{const o=new Map,l={platform:Om,...n},i={...l.platform,_c:o};return km(e,t,{...l,platform:i})};function id(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&e[n]?id(e[n],t[n]):e[n]=t[n])}const Xt={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function el(e,t){let n=Xt.themes[e]||{},o;do o=n[t],typeof o>"u"?n.$extend?n=Xt.themes[n.$extend]||{}:(n=null,o=Xt[t]):n=null;while(n);return o}function Rm(e){const t=[e];let n=Xt.themes[e]||{};do n.$extend&&!n.$resetCss?(t.push(n.$extend),n=Xt.themes[n.$extend]||{}):n=null;while(n);return t.map(o=>`v-popper--theme-${o}`)}function Ra(e){const t=[e];let n=Xt.themes[e]||{};do n.$extend?(t.push(n.$extend),n=Xt.themes[n.$extend]||{}):n=null;while(n);return t}let Hn=!1;if(typeof window<"u"){Hn=!1;try{const e=Object.defineProperty({},"passive",{get(){Hn=!0}});window.addEventListener("test",null,e)}catch{}}let rd=!1;typeof window<"u"&&typeof navigator<"u"&&(rd=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const sd=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),za={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},La={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function Ha(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function or(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const yt=[];let kn=null;const Ua={};function ja(e){let t=Ua[e];return t||(t=Ua[e]=[]),t}let Ar=function(){};typeof window<"u"&&(Ar=window.Element);function Ve(e){return function(t){return el(t.theme,e)}}const lr="__floating-vue__popper",ad=()=>ce({name:"VPopper",provide(){return{[lr]:{parentPopper:this}}},inject:{[lr]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:Ve("disabled")},positioningDisabled:{type:Boolean,default:Ve("positioningDisabled")},placement:{type:String,default:Ve("placement"),validator:e=>sd.includes(e)},delay:{type:[String,Number,Object],default:Ve("delay")},distance:{type:[Number,String],default:Ve("distance")},skidding:{type:[Number,String],default:Ve("skidding")},triggers:{type:Array,default:Ve("triggers")},showTriggers:{type:[Array,Function],default:Ve("showTriggers")},hideTriggers:{type:[Array,Function],default:Ve("hideTriggers")},popperTriggers:{type:Array,default:Ve("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:Ve("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:Ve("popperHideTriggers")},container:{type:[String,Object,Ar,Boolean],default:Ve("container")},boundary:{type:[String,Ar],default:Ve("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:Ve("strategy")},autoHide:{type:[Boolean,Function],default:Ve("autoHide")},handleResize:{type:Boolean,default:Ve("handleResize")},instantMove:{type:Boolean,default:Ve("instantMove")},eagerMount:{type:Boolean,default:Ve("eagerMount")},popperClass:{type:[String,Array,Object],default:Ve("popperClass")},computeTransformOrigin:{type:Boolean,default:Ve("computeTransformOrigin")},autoMinSize:{type:Boolean,default:Ve("autoMinSize")},autoSize:{type:[Boolean,String],default:Ve("autoSize")},autoMaxSize:{type:Boolean,default:Ve("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:Ve("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:Ve("preventOverflow")},overflowPadding:{type:[Number,String],default:Ve("overflowPadding")},arrowPadding:{type:[Number,String],default:Ve("arrowPadding")},arrowOverflow:{type:Boolean,default:Ve("arrowOverflow")},flip:{type:Boolean,default:Ve("flip")},shift:{type:Boolean,default:Ve("shift")},shiftCrossAxis:{type:Boolean,default:Ve("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:Ve("noAutoFocus")},disposeTimeout:{type:Number,default:Ve("disposeTimeout")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[lr])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},...["triggers","positioningDisabled"].reduce((e,t)=>(e[t]="$_refreshListeners",e),{}),...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})},created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:n=!1}={}){var o,l;(o=this.parentPopper)!=null&&o.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((l=this.parentPopper)==null?void 0:l.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var e;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((e=this.referenceNode)==null?void 0:e.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(t=>t.nodeType===t.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.$_isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(Mm({mainAxis:this.distance,crossAxis:this.skidding}));const t=this.placement.startsWith("auto");if(t?e.middleware.push(Tm({alignment:this.placement.split("-")[1]??""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(Fm({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!t&&this.flip&&e.middleware.push(Nm({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(Cm({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:o,rects:l,middlewareData:i})=>{let r;const{centerOffset:s}=i.arrow;return o.startsWith("top")||o.startsWith("bottom")?r=Math.abs(s)>l.reference.width/2:r=Math.abs(s)>l.reference.height/2,{data:{overflow:r}}}}),this.autoMinSize||this.autoSize){const o=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:l,placement:i,middlewareData:r})=>{var s;if((s=r.autoSize)!=null&&s.skip)return{};let u,a;return i.startsWith("top")||i.startsWith("bottom")?u=l.reference.width:a=l.reference.height,this.$_innerNode.style[o==="min"?"minWidth":o==="max"?"maxWidth":"width"]=u!=null?`${u}px`:null,this.$_innerNode.style[o==="min"?"minHeight":o==="max"?"maxHeight":"height"]=a!=null?`${a}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(Bm({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:o,availableHeight:l})=>{this.$_innerNode.style.maxWidth=o!=null?`${o}px`:null,this.$_innerNode.style.maxHeight=l!=null?`${l}px`:null}})));const n=await Dm(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:n.x,y:n.y,placement:n.placement,strategy:n.strategy,arrow:{...n.middlewareData.arrow,...n.middlewareData.arrowOverflow}})},$_scheduleShow(e=null,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),kn&&this.instantMove&&kn.instantMove&&kn!==this.parentPopper){kn.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e=null,t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(kn=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await or(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...Jl(this.$_referenceNode),...Jl(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),o=n.parentNode.getBoundingClientRect(),l=t.x+t.width/2-(o.left+n.offsetLeft),i=t.y+t.height/2-(o.top+n.offsetTop);this.result.transformOrigin=`${l}px ${i}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let n=0;n<yt.length;n++)t=yt[n],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}yt.push(this),document.body.classList.add("v-popper--some-open");for(const t of Ra(this.theme))ja(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await or(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,Ha(yt,this),yt.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of Ra(this.theme)){const o=ja(n);Ha(o,this),o.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}kn===this&&(kn=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=this.disposeTimeout;t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await or(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,za,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],za,this.popperTriggers,this.popperShowTriggers,e);const t=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,La,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],La,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,n){this.$_events.push({targetNodes:e,eventType:t,handler:n}),e.forEach(o=>o.addEventListener(t,n,Hn?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,n,o,l){let i=n;o!=null&&(i=typeof o=="function"?o(i):o),i.forEach(r=>{const s=t[r];s&&this.$_registerEventListeners(e,s,l)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(n=>{const{targetNodes:o,eventType:l,handler:i}=n;!e||e===l?o.forEach(r=>r.removeEventListener(l,i)):t.push(n)}),this.$_events=t},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const n of this.$_targetNodes){const o=n.getAttribute(e);o&&(n.removeAttribute(e),n.setAttribute(t,o))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const n in e){const o=e[n];o==null?t.removeAttribute(n):t.setAttribute(n,o)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.$_pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(Do>=e.left&&Do<=e.right&&Ro>=e.top&&Ro<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),n=Do-rn,o=Ro-sn,l=t.left+t.width/2-rn+(t.top+t.height/2)-sn+t.width+t.height,i=rn+n*l,r=sn+o*l;return $l(rn,sn,i,r,t.left,t.top,t.left,t.bottom)||$l(rn,sn,i,r,t.left,t.top,t.right,t.top)||$l(rn,sn,i,r,t.right,t.top,t.right,t.bottom)||$l(rn,sn,i,r,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document<"u"&&typeof window<"u"&&(rd?(document.addEventListener("touchstart",Ga,Hn?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",Lm,Hn?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",Ga,!0),window.addEventListener("click",zm,!0)),window.addEventListener("resize",jm));function Ga(e){for(let t=0;t<yt.length;t++){const n=yt[t];try{const o=n.popperNode();n.$_mouseDownContains=o.contains(e.target)}catch{}}}function zm(e){ud(e)}function Lm(e){ud(e,!0)}function ud(e,t=!1){const n={};for(let o=yt.length-1;o>=0;o--){const l=yt[o];try{const i=l.$_containsGlobalTarget=Hm(l,e);l.$_pendingHide=!1,requestAnimationFrame(()=>{if(l.$_pendingHide=!1,!n[l.randomId]&&Ya(l,i,e)){if(l.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&i){let s=l.parentPopper;for(;s;)n[s.randomId]=!0,s=s.parentPopper;return}let r=l.parentPopper;for(;r&&Ya(r,r.$_containsGlobalTarget,e);)r.$_handleGlobalClose(e,t),r=r.parentPopper}})}catch{}}}function Hm(e,t){const n=e.popperNode();return e.$_mouseDownContains||n.contains(t.target)}function Ya(e,t,n){return n.closeAllPopover||n.closePopover&&t||Um(e,n)&&!t}function Um(e,t){if(typeof e.autoHide=="function"){const n=e.autoHide(t);return e.lastAutoHide=n,n}return e.autoHide}function jm(e){for(let t=0;t<yt.length;t++)yt[t].$_computePosition(e)}let rn=0,sn=0,Do=0,Ro=0;typeof window<"u"&&window.addEventListener("mousemove",e=>{rn=Do,sn=Ro,Do=e.clientX,Ro=e.clientY},Hn?{passive:!0}:void 0);function $l(e,t,n,o,l,i,r,s){const u=((r-l)*(t-i)-(s-i)*(e-l))/((s-i)*(n-e)-(r-l)*(o-t)),a=((n-e)*(t-i)-(o-t)*(e-l))/((s-i)*(n-e)-(r-l)*(o-t));return u>=0&&u<=1&&a>=0&&a<=1}const Gm={extends:ad()},Pi=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n};function Ym(e,t,n,o,l,i){return F(),K("div",{ref:"reference",class:we(["v-popper",{"v-popper--shown":e.slotData.isShown}])},[Ee(e.$slots,"default",Uf(Dc(e.slotData)))],2)}const qm=Pi(Gm,[["render",Ym]]);function Xm(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}var l=e.indexOf("Edge/");return l>0?parseInt(e.substring(l+5,e.indexOf(".",l)),10):-1}let Ol;function Ir(){Ir.init||(Ir.init=!0,Ol=Xm()!==-1)}var Mi={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){Ir(),et(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Ol&&this.$el.appendChild(e),e.data="about:blank",Ol||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Ol&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Wm=Op();Ap("data-v-b329ee4c");const Zm={class:"resize-observer",tabindex:"-1"};Ip();const Km=Wm((e,t,n,o,l,i)=>(F(),he("div",Zm)));Mi.render=Km;Mi.__scopeId="data-v-b329ee4c";Mi.__file="src/components/ResizeObserver.vue";const cd=(e="theme")=>({computed:{themeClass(){return Rm(this[e])}}}),Jm=ce({name:"VPopperContent",components:{ResizeObserver:Mi},mixins:[cd()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),Qm=["id","aria-hidden","tabindex","data-popper-placement"],eg={ref:"inner",class:"v-popper__inner"},tg=q("div",{class:"v-popper__arrow-outer"},null,-1),ng=q("div",{class:"v-popper__arrow-inner"},null,-1),og=[tg,ng];function lg(e,t,n,o,l,i){const r=zn("ResizeObserver");return F(),K("div",{id:e.popperId,ref:"popover",class:we(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:Ae(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=sm(s=>e.autoHide&&e.$emit("hide"),["esc"]))},[q("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=s=>e.autoHide&&e.$emit("hide"))}),q("div",{class:"v-popper__wrapper",style:Ae(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[q("div",eg,[e.mounted?(F(),K(Me,{key:0},[q("div",null,[Ee(e.$slots,"default")]),e.handleResize?(F(),he(r,{key:0,onNotify:t[1]||(t[1]=s=>e.$emit("resize",s))})):me("",!0)],64)):me("",!0)],512),q("div",{ref:"arrow",class:"v-popper__arrow-container",style:Ae(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},og,4)],4)],46,Qm)}const dd=Pi(Jm,[["render",lg]]),fd={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}},ig=ce({name:"VPopperWrapper",components:{Popper:qm,PopperContent:dd},mixins:[fd,cd("finalTheme")],props:{theme:{type:String,default:null}},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function rg(e,t,n,o,l,i){const r=zn("PopperContent"),s=zn("Popper");return F(),he(s,{ref:"popper",theme:e.finalTheme,"target-nodes":e.getTargetNodes,"popper-node":()=>e.$refs.popperContent.$el,class:we([e.themeClass])},{default:re(({popperId:u,isShown:a,shouldMountContent:c,skipTransition:d,autoHide:h,show:f,hide:p,handleResize:m,onResize:g,classes:_,result:x})=>[Ee(e.$slots,"default",{shown:a,show:f,hide:p}),B(r,{ref:"popperContent","popper-id":u,theme:e.finalTheme,shown:a,mounted:c,"skip-transition":d,"auto-hide":h,"handle-resize":m,classes:_,result:x,onHide:p,onResize:g},{default:re(()=>[Ee(e.$slots,"popper",{shown:a,hide:p})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},8,["theme","target-nodes","popper-node","class"])}const Vs=Pi(ig,[["render",rg]]),sg={...Vs,name:"VDropdown",vPopperTheme:"dropdown"},ag={...Vs,name:"VMenu",vPopperTheme:"menu"},ug={...Vs,name:"VTooltip",vPopperTheme:"tooltip"},cg=ce({name:"VTooltipDirective",components:{Popper:ad(),PopperContent:dd},mixins:[fd],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>el(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>el(e.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,n=this.content(this);n.then?n.then(o=>this.onResult(t,o)):this.onResult(t,n)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),dg=["innerHTML"],fg=["textContent"];function pg(e,t,n,o,l,i){const r=zn("PopperContent"),s=zn("Popper");return F(),he(s,Vt({ref:"popper"},e.$attrs,{theme:e.theme,"target-nodes":e.targetNodes,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:re(({popperId:u,isShown:a,shouldMountContent:c,skipTransition:d,autoHide:h,hide:f,handleResize:p,onResize:m,classes:g,result:_})=>[B(r,{ref:"popperContent",class:we({"v-popper--tooltip-loading":e.loading}),"popper-id":u,theme:e.theme,shown:a,mounted:c,"skip-transition":d,"auto-hide":h,"handle-resize":p,classes:g,result:_,onHide:f,onResize:m},{default:re(()=>[e.html?(F(),K("div",{key:0,innerHTML:e.finalContent},null,8,dg)):(F(),K("div",{key:1,textContent:De(e.finalContent)},null,8,fg))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const hg=Pi(cg,[["render",pg]]),pd="v-popper--has-tooltip";function mg(e,t){let n=e.placement;if(!n&&t)for(const o of sd)t[o]&&(n=o);return n||(n=el(e.theme||"tooltip","placement")),n}function hd(e,t,n){let o;const l=typeof t;return l==="string"?o={content:t}:t&&l==="object"?o=t:o={content:!1},o.placement=mg(o,n),o.targetNodes=()=>[e],o.referenceNode=()=>e,o}let ir,tl,gg=0;function vg(){if(ir)return;tl=ne([]),ir=Uc({name:"VTooltipDirectiveApp",setup(){return{directives:tl}},render(){return this.directives.map(t=>Fe(hg,{...t.options,shown:t.shown||t.options.shown,key:t.id}))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),ir.mount(e)}function yg(e,t,n){vg();const o=ne(hd(e,t,n)),l=ne(!1),i={id:gg++,options:o,shown:l};return tl.value.push(i),e.classList&&e.classList.add(pd),e.$_popper={options:o,item:i,show(){l.value=!0},hide(){l.value=!1}}}function md(e){if(e.$_popper){const t=tl.value.indexOf(e.$_popper.item);t!==-1&&tl.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(pd)}function qa(e,{value:t,modifiers:n}){const o=hd(e,t,n);if(!o.content||el(o.theme||"tooltip","disabled"))md(e);else{let l;e.$_popper?(l=e.$_popper,l.options.value=o):l=yg(e,t,n),typeof t.shown<"u"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?l.show():l.hide())}}const _g={beforeMount:qa,updated:qa,beforeUnmount(e){md(e)}};function Xa(e){e.addEventListener("click",gd),e.addEventListener("touchstart",vd,Hn?{passive:!0}:!1)}function Wa(e){e.removeEventListener("click",gd),e.removeEventListener("touchstart",vd),e.removeEventListener("touchend",yd),e.removeEventListener("touchcancel",_d)}function gd(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function vd(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",yd),t.addEventListener("touchcancel",_d)}}function yd(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const n=e.changedTouches[0],o=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-o.screenY)<20&&Math.abs(n.screenX-o.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function _d(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}const wg={beforeMount(e,{value:t,modifiers:n}){e.$_closePopoverModifiers=n,(typeof t>"u"||t)&&Xa(e)},updated(e,{value:t,oldValue:n,modifiers:o}){e.$_closePopoverModifiers=o,t!==n&&(typeof t>"u"||t?Xa(e):Wa(e))},beforeUnmount(e){Wa(e)}};function bg(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,id(Xt,t),e.directive("tooltip",_g),e.directive("close-popper",wg),e.component("VTooltip",ug),e.component("VDropdown",sg),e.component("VMenu",ag))}const xg={version:"2.0.0-beta.24",install:bg,options:Xt};var Be=(e=>(e.SelectorNodeParkingFloor="SelectorNodeParkingFloor",e.SelectorNodeFloor="SelectorNodeFloor",e.SelectorNodeTempFloor="SelectorNodeTempFloor",e.SelectorNodeElevator="SelectorNodeElevator",e.SelectorNodeFirstFloor="SelectorNodeFirstFloor",e.SelectorNodeBuilding="SelectorNodeBuilding",e.SelectorNodeTrafic="SelectorNodeTrafic",e))(Be||{});const Ql=["#cc2024","#e85859","#e75c0d","#ff9356","#e4bd31","#fbd44b","#cf8900","#eeb443","#974a12","#b9723e","#654dcb","#8b73ef","#0d6edf","#56a4ff","#00b9c5","#63f6ff","#15767d","#2fafb9","#128c71","#28bf9d","#b1cd0b","#d2ea42","#587b0d","#81a631","#cf2260","#ff75b7","#d925b1","#f567d6","#527588","#98b6c6"];function $g(e){const t=[];for(;t.length<e;){const n=Math.floor(Math.random()*e);t.includes(n)||t.push(n)}return t}const Sg=$g(Ql.length).map(e=>Ql[e]),Eg=()=>{const e=ne(0),t=ne(1),n=ne(1),o=ne(1),l=ne(1),i=()=>e.value++,r=()=>Sg[e.value%Ql.length],s=()=>`ГЭ ${t.value++}`,u=()=>`ГЭП ${n.value++}`,a=()=>`ГЭВП ${o.value++}`,c=()=>`ГЛ ${l.value++}`,d=(k,w,M,b)=>({id:i().toString(),type:k,position:{x:w,y:M},data:b});return{createElement:d,createTraficElement:(k,w)=>d(Be.SelectorNodeTrafic,k,w,{formFill:"group",groups:[],buildingType:"residential",floors:new Map}),createFirstFloorElement:(k,w)=>d(Be.SelectorNodeFirstFloor,k,w,{name:"Лобби",color:r(),height:6,lower:1,upper:1,elevatorCallType:"simple",role:"gate"}),createBuildingElement:(k,w)=>d(Be.SelectorNodeBuilding,k,w,{hasParking:!1,hasTemporaryFloors:!1,isDivideIntoFloorGroups:!0,hasTransferFloor:!1,hasTechnicalFloors:!1,floorHeight:3,technicalFloorHeight:3,technicalFloors:[],transferFloors:[],name:"Новый проект",floorsCount:30,morningStart:"08:30",morningPeak:"09:00",morningFinish:"09:30",eveningStart:"17:30",eveningPeak:"18:00",eveningFinish:"18:30",gradationGood:30,gradationMedium:60,gradationBad:120,autoreturn:!0}),createParkingFloorElement:(k,w,M=3)=>d(Be.SelectorNodeParkingFloor,k,w,{name:u(),color:r(),height:M,floorElevators:[],lower:-2,upper:-1,role:"parking"}),createFloorElement:(k,w,M=3,b="residential")=>d(Be.SelectorNodeFloor,k,w,{name:s(),color:r(),height:M,baseFloorNumber:4,floorElevators:[],lower:2,upper:3,distribution:"uniform",elevatorCallType:"simple",role:b}),createTempFloorElement:(k,w,M=3)=>d(Be.SelectorNodeTempFloor,k,w,{name:a(),color:r(),height:M,floorElevators:[],lower:2,upper:3,timeToVisitMin:30,timeToVisitProbably:60,timeToVisitMax:120,role:"visited"}),createElevatorElement:(k,w)=>d(Be.SelectorNodeElevator,k,w,{elevatorType:"single",color:r(),name:c(),quantity:1,height:2.5,enabledFloors:[],hasTransferFloor:!1,transferFloors:[],capacityNominal:18,capacityRate:80,doorOperationTime:2.5,doorCapacity:1,positioningTime:5,approachDistance:5,approachSpeed:2,acceleration:2,maxSpeed:4,idleStayTime:120,parkingAreaMorning:[],parkingAreaEvening:[]})}},kg=({id:e,data:t})=>({id:e,name:t.name,color:t.color,value:"0"}),Cg=(e,t,n,o,l)=>({registryElevator:f=>{l.value=[...l.value,f]},unRegistryElevator:f=>{l.value=l.value.filter(p=>p.id!=f.id)},registryFloor:f=>{t.value=[...t.value,f],e.value.data.groups.push(kg(f))},unRegistryFloor:f=>{t.value=t.value.filter(p=>p.id!=f.id),e.value.data.groups=e.value.data.groups.filter(p=>p.id!=f.id)},registryTempFloor:f=>{n.value=[...n.value,f]},unRegistryTempFloor:f=>{n.value=n.value.filter(p=>p.id!=f.id)},registryParkingFloor:f=>{o.value=[...o.value,f]},unRegistryParkingFloor:f=>{o.value=o.value.filter(p=>p.id!=f.id)}});class Vg{constructor(t,n,o){this.api=t,this.url=n,this.modelId=o}async run(t,n){if(window.CloudClient){const o=window.CloudClient.create(this.api,this.url),l=await o.getModelById(this.modelId),i=await o.getLatestModelVersion(l);let r=o.createDefaultInputs(i);r.setInput("timeOfDay",n.others.day_time),r.setInput("runsCount",1),r.setInput("maxBadPassWaitingTime",n.others.global_settings.gradation.bad),r.setInput("maxGoodPassWaitingTime",n.others.global_settings.gradation.good),r.setInput("maxMediumPassWaitingTime",n.others.global_settings.gradation.medium),r.setInput("allowElevatorsSelfReturn",n.others.global_settings.autoreturn),r.setInput("statsCalculationPeriod",2);const s=JSON.stringify(n);return r.setInput("variant",s),await o.startAnimation(r,t)}}}const it={is_required:"Необходимо заполнить поле.",period:"Значения периода моделирования должны быть указаны в формате ЧЧ:ММ, в 12-ти часовом формате! Пиковое время не должно наступать раньше начального, конечное раньше пикового и т.д.",gradation:"Хорошее время ожидания должно быть меньше среднего, а среднее меньше плохого",dublicate_name:"Каждая группа (этажей или лифтов) должна иметь уникальное название",lift_without_group:"Каждая группа лифтов должна относиться хотя бы к одной группе этажей",dublicate_color:"Цвет группы лифтов не должен совпадать с цветом обслуживаемой группы этажей",transfer:"Вы отметили, что необходима пересадка на этаже, но не указали ни одного этажа пересадки. Выберите этажи пересадки",no_traffic:'Вы не заполнили форму в панели "Пассажиропоток". Населенность должна быть больше 0.',cross_floors:"Группы этажей должны включать уникальные наборы этажей. Один этаж не может находиться в разных группах этажей",wrongTo:'Значение "до" не может быть меньше значения "от". Проверьте значения в диапазонах этажей групп и пассажиропотока.',wrongToCommon:'Значение "до" не может быть меньше значения "от".',techFloorError:"Исключите технический этаж из группы этажей",visiting_time:"Минимальное время нахождения посетителей должно быть меньше вероятного, а вероятное меньше максимального",traffic_range_from_to:'Значение диапазона пассажиропотока "От" не может быть больше значения "До"',traffic_range_group_from_to:"Диапазон пассажиропотока выходит за пределы диапазона соответствующей группы этажей",traffic_range_cross:"Диапазоны пассажиропотока не должны иметь пересечений с другими диапазонами",no_parking:"Вы указали наличие паркинга, но не создали ни одной группы этажей паркинга.",no_temp:"Вы указали наличие этажей временного посещения, но не создали ни одной группы этажей временного посещения.",too_many_floors:"Количество этажей в группе этажей не может превышать количество этажей в здании",wrong_cabin_height:"Высота кабины не может быть больше высоты этажа в здании",incorrect:"Введено некорректное значение",not_used_floors:"Существующие группы этажей обслуживают не все этажи здания",start_time_more_then_peek:"Начальное время должно быть меньше пикового",peek_time_more_then_finish:"Пиковое время должно быть меньше конечного",dublicate_lift:e=>`Группа лифтов с названием "${e}" уже есть. Все группы должны иметь уникальные названия, иначе сервис будет работать некорректно!`,dublicate_floor:e=>`Группа этажей с названием "${e}" уже есть. Все группы должны иметь уникальные названия, иначе сервис будет работать некорректно!`},nn=({id:e,data:t})=>({id:`${e}`,name:t.name,color:t.color,ceiling_height:t.height,floor_numbers:{"План 1":{lower:+t.lower,upper:+t.upper}},role:t.role,visit_delay_time:{},export_stats:!1}),Tg=({id:e,data:t})=>({id:e,color:t.color,enabled_floors:[...t.enabledFloors,...t.transferFloors],parking_floors:[1,4],idle_stay_time:+t.idleStayTime,quantity:+t.quantity,capacity_nominal:+t.capacityNominal,capacity_rate:+t.capacityRate/100,door_operation_time:+t.doorOperationTime,door_capacity:+t.doorCapacity,positioning_time:+t.positioningTime,approach_distance:+t.approachDistance,approach_speed:+t.approachSpeed,acceleration:+t.acceleration,max_speed:+t.maxSpeed}),rr=e=>({floors:[e.id],distribution:[{floors:[1],rate:1}],number:+e.value}),Za=(e,t)=>{const n=(o,l,i)=>({id:o,name:o,color:"#ebebeb",ceiling_height:t,floor_numbers:{"План 1":{lower:l,upper:i}},role:"special",visit_delay_time:{},export_stats:!1});return e.sort().map((o,l)=>n(`ТЭ ${l+1}`,+o,+o))};function Ng(e){return!e.every(({lower:t,upper:n})=>t<=n)}function Pg(e,t){return e[e.length-1].upper>t}function Mg(e,t){const n=e.some(i=>i.lower===0||i.upper===0);let o=e[0];const l=o.lower;for(let i=1;i<e.length;i++){const r=e[i];if((o.upper+1||(n?0:1))<r.lower)return r;o=r}return l<=1&&o.upper===t?void 0:o}function Fg(e){return e.find(t=>{var n;return!((n=t.data.enabledFloors)!=null&&n.length)})}function Ka(e,t,n){const o=[],l=e.map(i=>({...i.floor_numbers["План 1"],id:i.id})).toSorted((i,r)=>+r.lower<+i.lower?1:-1);return Fg(n)&&o.push(it.lift_without_group),Ng(l)&&o.push(it.wrongTo),Pg(l,+t.data.floorsCount)&&o.push(it.too_many_floors),Mg(l,+t.data.floorsCount)&&o.push(it.not_used_floors),o}function Bg(e,t,n){return[rr({id:e.id,name:e.data.name,value:"0"}),...t.data.groups.map(o=>rr(o)),...n.map(o=>rr({id:o.id||"",name:o.name||"",value:"0"}))]}function Ag(e,t){return[...e.data.floors.entries()].filter(([n,o])=>t.some(([l,i])=>l<=n&&n<=i)&&+o).map(([n,o])=>({floors:[n],number:+o||0,distribution:[{floors:[1],rate:1}]}))}class sr{static check(t,n,o,l,i,r){const s=Za(t.value.data.technicalFloors,t.value.data.technicalFloorHeight),u=[nn(n.value),...o.value.map(a=>nn(a)),...l.value.map(a=>nn(a)),...s,...i.value.map(a=>nn(a))];return Ka(u,t.value,r.value)}static create(t,n,o,l,i,r,s,u){const a={start:o.value.data.eveningStart,peak:o.value.data.eveningPeak,finish:o.value.data.eveningFinish},c={start:o.value.data.morningStart,peak:o.value.data.morningPeak,finish:o.value.data.morningFinish},d=Za(o.value.data.technicalFloors,o.value.data.technicalFloorHeight),h=[nn(l.value),...i.value.map(m=>nn(m)),...r.value.map(m=>nn(m)),...d,...s.value.map(m=>nn(m))],f=Ka(h,o.value,u.value);if(f!=null&&f.length)throw new Error(f[0]);const p=n.value.data.formFill=="group"?Bg(l.value,n.value,d):n.value.data.formFill=="floor"?Ag(n.value,i.value.map(m=>[m.data.lower,m.data.upper])):[];return{format_version:.6,simulation_time:t.value?{evening:a}:{morning:c},floor_plans:["План 1"],floor_groups:h.map(m=>({anytime:m})),elevator_groups:u.value.map(m=>({anytime:Tg(m),morning:{parking_floors:m.data.parkingAreaMorning},evening:{parking_floors:m.data.parkingAreaEvening}})),traffic:{anytime:{building_type:n.value.data.buildingType,transfer_floors:o.value.data.transferFloors,total_rate:1,capacitive:p},morning:{},evening:{}},others:{id:new Date().toLocaleDateString(),name:o.value.data.name,floors_amount:+o.value.data.floorsCount,day_time:t.value?"evening":"morning",global_settings:{time:10,iter_amount:1,gradation:{good:o.value.data.gradationGood,medium:o.value.data.gradationMedium,bad:o.value.data.gradationBad},autoreturn:o.value.data.autoreturn}}}}}const Ig=(e,t,n,o,l,i,r,s,u)=>{const a="2bd464a3-c9be-4d7d-a5ef-3c4dc2d65737",c="8decc25a-8b24-4bbc-ae0a-7870a8f90834",d="https://anylogic.vostokgosplan.ru/",h=new Vg(c,d,a),f=[.002,.004,.01,.02,.1,.2,1,2,5,Number.POSITIVE_INFINITY],p=ne(f[0]),m=Y=>{const j=f.findIndex(fe=>fe==p.value),ae=Y<0?Math.max(j-1,0):Math.min(j+1,f.length-2);return f[ae]},g=ne(null),_=ne(null),x=W(()=>g.value!="RUN"||p.value==f[0]),k=W(()=>g.value!="RUN"||p.value==f[f.length-2]),w=W(()=>g.value!="RUN"||p.value==f[f.length-1]),M=ne(!1),b=ne(!0),z=ne(!0);let C,L;const H=()=>{clearInterval(L),p.value=f[0],M.value=!1,b.value=!0,z.value=!0,g.value=null,_.value=null},Q=()=>{var Y;(Y=C==null?void 0:C.getState())==null||Y.then(j=>{b.value=j!="RUNNING",z.value=j!="PAUSED",j=="FINISHED"&&clearInterval(L)}),C==null||C.callFunction("experiment.root.getCurrentTime",[]).then(j=>_.value=j)},G=()=>sr.create(t,n,o,l,i,r,s,u),le=async Y=>{const j=JSON.parse(Y);g.value="RUNNING",e.value=!1,console.log(JSON.stringify(j));try{M.value=!1,p.value=.002,C=await h.run("animation-container",j),L=setInterval(Q,1e3),setTimeout(()=>g.value="RUN",1e3),await(C==null?void 0:C.waitForCompletion()),console.log("STOPED")}catch(ae){console.error(ae)}finally{H()}},E=()=>sr.check(o,l,i,r,s,u),X=async()=>{const Y=sr.create(t,n,o,l,i,r,s,u);g.value="RUNNING",e.value=!1;try{M.value=!1,p.value=.002,C=await h.run("animation-container",Y),L=setInterval(Q,1e3),setTimeout(()=>g.value="RUN",1e3),await(C==null?void 0:C.waitForCompletion()),console.log("STOPED")}catch(j){console.error(j)}finally{H()}},V=async()=>{console.log("STOP"),C&&(await C.stop(),e.value=!0,H())},O=async()=>{console.log("PAUSE"),C&&await C.pause()},I=async()=>{console.log("RESUME"),C&&await C.resume()},T=async Y=>{if(console.log("SET_SPEED"),!C)return;const j=m(Y);p.value=j,await C.setSpeed(j)};return{isDisabledRunBtn:M,isRun:g,time:_,getJson:G,runSimulationByJson:le,checkSimulation:E,runSimulation:X,stopSimulation:V,isDisabledPauseBtn:b,isDisabledResumeBtn:z,resumeSimulation:I,pauseSimulation:O,minusSpeed:()=>T(-1),plusSpeed:()=>T(1),setMaxSpeed:async()=>{if(console.log("SET_MAX_SPEED"),!C)return;const Y=f[f.length-1];p.value=Y,await C.setSpeed(Y)},simulationSpeed:p,isDisabledMinusBtn:x,isDisabledPlusBtn:k,isDisabledMaxSpeedBtn:w}},{createTraficElement:Og,createFirstFloorElement:Dg,createBuildingElement:Rg,createParkingFloorElement:zg,createFloorElement:Ja,createTempFloorElement:Lg,createElevatorElement:Qa}=Eg(),qn=ym("store",()=>{const e=Og(0,0),t=Rg(360,0),n=Dg(360,400),o=Ja(750,0),l=Qa(1120,0),i=ne([e,t,n,o,l]),r=v=>i.value.find($=>$.id==v),s=W(()=>r(t.id)),u=W(()=>r(e.id)),a=W(()=>r(n.id)),c=W(()=>{var v;return(v=s.value)==null?void 0:v.data.isDivideIntoFloorGroups}),d=W(()=>{var v,$;return($=(v=s.value)==null?void 0:v.data)==null?void 0:$.hasTemporaryFloors}),h=W(()=>{var v,$;return($=(v=s.value)==null?void 0:v.data)==null?void 0:$.hasParking}),f=ne(!0),p=W(()=>i.value.filter(v=>v.type==Be.SelectorNodeFirstFloor||v.type==Be.SelectorNodeFloor||v.type==Be.SelectorNodeTempFloor||v.type==Be.SelectorNodeParkingFloor).map(v=>v)),m=W(()=>i.value.filter(v=>v.type==Be.SelectorNodeElevator).map(v=>v)),g=W(()=>m.value.flatMap(v=>v.data.enabledFloors)),_=W(()=>p.value.filter(v=>!g.value.includes(v.id))),x=ne([]),k=ne([]),w=ne([]),M=ne([]),b=W(()=>[a.value,...x.value,...k.value,...w.value].map(v=>({text:v.data.name,value:v.id,color:v.data.color,lower:v.data.lower,upper:v.data.upper}))),z=Cg(u,x,k,w,M);l.data.enabledFloors=[n.id,o.id],z.registryFloor(o),z.registryElevator(l);const C=W(()=>!0),L=ne(!0),H=ne(!1),Q=ne(new Map),G=W(()=>new Set(Q.value.values())),le=W(()=>Math.min(s.value.data.floorHeight,...p.value.map(v=>v.data.height))),{isDisabledRunBtn:E,isRun:X,time:V,getJson:O,runSimulationByJson:I,checkSimulation:T,runSimulation:R,stopSimulation:Y,minusSpeed:j,plusSpeed:ae,setMaxSpeed:fe,simulationSpeed:ee,isDisabledPauseBtn:se,isDisabledResumeBtn:ie,resumeSimulation:de,pauseSimulation:Se,isDisabledMinusBtn:P,isDisabledPlusBtn:D,isDisabledMaxSpeedBtn:y}=Ig(L,H,u,s,a,x,k,w,M);return{elements:i,building:s,trafic:u,firstFloor:a,canAddFloor:c,canAddTempFloor:d,canAddParkingFloor:h,canAddElevator:f,createFloorElement:Ja,createParkingFloorElement:zg,createTempFloorElement:Lg,createElevatorElement:Qa,registry:z,floors:p,elevators:m,availableFloors:_,floorGroups:x,tempFloorGroups:k,parkingFloorGroups:w,elevatorGroups:M,allFloorGroups:b,isDisabledRunBtn:E,isRun:X,time:V,canRunSimulation:C,getJson:O,runSimulationByJson:I,checkSimulation:T,runSimulation:R,stopSimulation:Y,minusSpeed:j,plusSpeed:ae,setMaxSpeed:fe,simulationSpeed:ee,isEverning:H,isHideSimulationPanel:L,isDisabledPauseBtn:se,isDisabledResumeBtn:ie,resumeSimulation:de,pauseSimulation:Se,isDisabledMinusBtn:P,isDisabledPlusBtn:D,isDisabledMaxSpeedBtn:y,errorMessages:G,errorCenter:Q,minHeight:le}}),Hg="/elevator_simulator_demo/assets/logo-b1663915.png",Ug=nt('<g filter="url(#a)"><rect width="40" height="40" fill="#15767D" rx="20"></rect><path fill="#fff" d="M27.548 20.788a.913.913 0 0 0 0-1.576l-12.193-7.089a.903.903 0 0 0-1.355.788v14.178c0 .7.753 1.138 1.355.788l12.193-7.09Z"></path></g><defs><filter id="a" width="60" height="60" x="-10" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1712_61068"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1712_61068" result="shape"></feBlend></filter></defs>',2),jg=[Ug],Gg=ce({__name:"StartBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",disabled:"",class:we(t.disabled?"disabled":"clickable")},jg,2))}}),Yg=nt('<g filter="url(#a)"><rect width="40" height="40" fill="#15767D" fill-opacity="1" rx="20"></rect><rect width="16" height="16" x="12" y="12" fill="#fff" rx="2"></rect></g><defs><filter id="a" width="60" height="60" x="-10" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1712_61004"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1712_61004" result="shape"></feBlend></filter></defs>',2),qg=[Yg],Xg=ce({__name:"StopBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",class:we(t.disabled?"disabled":"clickable")},qg,2))}}),Wg={class:"time-btn"},Zg={class:"flex-row between centered-align"},Kg=q("p",{class:"time-btn__text"},"Утро",-1),Jg=q("p",{class:"time-btn__text"},"Вечер",-1),Qg=ce({__name:"TimeBtn",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=()=>t("update:modelValue",!n.modelValue),l=i=>i?"time-btn__select-morning":"time-btn__select-everning";return(i,r)=>(F(),K("div",Wg,[q("div",Zg,[Kg,q("div",{class:"time-btn__select flex-row between",onClick:o},[q("div",{class:we(l(n.modelValue))},null,2),q("div",{class:we(l(!n.modelValue))},null,2)]),Jg])]))}});const Jt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},ev={},tv={class:"flex-row gap24"},nv=nt('<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" viewBox="0 0 24 24" class="clickable"><rect width="14.4" height="6" x="4.8" y="4.801" fill="#15767D" rx="3"></rect><rect width="14.4" height="6" x="4.8" y="13.199" fill="#15767D" fill-opacity="0.6" rx="3"></rect><circle cx="16.2" cy="7.8" r="1.8" fill="#E1ECF2"></circle><circle cx="7.8" cy="16.198" r="1.8" fill="#E1ECF2"></circle></svg>',1),ov=[nv];function lv(e,t){return F(),K("div",tv,ov)}const iv=Jt(ev,[["render",lv]]),rv=q("g",{stroke:"#15767D","stroke-width":"1.5"},[q("path",{fill:"#E1ECF2","stroke-linecap":"round","stroke-linejoin":"round",d:"m19.668 7.94-.066-.115a2 2 0 0 1-.268-1.034l.03-1.779a1 1 0 0 0-.5-.883l-2.737-1.577a1 1 0 0 0-1.013.009l-1.52.91a2 2 0 0 1-1.027.283h-.132a2 2 0 0 1-1.029-.285L9.88 2.553a1 1 0 0 0-1.017-.008L6.135 4.13a1 1 0 0 0-.498.881l.03 1.781A2 2 0 0 1 5.4 7.825l-.064.113a2 2 0 0 1-.763.749l-1.555.861a1 1 0 0 0-.515.877l.007 3.152a1 1 0 0 0 .514.871l1.547.861a2 2 0 0 1 .764.755l.07.121a2 2 0 0 1 .263 1.027l-.03 1.773a1 1 0 0 0 .501.884l2.737 1.577a1 1 0 0 0 1.013-.009l1.519-.91a2 2 0 0 1 1.027-.283h.132c.362 0 .718.098 1.03.285l1.525.916a1 1 0 0 0 1.017.008l2.728-1.584a1 1 0 0 0 .498-.881l-.03-1.781a2 2 0 0 1 .268-1.034l.065-.113a2 2 0 0 1 .762-.749l1.555-.861a1 1 0 0 0 .515-.877l-.007-3.152a1 1 0 0 0-.514-.872l-1.55-.863a2 2 0 0 1-.76-.747Z"}),q("path",{fill:"#fff",d:"M12.5 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"})],-1),sv=[rv],av=ce({__name:"ProjectSettingsBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",fill:"none",viewBox:"0 0 25 24",class:we(t.disabled?"disabled":"chamomile clickable")},sv,2))}}),Dl=ce({__name:"Modal",emits:["click-outside"],setup(e,{emit:t}){const n=ne(null),o=l=>n.value===l.target&&t("click-outside");return(l,i)=>(F(),K("div",{ref_key:"modal",ref:n,class:"flex centered modal",onMousedown:o},[Ee(l.$slots,"default")],544))}});const uv={class:"flex-row between centered-align"},cv={class:"flex-row"},dv=q("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13 7 7 1 1 7"},null,-1),fv=[dv],pv={key:0,class:"flex-col gap24 main-block__container__content"},zt=ce({__name:"MainBlock",props:{title:{},color:{},isInSight:{type:Boolean}},setup(e){const t=ne(!1),n=W(()=>t.value?"rotated":"unrotated"),o=_s(),l=W(()=>o["title-icon-left"]?"margin-right: 8px":"");return(i,r)=>(F(),K("div",{class:"main-block__container",style:Ae(`border: 1px solid ${i.color||""};border-radius: 12px`)},[q("div",uv,[q("div",cv,[Ee(i.$slots,"title-icon-left"),q("h3",{class:"modal-title",style:Ae(l.value)},De(i.title),5)]),i.isInSight?me("",!0):(F(),K("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",fill:"none",viewBox:"0 0 14 8",class:we(`clickable ${n.value}`),onClick:r[0]||(r[0]=s=>t.value=!t.value)},fv,2))]),B(Ss,{name:"main-block__content"},{default:re(()=>[t.value?me("",!0):(F(),K("div",pv,[Ee(i.$slots,"default")]))]),_:3})],4))}}),hv={class:"flex-col gap8"},mv={class:"flex-row"},gv={class:"block-title"},vv={key:0,class:"block_help-text flex centered clickable",textContent:"?"},yv={key:0,class:"flex-col gap8"},gn=ce({__name:"Block",props:{title:{},helpText:{}},setup(e){const{title:t,helpText:n}=e,o=_s(),l=W(()=>`<div class="tooltip-block-super">${n}</div>`);return(i,r)=>{const s=$i("tooltip");return F(),K("div",hv,[q("div",mv,[q("h4",gv,De(i.title),1),i.helpText?fo((F(),K("p",vv,null,512)),[[s,{content:l.value,html:!0},void 0,{right:!0}]]):me("",!0)]),A(o).default?(F(),K("div",yv,[Ee(i.$slots,"default")])):me("",!0)])}}});const _v=["value","checked","onInput"],wv={key:0,class:"radio__checked flex centered"},bv=q("div",{class:"radio__checked__point"},null,-1),xv=[bv],$v={key:1,class:"radio__unchecked flex centered"},On=ce({__name:"BlockRadio",props:{modelValue:{},items:{}},emits:["update:modelValue"],setup(e){return(t,n)=>(F(!0),K(Me,null,ht(t.items,o=>(F(),K("label",{class:"radio",key:o.value},[q("input",{type:"radio",value:t.modelValue,checked:t.modelValue==o.value,onInput:l=>t.$emit("update:modelValue",o.value)},null,40,_v),t.modelValue==o.value?(F(),K("div",wv,xv)):(F(),K("div",$v)),al(" "+De(o.text),1)]))),128))}});const Sv=["disabled","placeholder","value"],wd=ce({__name:"NumberInput",props:{placeholder:{},disabled:{type:Boolean},modelValue:{},min:{},max:{},isFloat:{type:Boolean},isRequired:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=W(()=>n.min||0),l=W(()=>n.max||100),i=W(()=>Math.min(o.value,l.value)),r=W(()=>Math.max(o.value,l.value)),s=W(()=>i.value<0&&!n.isFloat||Math.floor(i.value)<0&&n.isFloat),u=W(()=>i.value<1&&!n.isFloat||Math.floor(i.value)<1&&n.isFloat),a=ne(""),c=ne(""),d=b=>{var z;return((z=b.target)==null?void 0:z.value)||""},h=b=>[...b].reduce((z,C)=>[...z,z.length?z[z.length-1]+C:C],[]),f=b=>{if(b){if(b==="-")return b;if(!Number.isNaN(+b))return+b==0?"0":(+b).toString()}return""};xe(()=>n.modelValue,b=>a.value=c.value=b,{immediate:!0});const p=b=>{(!n.isRequired||b)&&et(()=>t("update:modelValue",b))},m=b=>{const z=d(b);c.value=f(z)},g=b=>n.isFloat?i.value<=b&&r.value>=b:Math.floor(i.value)<=b&&Math.floor(r.value)>=b,_=b=>b?Number.isNaN(+b)&&s.value?h("-0.00").includes(b):+b==0&&u.value?h("0.00").includes(b):g(+b):!1,x=(b,z,C,L)=>{const H=b.substring(0,C)+z+b.substring(L);return _(H)},k=b=>{const z=b.key,C=b.target;if(!b.ctrlKey&&C&&z.length===1){const L=C.selectionStart||0,H=C.selectionEnd||0;x(C.value,z,L,H)||b.preventDefault()}},w=b=>{const z=d(b),C=n.isRequired&&z===""?a.value:c.value;C==n.modelValue&&(c.value=C),p(C)},M=b=>{var L;const z=(L=b.clipboardData)==null?void 0:L.getData("text"),C=b.target;if(z){const H=C.selectionStart||0,Q=C.selectionEnd||0;x(C.value,z,H,Q)||b.preventDefault()}};return(b,z)=>(F(),K("input",{disabled:!!n.disabled,placeholder:b.placeholder,type:"text",value:c.value,onInput:z[0]||(z[0]=C=>m(C)),onKeydown:k,onBlur:w,onPaste:M},null,40,Sv))}}),Ev=["disabled","placeholder","value"],kv=ce({__name:"TextInput",props:{placeholder:{},disabled:{type:Boolean},modelValue:{},isRequired:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ne(""),l=ne(""),i=a=>{var c;return((c=a.target)==null?void 0:c.value)||""};xe(()=>n.modelValue,a=>o.value=l.value=a,{immediate:!0});const r=a=>{(!n.isRequired||a)&&et(()=>t("update:modelValue",a))},s=a=>l.value=i(a),u=a=>{const c=i(a),d=n.isRequired&&c===""?o.value:l.value;d==n.modelValue&&(l.value=d),r(d)};return(a,c)=>(F(),K("input",{disabled:!!n.disabled,placeholder:a.placeholder,type:"text",value:l.value,onInput:c[0]||(c[0]=d=>s(d)),onBlur:u},null,40,Ev))}}),Cv={class:"flex-col gap12",style:{"margin-top":"24px"}},Vv=q("p",{class:"project-settings__label"},"Название проекта",-1),Tv=q("p",{class:"project-settings__label"},"Общее количество этажей",-1),Nv=q("p",{class:"gCWdMI"},[q("span",null,"Внимание!"),al(" Возможность изменять тип здания и этажность будет доступна только в течении 24 часов после создания проекта!")],-1),Pv=ce({__name:"ProjectSettings",emits:["cancel"],setup(e,{emit:t}){const n=qn(),o=[{text:"Жилое",value:"residential"},{text:"Бизнес",value:"business"},{text:"Смешанное",value:"mixed"}],l=()=>{n.building.data.name=r.value,n.building.data.floorsCount=s.value,n.trafic.data.buildingType=u.value,t("cancel")},i=()=>{t("cancel")},r=ne(n.building.data.name),s=ne(n.building.data.floorsCount),u=ne(n.trafic.data.buildingType);return We(()=>{r.value=n.building.data.name,s.value=n.building.data.floorsCount,u.value=n.trafic.data.buildingType}),(a,c)=>(F(),he(zt,{title:"Новый проект",class:"project-settings","is-in-sight":""},{default:re(()=>[q("div",Cv,[q("div",null,[Vv,B(kv,{"is-required":"",placeholder:"Новый проект",class:"project-settings__input",modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d)},null,8,["modelValue"])]),q("div",null,[Tv,B(wd,{"is-required":"",min:1,max:100,class:"project-settings__input",placeholder:"30",modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d)},null,8,["modelValue"])])]),B(gn,{title:"Тип здания",style:{"margin-top":"12px"}},{default:re(()=>[B(On,{items:o,modelValue:u.value,"onUpdate:modelValue":c[2]||(c[2]=d=>u.value=d)},null,8,["modelValue"])]),_:1}),q("div",{class:"flex-row between"},[q("button",{class:"project-settings__btn-apply",onClick:l},"Сохранить"),q("button",{class:"project-settings__btn-cancel",onClick:i},"Отмена")]),Nv]),_:1}))}});const Mv={key:0,class:"flex-row centered-align",style:{"margin-bottom":"8px"}},Fv={class:"modal-subtitle"},Ue=ce({__name:"GroupBox",props:{title:{},color:{},isTitleMode:{type:Boolean}},setup(e){return(t,n)=>(F(),K("div",null,[t.title?(F(),K("div",Mv,[t.color?(F(),K("div",{key:0,class:"group-box_title_color-box",style:Ae({backgroundColor:t.color})},null,4)):me("",!0),q("h4",Fv,De(t.title),1)])):me("",!0),q("div",{class:we(`${t.isTitleMode?"flex-col gap8":"input-block"} modal-subtitle_content`)},[Ee(t.$slots,"default")],2)]))}});const Bv=["disabled","value"],Av=ce({__name:"TextMaskInput",props:{placeholder:{},disabled:{type:Boolean},modelValue:{},isRequired:{type:Boolean},behavior:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ne(""),l=ne(""),i=f=>{var p;return((p=f.target)==null?void 0:p.value)||""},r=f=>{var p;return f&&((p=n.behavior)!=null&&p.isValid(f))?f:""};xe(()=>n.modelValue,f=>o.value=l.value=f,{immediate:!0});const s=f=>{(!n.isRequired||f)&&et(()=>t("update:modelValue",f))},u=f=>{const p=i(f);l.value=r(p)},a=(f,p,m,g)=>f.substring(0,m)+p+f.substring(g),c=f=>{var g,_,x;const p=f.key,m=f.target;if(!f.ctrlKey&&m&&p.length===1){const k=m.selectionStart||0,w=m.selectionEnd||0,M=a(m.value,p,k,w),b=(g=n.behavior)==null?void 0:g.toTransform(M);b?((_=n.behavior)!=null&&_.isValid(b)&&(l.value=b),f.preventDefault()):(x=n.behavior)!=null&&x.isValid(M)||f.preventDefault()}},d=f=>{var g,_;const p=(g=f.clipboardData)==null?void 0:g.getData("text"),m=f.target;if(p){const x=m.selectionStart||0,k=m.selectionEnd||0,w=a(m.value,p,x,k);(_=n.behavior)!=null&&_.isValid(w)||f.preventDefault()}},h=f=>{var g;const p=i(f),m=(g=n.behavior)!=null&&g.isValidFinal(p)?l.value:o.value;m==n.modelValue&&l.value!=m&&(l.value=m),s(m)};return(f,p)=>(F(),K("input",{disabled:!!n.disabled,class:"input-row_value-input",placeholder:"ЧЧ:ММ",type:"text",value:l.value,onInput:p[0]||(p[0]=m=>u(m)),onKeydown:c,onBlur:h,onPaste:d},null,40,Bv))}}),Iv={class:"input-row__value__measure"},Kn=ce({__name:"InputRowTime",props:{title:{},measure:{},placeholder:{default:""},color:{},disabled:{type:Boolean},modelValue:{},bgColor:{},isFlight:{type:Boolean},min:{},max:{},isFloat:{type:Boolean},rules:{},isRequired:{type:Boolean},behavior:{}},emits:["update:modelValue","update:error"],setup(e,{emit:t}){const n=e,o=W(()=>n.bgColor),l=ne(!1),i=W(()=>l.value&&n.isFlight&&"input-row__is-borned"||""),r=W(()=>{for(const c of(n==null?void 0:n.rules)||[]){const d=typeof c=="function"?c(n.modelValue):c;if(d)return d}return null});xe(r,c=>t("update:error",c));const s=W(()=>r.value?"input-row__is-not-valid":i.value),u=W(()=>typeof r.value=="string"?{content:`<div class="tooltip-block-error">${r.value}</div>`,html:!0,theme:"error"}:null);We(()=>{n.isFlight&&(l.value=!0)});const a=c=>t("update:modelValue",c||"");return(c,d)=>{const h=$i("tooltip");return fo((F(),K("div",{class:we(`input-row input relative ${s.value}`),style:Ae({backgroundColor:o.value})},[q("div",{class:we(`input-row__title flex-row centered-align ${n.disabled?"disabled":""}`)},[n.color?(F(),K("div",{key:0,class:"input-row__title__color-point",style:Ae(`background-color: ${n.color}`)},null,4)):me("",!0),q("p",null,De(n.title),1)],2),q("div",{class:we(`nodrag input-row__value flex-row centered-align end ${n.disabled?"disabled":""}`),style:{"padding-right":"8px"}},[B(Av,{disabled:!!n.disabled,class:"input-row__value__input","is-required":n.isRequired,"model-value":n.modelValue,"onUpdate:modelValue":a,behavior:c.behavior},null,8,["disabled","is-required","model-value","behavior"]),q("span",Iv,De(n.measure),1)],2)],6)),[[h,u.value,void 0,{top:!0}]])}}}),Ov={class:"input-row__value__measure"},Te=ce({__name:"InputRowNumber",props:{title:{},measure:{},placeholder:{default:""},color:{},disabled:{type:Boolean},modelValue:{},bgColor:{},isFlight:{type:Boolean},min:{},max:{},isFloat:{type:Boolean},rules:{},isRequired:{type:Boolean}},emits:["update:modelValue","update:error"],setup(e,{emit:t}){const n=e,o=W(()=>n.bgColor),l=ne(!1),i=W(()=>l.value&&n.isFlight&&"input-row__is-borned"||""),r=W(()=>{for(const c of(n==null?void 0:n.rules)||[]){const d=typeof c=="function"?c(n.modelValue):c;if(d)return d}return null});xe(r,c=>t("update:error",c));const s=W(()=>r.value?"input-row__is-not-valid":i.value),u=W(()=>r.value?{content:`<div class="tooltip-block-error">${r.value}</div>`,html:!0,theme:"error"}:null);We(()=>{n.isFlight&&(l.value=!0)});const a=c=>t("update:modelValue",c||"");return(c,d)=>{const h=$i("tooltip");return fo((F(),K("div",{class:we(`input-row input relative ${s.value}`),style:Ae({backgroundColor:o.value})},[q("div",{class:we(`input-row__title flex-row centered-align ${n.disabled?"disabled":""}`)},[n.color?(F(),K("div",{key:0,class:"input-row__title__color-point",style:Ae(`background-color: ${n.color}`)},null,4)):me("",!0),q("p",null,De(n.title),1)],2),q("div",{class:we(`nodrag input-row__value flex-row centered-align end ${n.disabled?"disabled":""}`),style:{"padding-right":"8px"}},[B(wd,{min:c.min,max:c.max,disabled:!!n.disabled,class:"input-row__value__input","is-required":n.isRequired,placeholder:c.placeholder,"model-value":n.modelValue,"is-float":c.isFloat,"onUpdate:modelValue":a,onClick:d[0]||(d[0]=f=>l.value=!1)},null,8,["min","max","disabled","is-required","placeholder","model-value","is-float"]),q("span",Ov,De(n.measure),1)],2)],6)),[[h,u.value,void 0,{top:!0}]])}}}),Dv={class:"flex-col gap20",style:{"margin-top":"12px"}},Rv=q("div",{textContent:"Ошибка заполнения форм",class:"project-error_title"},null,-1),zv={class:"project-error_text"},bd=ce({__name:"ErrorModal",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;return(o,l)=>{var i;return(i=n.modelValue)!=null&&i.length?(F(),he(Dl,{key:0,onClickOutside:l[1]||(l[1]=r=>t("update:modelValue",null))},{default:re(()=>[B(zt,{title:"",class:"project-error","is-in-sight":""},{default:re(()=>[q("div",Dv,[Rv,(F(!0),K(Me,null,ht(n.modelValue,r=>(F(),K("p",zv,De(r),1))),256)),q("button",{class:"project-settings__btn-cancel project-error__btn",onClick:l[0]||(l[0]=r=>t("update:modelValue",null))},"Закрыть")])]),_:1})]),_:1})):me("",!0)}}});class eu{inDiapazone(t,n,o){return n<=t&&t<=o}isValidForLen2(t){return this.inDiapazone(+t,0,23)}isValidForLen3(t){return this.isValidForLen2(t.substring(0,2))&&t[2]===":"}isValidForLen4(t){return this.isValidForLen3(t.substring(0,3))&&this.inDiapazone(+t[3],0,5)}isValidForLen5(t){return this.isValidForLen4(t.substring(0,4))&&this.inDiapazone(+t[4],0,59)}isValid(t){switch(t==null?void 0:t.length){case 1:return this.inDiapazone(+t,0,2);case 2:return this.isValidForLen2(t);case 3:return this.isValidForLen3(t);case 4:return this.isValidForLen4(t);case 5:return this.isValidForLen5(t)}return!1}isValidFinal(t){return(t==null?void 0:t.length)===5?this.isValidForLen5(t):!1}toTransform(t){if(t&&(t.length===3||t.length===4)&&this.isValidForLen2(t.substring(0,2))&&this.inDiapazone(+t[2],0,5))return`${t.substring(0,2)}:${t.substring(2)}`}}const Lv=q("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"8",fill:"none",viewBox:"0 0 12 8"},[q("path",{stroke:"#fff","stroke-linecap":"round","stroke-width":"2",d:"m1.833 4 3.333 2.5 5-5"})],-1),Hv=[Lv],Pn=ce({__name:"CheckBox",props:{title:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;return(o,l)=>(F(),K("div",{class:"checkbox__container undefined flex-row clickable centered-align",onClick:l[0]||(l[0]=i=>t("update:modelValue",!n.modelValue))},[q("div",{class:we(`${n.modelValue?"checkbox__box__clicked":"checkbox__box"} flex centered`)},Hv,2),q("span",null,De(n.title),1)]))}});const Uv={class:"flex-col gap8",style:{"margin-top":"12px"}},jv={class:"flex-col gap8"},Gv="Поскольку у вас есть возможность переключаться между утренним и вечерним периодом, время должно быть указано в 12-часовом диапазоне",Yv=ce({__name:"Settings",emits:["cancel"],setup(e,{emit:t}){const n=new eu,o=new eu,l=qn(),i=ne(l.building.data.morningStart),r=ne(l.building.data.morningPeak),s=ne(l.building.data.morningFinish),u=ne(l.building.data.eveningStart),a=ne(l.building.data.eveningPeak),c=ne(l.building.data.eveningFinish),d=ne(l.building.data.gradationGood),h=ne(l.building.data.gradationMedium),f=ne(l.building.data.gradationBad),p=ne(l.building.data.autoreturn);We(()=>{i.value=l.building.data.morningStart,r.value=l.building.data.morningPeak,s.value=l.building.data.morningFinish,u.value=l.building.data.eveningStart,a.value=l.building.data.eveningPeak,c.value=l.building.data.eveningFinish,d.value=l.building.data.gradationGood,h.value=l.building.data.gradationMedium,f.value=l.building.data.gradationBad,p.value=l.building.data.autoreturn});function m(){l.building.data.morningStart=i.value,l.building.data.morningPeak=r.value,l.building.data.morningFinish=s.value,l.building.data.eveningStart=u.value,l.building.data.eveningPeak=a.value,l.building.data.eveningFinish=c.value,l.building.data.gradationGood=d.value,l.building.data.gradationMedium=h.value,l.building.data.gradationBad=f.value,l.building.data.autoreturn=p.value}const g=ne([]),_=W(()=>Q(i.value)),x=W(()=>Q(r.value)),k=W(()=>Q(s.value)),w=W(()=>Q(u.value)),M=W(()=>Q(a.value)),b=W(()=>Q(c.value)),z=W(()=>_.value>x.value?it.start_time_more_then_peek:null),C=W(()=>x.value>k.value?it.peek_time_more_then_finish:null),L=W(()=>w.value>M.value?it.start_time_more_then_peek:null),H=W(()=>M.value>b.value?it.peek_time_more_then_finish:null),Q=O=>{if(O&&(O==null?void 0:O.length)===5&&O[2]===":"){const I=+O[0]*10+ +O[1],T=+O[3]*10+ +O[4];return+I*60+ +T}return 0},G=()=>{const O=[...V.value.entries()].filter(([I,T])=>T).map(([I,T])=>I+": "+T);O.length?g.value=O.filter(I=>typeof I=="string"):(m(),t("cancel"))},le=()=>{t("cancel")};function E(O){return O!=null&&O!=""&&+h.value<=+O?"Хорошее время ожидания должно быть меньше среднего.":null}function X(O){return O!=null&&O!=""&&+f.value<=+O?"Среднее время ожидания должно быть меньше среднего.":null}const V=ne(new Map);return(O,I)=>(F(),K(Me,null,[B(zt,{title:"Глобальные параметры эксперимента",class:"project-settings","is-in-sight":""},{default:re(()=>[q("div",Uv,[B(gn,{title:"Период моделирования","help-text":Gv}),B(Ue,{title:"Утро"},{default:re(()=>[B(Kn,{title:"Начальное",color:"#15767D",modelValue:i.value,"onUpdate:modelValue":I[0]||(I[0]=T=>i.value=T),behavior:A(n),"is-required":"",rules:[z.value],"onUpdate:error":I[1]||(I[1]=T=>V.value.set("Утро(Начальное)",T))},null,8,["modelValue","behavior","rules"]),B(Kn,{title:"Пиковое",color:"#CC2024",modelValue:r.value,"onUpdate:modelValue":I[2]||(I[2]=T=>r.value=T),behavior:A(n),"is-required":"",rules:[C.value],"onUpdate:error":I[3]||(I[3]=T=>V.value.set("Утро(Пиковое)",T))},null,8,["modelValue","behavior","rules"]),B(Kn,{title:"Конечное",color:"#E4BD31",modelValue:s.value,"onUpdate:modelValue":I[4]||(I[4]=T=>s.value=T),behavior:A(n),"is-required":"","onUpdate:error":I[5]||(I[5]=T=>V.value.set("Утро(Конечное)",T))},null,8,["modelValue","behavior"])]),_:1}),B(Ue,{title:"Вечер"},{default:re(()=>[B(Kn,{title:"Начальное",color:"#15767D",modelValue:u.value,"onUpdate:modelValue":I[6]||(I[6]=T=>u.value=T),behavior:A(o),"is-required":"",rules:[L.value],"onUpdate:error":I[7]||(I[7]=T=>V.value.set("Вечер(Начальное)",T))},null,8,["modelValue","behavior","rules"]),B(Kn,{title:"Пиковое",color:"#CC2024",modelValue:a.value,"onUpdate:modelValue":I[8]||(I[8]=T=>a.value=T),behavior:A(o),"is-required":"",rules:[H.value],"onUpdate:error":I[9]||(I[9]=T=>V.value.set("Вечер(Пиковое)",T))},null,8,["modelValue","behavior","rules"]),B(Kn,{title:"Конечное",color:"#E4BD31",modelValue:c.value,"onUpdate:modelValue":I[10]||(I[10]=T=>c.value=T),behavior:A(o),"is-required":"","onUpdate:error":I[11]||(I[11]=T=>V.value.set("Вечер(Конечное)",T))},null,8,["modelValue","behavior"])]),_:1})]),q("div",jv,[B(Ue,{title:"Градация времени ожидания"},{default:re(()=>[B(Te,{title:"Хорошее «до»",measure:"сек",modelValue:d.value,"onUpdate:modelValue":I[12]||(I[12]=T=>d.value=T),min:0,max:1e3,"is-required":"",rules:[E],"onUpdate:error":I[13]||(I[13]=T=>V.value.set("Градация времени ожидания(Хорошее «до»)",T))},null,8,["modelValue","rules"]),B(Te,{title:"Среднее «до»",measure:"сек",modelValue:h.value,"onUpdate:modelValue":I[14]||(I[14]=T=>h.value=T),min:0,max:1e3,"is-required":"",rules:[X],"onUpdate:error":I[15]||(I[15]=T=>V.value.set("Градация времени ожидания(Среднее «до»)",T))},null,8,["modelValue","rules"]),B(Te,{title:"Плохое «до»",measure:"сек",modelValue:f.value,"onUpdate:modelValue":I[16]||(I[16]=T=>f.value=T),min:0,max:1e3,"is-required":"","onUpdate:error":I[17]||(I[17]=T=>V.value.set("Градация времени ожидания(Плохое «до»)",T))},null,8,["modelValue"])]),_:1})]),B(Pn,{title:"Разрешить автовозврат лифтов",modelValue:p.value,"onUpdate:modelValue":I[18]||(I[18]=T=>p.value=T)},null,8,["modelValue"]),q("div",{class:"flex-row between"},[q("button",{class:"project-settings__btn-apply",onClick:G},"Сохранить"),q("button",{class:"project-settings__btn-cancel",onClick:le},"Отмена")])]),_:1}),B(bd,{modelValue:g.value,"onUpdate:modelValue":I[19]||(I[19]=T=>g.value=T)},null,8,["modelValue"])],64))}}),qv={class:"project-header flex-row between centered-align"},Xv={class:"flex-row centered-align"},Wv={class:"project-header__logo flex-row centered-align"},Zv=["src"],Kv=nt('<div class="project-header__scale-dropdown-menu flex-row gap12 centered-align clickable" data-tooltip-id="scale-tooltip"><p>25%</p><svg xmlns="http://www.w3.org/2000/svg" width="10" height="6" fill="none" viewBox="0 0 10 6"><path stroke="#1F1F2B" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 1 5 5 1 1"></path></svg></div><div class="project-header__auto-scale flex-row"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="#15767D" fill-opacity="0.6" d="M9 12a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"></path><path fill="#15767D" fill-rule="evenodd" d="M12 2.398c.332 0 .6.323.6.72V4.48a7.544 7.544 0 0 1 6.92 6.92h1.36c.398 0 .72.268.72.6 0 .33-.322.6-.72.6h-1.36a7.544 7.544 0 0 1-6.92 6.919v1.36c0 .398-.268.72-.6.72-.331 0-.6-.322-.6-.72v-1.36a7.544 7.544 0 0 1-6.919-6.92h-1.36c-.398 0-.72-.268-.72-.6 0-.33.322-.6.72-.6h1.36a7.544 7.544 0 0 1 6.92-6.919V3.12c0-.398.268-.72.6-.72Zm6.143 9A6.173 6.173 0 0 0 12.6 5.856V7.84a4.203 4.203 0 0 1 3.558 3.557h1.985Zm-1.985 1.2h1.985a6.173 6.173 0 0 1-5.543 5.543v-1.985a4.203 4.203 0 0 0 3.558-3.558Zm-1.214-1.181c-.312.065-.544.3-.544.581 0 .281.232.517.544.582a3.003 3.003 0 0 1-2.362 2.362c-.065-.312-.301-.544-.582-.544-.28 0-.516.232-.582.544a3.003 3.003 0 0 1-2.361-2.362c.312-.065.543-.3.543-.582 0-.28-.23-.516-.543-.581a3.003 3.003 0 0 1 2.361-2.362c.066.312.302.543.582.543.281 0 .517-.23.582-.543a3.003 3.003 0 0 1 2.362 2.362ZM11.4 18.14a6.173 6.173 0 0 1-5.542-5.543h1.985a4.203 4.203 0 0 0 3.557 3.558v1.985Zm-5.542-6.743h1.985A4.203 4.203 0 0 1 11.4 7.841V5.856a6.173 6.173 0 0 0-5.542 5.542Z" clip-rule="evenodd"></path></svg></div>',2),Jv={class:"project-header__info flex-col centered-align relative"},Qv={class:"project-header__info__name"},e0={class:"project-header__info__type"},t0={class:"project-header__manage-panel flex-row centered-align"},n0={style:{width:"640px",padding:"12px 12px 12px !important"}},o0={class:"flex-row between centered-align main-block__container__content"},l0={class:"flex-row"},i0=["value"],r0={class:"flex-row between"},s0=["onClick"],a0=ce({__name:"ProjectHeader",setup(e){const t=qn(),n=ne(!1),o=ne(!1),l=ne(!1),i=ne(null),r=ne(""),s=()=>{l.value=!0,r.value=JSON.stringify(t.getJson(),null,5)},u=()=>{l.value=!1,t.runSimulationByJson(r.value)},a=async()=>{const p=[...new Set(t.errorMessages),...t.checkSimulation()||[]];if(p!=null&&p.length){i.value=p;return}try{await t.runSimulation()}catch(m){m instanceof Error&&(i.value=m.message?[m.message]:null)}},c=p=>{var m;return((m=p.target)==null?void 0:m.value)||""},d=p=>{const m=c(p);r.value=m},h=[{text:"Жилое",value:"residential"},{text:"Бизнес",value:"business"},{text:"Смешанное",value:"mixed"}],f=W(()=>{var p;return(p=h.find(m=>m.value===t.trafic.data.buildingType))==null?void 0:p.text});return(p,m)=>(F(),K("div",qv,[q("div",Xv,[q("div",Wv,[q("img",{alt:"logo",loading:"lazy",height:"40",decoding:"async","data-nimg":"1",src:A(Hg)},null,8,Zv)]),Kv]),q("div",Jv,[B(av,{onClick:m[0]||(m[0]=g=>n.value=!n.value)}),q("div",Qv,De(A(t).building.data.name),1),q("p",e0,[al("Тип здания: "+De(f.value)+" ",1),q("span",null,"Кол-во этажей: "+De(A(t).building.data.floorsCount),1)])]),q("div",t0,[q("div",{onClick:s,class:"clickable"},"_"),B(iv,{onClick:m[1]||(m[1]=g=>o.value=!o.value)}),B(Qg,{modelValue:A(t).isEverning,"onUpdate:modelValue":m[2]||(m[2]=g=>A(t).isEverning=g)},null,8,["modelValue"]),!A(t).isRun||A(t).isRun=="RUNNING"?(F(),he(Gg,{key:0,disabled:A(t).isRun==="RUNNING",onClick:a},null,8,["disabled"])):(F(),he(Xg,{key:1,onClick:m[3]||(m[3]=g=>A(t).stopSimulation())}))]),n.value?(F(),he(Dl,{key:0,onClickOutside:m[5]||(m[5]=g=>n.value=!1)},{default:re(()=>[B(Pv,{onCancel:m[4]||(m[4]=g=>n.value=!n.value)})]),_:1})):me("",!0),o.value?(F(),he(Dl,{key:1,onClickOutside:m[7]||(m[7]=g=>o.value=!1)},{default:re(()=>[B(Yv,{onCancel:m[6]||(m[6]=g=>o.value=!o.value)})]),_:1})):me("",!0),l.value?(F(),he(Dl,{key:2,onClickOutside:m[9]||(m[9]=g=>l.value=!1)},{default:re(()=>[q("div",n0,[q("div",o0,[q("div",l0,[q("textarea",{name:"Json",cols:"100",rows:"40",value:r.value,onChange:d},null,40,i0)])]),q("div",r0,[q("button",{class:"project-settings_btn project-settings_btn-apply",onClick:Zo(u,["stop"])},"Запустить",8,s0),q("button",{class:"project-settings_btn project-settings_btn-cancel",onClick:m[8]||(m[8]=Zo(g=>l.value=!1,["stop"]))},"Отмена")])])]),_:1})):me("",!0),B(bd,{modelValue:i.value,"onUpdate:modelValue":m[10]||(m[10]=g=>i.value=g)},null,8,["modelValue"])]))}});function cl(e){return hi()?(Po(e),!0):!1}function Ce(e){return typeof e=="function"?e():A(e)}const xd=typeof window<"u",u0=e=>typeof e<"u",$d=()=>{};function c0(e,t){function n(...o){return new Promise((l,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(l).catch(i)})}return n}const Sd=e=>e();function d0(e=Sd){const t=ne(!0);function n(){t.value=!1}function o(){t.value=!0}const l=(...i)=>{t.value&&e(...i)};return{isActive:gi(t),pause:n,resume:o,eventFilter:l}}function tu(e,t=!1,n="Timeout"){return new Promise((o,l)=>{setTimeout(t?()=>l(n):o,e)})}function Or(...e){if(e.length!==1)return Ye(...e);const t=e[0];return typeof t=="function"?gi(dc(()=>({get:t,set:$d}))):ne(t)}var f0=Object.defineProperty,p0=Object.defineProperties,h0=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertySymbols,m0=Object.prototype.hasOwnProperty,g0=Object.prototype.propertyIsEnumerable,ou=(e,t,n)=>t in e?f0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v0=(e,t)=>{for(var n in t||(t={}))m0.call(t,n)&&ou(e,n,t[n]);if(nu)for(var n of nu(t))g0.call(t,n)&&ou(e,n,t[n]);return e},y0=(e,t)=>p0(e,h0(t));function _0(e){if(!He(e))return fc(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const n in e.value)t[n]=dc(()=>({get(){return e.value[n]},set(o){if(Array.isArray(e.value)){const l=[...e.value];l[n]=o,e.value=l}else{const l=y0(v0({},e.value),{[n]:o});Object.setPrototypeOf(l,e.value),e.value=l}}}));return t}function Dr(e,t=!1){function n(d,{flush:h="sync",deep:f=!1,timeout:p,throwOnTimeout:m}={}){let g=null;const _=[new Promise(x=>{g=xe(e,k=>{d(k)!==t&&(g==null||g(),x(k))},{flush:h,deep:f,immediate:!0})})];return p!=null&&_.push(tu(p,m).then(()=>Ce(e)).finally(()=>g==null?void 0:g())),Promise.race(_)}function o(d,h){if(!He(d))return n(k=>k===d,h);const{flush:f="sync",deep:p=!1,timeout:m,throwOnTimeout:g}=h??{};let _=null;const x=[new Promise(k=>{_=xe([e,d],([w,M])=>{t!==(w===M)&&(_==null||_(),k(w))},{flush:f,deep:p,immediate:!0})})];return m!=null&&x.push(tu(m,g).then(()=>Ce(e)).finally(()=>(_==null||_(),Ce(e)))),Promise.race(x)}function l(d){return n(h=>!!h,d)}function i(d){return o(null,d)}function r(d){return o(void 0,d)}function s(d){return n(Number.isNaN,d)}function u(d,h){return n(f=>{const p=Array.from(f);return p.includes(d)||p.includes(Ce(d))},h)}function a(d){return c(1,d)}function c(d=1,h){let f=-1;return n(()=>(f+=1,f>=d),h)}return Array.isArray(Ce(e))?{toMatch:n,toContains:u,changed:a,changedTimes:c,get not(){return Dr(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:l,toBeNull:i,toBeNaN:s,toBeUndefined:r,changed:a,changedTimes:c,get not(){return Dr(e,!t)}}}function vn(e){return Dr(e)}var lu=Object.getOwnPropertySymbols,w0=Object.prototype.hasOwnProperty,b0=Object.prototype.propertyIsEnumerable,x0=(e,t)=>{var n={};for(var o in e)w0.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&lu)for(var o of lu(e))t.indexOf(o)<0&&b0.call(e,o)&&(n[o]=e[o]);return n};function $0(e,t,n={}){const o=n,{eventFilter:l=Sd}=o,i=x0(o,["eventFilter"]);return xe(e,c0(l,t),i)}var S0=Object.defineProperty,E0=Object.defineProperties,k0=Object.getOwnPropertyDescriptors,ei=Object.getOwnPropertySymbols,Ed=Object.prototype.hasOwnProperty,kd=Object.prototype.propertyIsEnumerable,iu=(e,t,n)=>t in e?S0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C0=(e,t)=>{for(var n in t||(t={}))Ed.call(t,n)&&iu(e,n,t[n]);if(ei)for(var n of ei(t))kd.call(t,n)&&iu(e,n,t[n]);return e},V0=(e,t)=>E0(e,k0(t)),T0=(e,t)=>{var n={};for(var o in e)Ed.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ei)for(var o of ei(e))t.indexOf(o)<0&&kd.call(e,o)&&(n[o]=e[o]);return n};function Jn(e,t,n={}){const o=n,{eventFilter:l}=o,i=T0(o,["eventFilter"]),{eventFilter:r,pause:s,resume:u,isActive:a}=d0(l);return{stop:$0(e,t,V0(C0({},i),{eventFilter:r})),pause:s,resume:u,isActive:a}}function Rr(e){var t;const n=Ce(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Ts=xd?window:void 0;function Ns(...e){let t,n,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,l]=e,t=Ts):[t,n,o,l]=e,!t)return $d;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],r=()=>{i.forEach(c=>c()),i.length=0},s=(c,d,h,f)=>(c.addEventListener(d,h,f),()=>c.removeEventListener(d,h,f)),u=xe(()=>[Rr(t),Ce(l)],([c,d])=>{r(),c&&i.push(...n.flatMap(h=>o.map(f=>s(c,h,f,d))))},{immediate:!0,flush:"post"}),a=()=>{u(),r()};return cl(a),a}function N0(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ru(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:l=Ts,eventName:i="keydown",passive:r=!1,dedupe:s=!1}=o,u=N0(t);return Ns(l,i,a=>{a.repeat&&Ce(s)||u(a)&&n(a)},r)}function P0(){const e=ne(!1);return bo()&&We(()=>{e.value=!0}),e}function M0(e){const t=P0();return W(()=>(t.value,!!e()))}function F0(e){return JSON.parse(JSON.stringify(e))}var su=Object.getOwnPropertySymbols,B0=Object.prototype.hasOwnProperty,A0=Object.prototype.propertyIsEnumerable,I0=(e,t)=>{var n={};for(var o in e)B0.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&su)for(var o of su(e))t.indexOf(o)<0&&A0.call(e,o)&&(n[o]=e[o]);return n};function O0(e,t,n={}){const o=n,{window:l=Ts}=o,i=I0(o,["window"]);let r;const s=M0(()=>l&&"ResizeObserver"in l),u=()=>{r&&(r.disconnect(),r=void 0)},a=W(()=>Array.isArray(e)?e.map(h=>Rr(h)):[Rr(e)]),c=xe(a,h=>{if(u(),s.value&&l){r=new ResizeObserver(t);for(const f of h)f&&r.observe(f,i)}},{immediate:!0,flush:"post",deep:!0}),d=()=>{u(),c()};return cl(d),{isSupported:s,stop:d}}function zo(e,t,n,o={}){var l,i,r;const{clone:s=!1,passive:u=!1,eventName:a,deep:c=!1,defaultValue:d,shouldEmit:h}=o,f=bo(),p=n||(f==null?void 0:f.emit)||((l=f==null?void 0:f.$emit)==null?void 0:l.bind(f))||((r=(i=f==null?void 0:f.proxy)==null?void 0:i.$emit)==null?void 0:r.bind(f==null?void 0:f.proxy));let m=a;t||(t="modelValue"),m=a||m||`update:${t.toString()}`;const g=k=>s?typeof s=="function"?s(k):F0(k):k,_=()=>u0(e[t])?g(e[t]):d,x=k=>{h?h(k)&&p(m,k):p(m,k)};if(u){const k=_(),w=ne(k);return xe(()=>e[t],M=>w.value=g(M)),xe(w,M=>{(M!==e[t]||c)&&x(M)},{deep:c}),w}else return W({get(){return _()},set(k){x(k)}})}var D0={value:()=>{}};function Fi(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Rl(n)}function Rl(e){this._=e}function R0(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",l=n.indexOf(".");if(l>=0&&(o=n.slice(l+1),n=n.slice(0,l)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Rl.prototype=Fi.prototype={constructor:Rl,on:function(e,t){var n=this._,o=R0(e+"",n),l,i=-1,r=o.length;if(arguments.length<2){for(;++i<r;)if((l=(e=o[i]).type)&&(l=z0(n[l],e.name)))return l;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<r;)if(l=(e=o[i]).type)n[l]=au(n[l],e.name,t);else if(t==null)for(l in n)n[l]=au(n[l],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Rl(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var n=new Array(l),o=0,l,i;o<l;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,l=i.length;o<l;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],l=0,i=o.length;l<i;++l)o[l].value.apply(t,n)}};function z0(e,t){for(var n=0,o=e.length,l;n<o;++n)if((l=e[n]).name===t)return l.value}function au(e,t,n){for(var o=0,l=e.length;o<l;++o)if(e[o].name===t){e[o]=D0,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var zr="http://www.w3.org/1999/xhtml";const uu={svg:"http://www.w3.org/2000/svg",xhtml:zr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bi(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),uu.hasOwnProperty(t)?{space:uu[t],local:e}:e}function L0(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zr&&t.documentElement.namespaceURI===zr?t.createElement(e):t.createElementNS(n,e)}}function H0(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Cd(e){var t=Bi(e);return(t.local?H0:L0)(t)}function U0(){}function Ps(e){return e==null?U0:function(){return this.querySelector(e)}}function j0(e){typeof e!="function"&&(e=Ps(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var i=t[l],r=i.length,s=o[l]=new Array(r),u,a,c=0;c<r;++c)(u=i[c])&&(a=e.call(u,u.__data__,c,i))&&("__data__"in u&&(a.__data__=u.__data__),s[c]=a);return new ct(o,this._parents)}function G0(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Y0(){return[]}function Vd(e){return e==null?Y0:function(){return this.querySelectorAll(e)}}function q0(e){return function(){return G0(e.apply(this,arguments))}}function X0(e){typeof e=="function"?e=q0(e):e=Vd(e);for(var t=this._groups,n=t.length,o=[],l=[],i=0;i<n;++i)for(var r=t[i],s=r.length,u,a=0;a<s;++a)(u=r[a])&&(o.push(e.call(u,u.__data__,a,r)),l.push(u));return new ct(o,l)}function Td(e){return function(){return this.matches(e)}}function Nd(e){return function(t){return t.matches(e)}}var W0=Array.prototype.find;function Z0(e){return function(){return W0.call(this.children,e)}}function K0(){return this.firstElementChild}function J0(e){return this.select(e==null?K0:Z0(typeof e=="function"?e:Nd(e)))}var Q0=Array.prototype.filter;function e1(){return Array.from(this.children)}function t1(e){return function(){return Q0.call(this.children,e)}}function n1(e){return this.selectAll(e==null?e1:t1(typeof e=="function"?e:Nd(e)))}function o1(e){typeof e!="function"&&(e=Td(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var i=t[l],r=i.length,s=o[l]=[],u,a=0;a<r;++a)(u=i[a])&&e.call(u,u.__data__,a,i)&&s.push(u);return new ct(o,this._parents)}function Pd(e){return new Array(e.length)}function l1(){return new ct(this._enter||this._groups.map(Pd),this._parents)}function ti(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ti.prototype={constructor:ti,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function i1(e){return function(){return e}}function r1(e,t,n,o,l,i){for(var r=0,s,u=t.length,a=i.length;r<a;++r)(s=t[r])?(s.__data__=i[r],o[r]=s):n[r]=new ti(e,i[r]);for(;r<u;++r)(s=t[r])&&(l[r]=s)}function s1(e,t,n,o,l,i,r){var s,u,a=new Map,c=t.length,d=i.length,h=new Array(c),f;for(s=0;s<c;++s)(u=t[s])&&(h[s]=f=r.call(u,u.__data__,s,t)+"",a.has(f)?l[s]=u:a.set(f,u));for(s=0;s<d;++s)f=r.call(e,i[s],s,i)+"",(u=a.get(f))?(o[s]=u,u.__data__=i[s],a.delete(f)):n[s]=new ti(e,i[s]);for(s=0;s<c;++s)(u=t[s])&&a.get(h[s])===u&&(l[s]=u)}function a1(e){return e.__data__}function u1(e,t){if(!arguments.length)return Array.from(this,a1);var n=t?s1:r1,o=this._parents,l=this._groups;typeof e!="function"&&(e=i1(e));for(var i=l.length,r=new Array(i),s=new Array(i),u=new Array(i),a=0;a<i;++a){var c=o[a],d=l[a],h=d.length,f=c1(e.call(c,c&&c.__data__,a,o)),p=f.length,m=s[a]=new Array(p),g=r[a]=new Array(p),_=u[a]=new Array(h);n(c,d,m,g,_,f,t);for(var x=0,k=0,w,M;x<p;++x)if(w=m[x]){for(x>=k&&(k=x+1);!(M=g[k])&&++k<p;);w._next=M||null}}return r=new ct(r,o),r._enter=s,r._exit=u,r}function c1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function d1(){return new ct(this._exit||this._groups.map(Pd),this._parents)}function f1(e,t,n){var o=this.enter(),l=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(l=t(l),l&&(l=l.selection())),n==null?i.remove():n(i),o&&l?o.merge(l).order():l}function p1(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,l=n.length,i=o.length,r=Math.min(l,i),s=new Array(l),u=0;u<r;++u)for(var a=n[u],c=o[u],d=a.length,h=s[u]=new Array(d),f,p=0;p<d;++p)(f=a[p]||c[p])&&(h[p]=f);for(;u<l;++u)s[u]=n[u];return new ct(s,this._parents)}function h1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],l=o.length-1,i=o[l],r;--l>=0;)(r=o[l])&&(i&&r.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(r,i),i=r);return this}function m1(e){e||(e=g1);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,o=n.length,l=new Array(o),i=0;i<o;++i){for(var r=n[i],s=r.length,u=l[i]=new Array(s),a,c=0;c<s;++c)(a=r[c])&&(u[c]=a);u.sort(t)}return new ct(l,this._parents).order()}function g1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function v1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function y1(){return Array.from(this)}function _1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],l=0,i=o.length;l<i;++l){var r=o[l];if(r)return r}return null}function w1(){let e=0;for(const t of this)++e;return e}function b1(){return!this.node()}function x1(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var l=t[n],i=0,r=l.length,s;i<r;++i)(s=l[i])&&e.call(s,s.__data__,i,l);return this}function $1(e){return function(){this.removeAttribute(e)}}function S1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function E1(e,t){return function(){this.setAttribute(e,t)}}function k1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function C1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function V1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function T1(e,t){var n=Bi(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?S1:$1:typeof t=="function"?n.local?V1:C1:n.local?k1:E1)(n,t))}function Md(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function N1(e){return function(){this.style.removeProperty(e)}}function P1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function M1(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function F1(e,t,n){return arguments.length>1?this.each((t==null?N1:typeof t=="function"?M1:P1)(e,t,n??"")):ho(this.node(),e)}function ho(e,t){return e.style.getPropertyValue(t)||Md(e).getComputedStyle(e,null).getPropertyValue(t)}function B1(e){return function(){delete this[e]}}function A1(e,t){return function(){this[e]=t}}function I1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function O1(e,t){return arguments.length>1?this.each((t==null?B1:typeof t=="function"?I1:A1)(e,t)):this.node()[e]}function Fd(e){return e.trim().split(/^|\s+/)}function Ms(e){return e.classList||new Bd(e)}function Bd(e){this._node=e,this._names=Fd(e.getAttribute("class")||"")}Bd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ad(e,t){for(var n=Ms(e),o=-1,l=t.length;++o<l;)n.add(t[o])}function Id(e,t){for(var n=Ms(e),o=-1,l=t.length;++o<l;)n.remove(t[o])}function D1(e){return function(){Ad(this,e)}}function R1(e){return function(){Id(this,e)}}function z1(e,t){return function(){(t.apply(this,arguments)?Ad:Id)(this,e)}}function L1(e,t){var n=Fd(e+"");if(arguments.length<2){for(var o=Ms(this.node()),l=-1,i=n.length;++l<i;)if(!o.contains(n[l]))return!1;return!0}return this.each((typeof t=="function"?z1:t?D1:R1)(n,t))}function H1(){this.textContent=""}function U1(e){return function(){this.textContent=e}}function j1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function G1(e){return arguments.length?this.each(e==null?H1:(typeof e=="function"?j1:U1)(e)):this.node().textContent}function Y1(){this.innerHTML=""}function q1(e){return function(){this.innerHTML=e}}function X1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function W1(e){return arguments.length?this.each(e==null?Y1:(typeof e=="function"?X1:q1)(e)):this.node().innerHTML}function Z1(){this.nextSibling&&this.parentNode.appendChild(this)}function K1(){return this.each(Z1)}function J1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Q1(){return this.each(J1)}function ey(e){var t=typeof e=="function"?e:Cd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ty(){return null}function ny(e,t){var n=typeof e=="function"?e:Cd(e),o=t==null?ty:typeof t=="function"?t:Ps(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function oy(){var e=this.parentNode;e&&e.removeChild(this)}function ly(){return this.each(oy)}function iy(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ry(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sy(e){return this.select(e?ry:iy)}function ay(e){return arguments.length?this.property("__data__",e):this.node().__data__}function uy(e){return function(t){e.call(this,t,this.__data__)}}function cy(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function dy(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,l=t.length,i;n<l;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function fy(e,t,n){return function(){var o=this.__on,l,i=uy(t);if(o){for(var r=0,s=o.length;r<s;++r)if((l=o[r]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=i,l.options=n),l.value=t;return}}this.addEventListener(e.type,i,n),l={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(l):this.__on=[l]}}function py(e,t,n){var o=cy(e+""),l,i=o.length,r;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,a=s.length,c;u<a;++u)for(l=0,c=s[u];l<i;++l)if((r=o[l]).type===c.type&&r.name===c.name)return c.value}return}for(s=t?fy:dy,l=0;l<i;++l)this.each(s(o[l],t,n));return this}function Od(e,t,n){var o=Md(e),l=o.CustomEvent;typeof l=="function"?l=new l(t,n):(l=o.document.createEvent("Event"),n?(l.initEvent(t,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(t,!1,!1)),e.dispatchEvent(l)}function hy(e,t){return function(){return Od(this,e,t)}}function my(e,t){return function(){return Od(this,e,t.apply(this,arguments))}}function gy(e,t){return this.each((typeof t=="function"?my:hy)(e,t))}function*vy(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],l=0,i=o.length,r;l<i;++l)(r=o[l])&&(yield r)}var Dd=[null];function ct(e,t){this._groups=e,this._parents=t}function dl(){return new ct([[document.documentElement]],Dd)}function yy(){return this}ct.prototype=dl.prototype={constructor:ct,select:j0,selectAll:X0,selectChild:J0,selectChildren:n1,filter:o1,data:u1,enter:l1,exit:d1,join:f1,merge:p1,selection:yy,order:h1,sort:m1,call:v1,nodes:y1,node:_1,size:w1,empty:b1,each:x1,attr:T1,style:F1,property:O1,classed:L1,text:G1,html:W1,raise:K1,lower:Q1,append:ey,insert:ny,remove:ly,clone:sy,datum:ay,on:py,dispatch:gy,[Symbol.iterator]:vy};function _t(e){return typeof e=="string"?new ct([[document.querySelector(e)]],[document.documentElement]):new ct([[e]],Dd)}function _y(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Tt(e,t){if(e=_y(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}}return[e.pageX,e.pageY]}const wy={passive:!1},nl={capture:!0,passive:!1};function ar(e){e.stopImmediatePropagation()}function so(e){e.preventDefault(),e.stopImmediatePropagation()}function Rd(e){var t=e.document.documentElement,n=_t(e).on("dragstart.drag",so,nl);"onselectstart"in t?n.on("selectstart.drag",so,nl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function zd(e,t){var n=e.document.documentElement,o=_t(e).on("dragstart.drag",null);t&&(o.on("click.drag",so,nl),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sl=e=>()=>e;function Lr(e,{sourceEvent:t,subject:n,target:o,identifier:l,active:i,x:r,y:s,dx:u,dy:a,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}Lr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function by(e){return!e.ctrlKey&&!e.button}function xy(){return this.parentNode}function $y(e,t){return t??{x:e.x,y:e.y}}function Sy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ey(){var e=by,t=xy,n=$y,o=Sy,l={},i=Fi("start","drag","end"),r=0,s,u,a,c,d=0;function h(w){w.on("mousedown.drag",f).filter(o).on("touchstart.drag",g).on("touchmove.drag",_,wy).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(w,M){if(!(c||!e.call(this,w,M))){var b=k(this,t.call(this,w,M),w,M,"mouse");b&&(_t(w.view).on("mousemove.drag",p,nl).on("mouseup.drag",m,nl),Rd(w.view),ar(w),a=!1,s=w.clientX,u=w.clientY,b("start",w))}}function p(w){if(so(w),!a){var M=w.clientX-s,b=w.clientY-u;a=M*M+b*b>d}l.mouse("drag",w)}function m(w){_t(w.view).on("mousemove.drag mouseup.drag",null),zd(w.view,a),so(w),l.mouse("end",w)}function g(w,M){if(e.call(this,w,M)){var b=w.changedTouches,z=t.call(this,w,M),C=b.length,L,H;for(L=0;L<C;++L)(H=k(this,z,w,M,b[L].identifier,b[L]))&&(ar(w),H("start",w,b[L]))}}function _(w){var M=w.changedTouches,b=M.length,z,C;for(z=0;z<b;++z)(C=l[M[z].identifier])&&(so(w),C("drag",w,M[z]))}function x(w){var M=w.changedTouches,b=M.length,z,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),z=0;z<b;++z)(C=l[M[z].identifier])&&(ar(w),C("end",w,M[z]))}function k(w,M,b,z,C,L){var H=i.copy(),Q=Tt(L||b,M),G,le,E;if((E=n.call(w,new Lr("beforestart",{sourceEvent:b,target:h,identifier:C,active:r,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:H}),z))!=null)return G=E.x-Q[0]||0,le=E.y-Q[1]||0,function X(V,O,I){var T=Q,R;switch(V){case"start":l[C]=X,R=r++;break;case"end":delete l[C],--r;case"drag":Q=Tt(I||O,M),R=r;break}H.call(V,w,new Lr(V,{sourceEvent:O,subject:E,target:h,identifier:C,active:R,x:Q[0]+G,y:Q[1]+le,dx:Q[0]-T[0],dy:Q[1]-T[1],dispatch:H}),z)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Sl(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:Sl(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Sl(w),h):n},h.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Sl(!!w),h):o},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,h):Math.sqrt(d)},h}function Fs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ld(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function fl(){}var ol=.7,ni=1/ol,ao="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ky=/^#([0-9a-f]{3,8})$/,Cy=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),Vy=new RegExp(`^rgb\\(${Ot},${Ot},${Ot}\\)$`),Ty=new RegExp(`^rgba\\(${ao},${ao},${ao},${ll}\\)$`),Ny=new RegExp(`^rgba\\(${Ot},${Ot},${Ot},${ll}\\)$`),Py=new RegExp(`^hsl\\(${ll},${Ot},${Ot}\\)$`),My=new RegExp(`^hsla\\(${ll},${Ot},${Ot},${ll}\\)$`),cu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fs(fl,il,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:du,formatHex:du,formatHex8:Fy,formatHsl:By,formatRgb:fu,toString:fu});function du(){return this.rgb().formatHex()}function Fy(){return this.rgb().formatHex8()}function By(){return Hd(this).formatHsl()}function fu(){return this.rgb().formatRgb()}function il(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ky.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pu(t):n===3?new rt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?El(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?El(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Cy.exec(e))?new rt(t[1],t[2],t[3],1):(t=Vy.exec(e))?new rt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ty.exec(e))?El(t[1],t[2],t[3],t[4]):(t=Ny.exec(e))?El(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Py.exec(e))?gu(t[1],t[2]/100,t[3]/100,1):(t=My.exec(e))?gu(t[1],t[2]/100,t[3]/100,t[4]):cu.hasOwnProperty(e)?pu(cu[e]):e==="transparent"?new rt(NaN,NaN,NaN,0):null}function pu(e){return new rt(e>>16&255,e>>8&255,e&255,1)}function El(e,t,n,o){return o<=0&&(e=t=n=NaN),new rt(e,t,n,o)}function Ay(e){return e instanceof fl||(e=il(e)),e?(e=e.rgb(),new rt(e.r,e.g,e.b,e.opacity)):new rt}function Hr(e,t,n,o){return arguments.length===1?Ay(e):new rt(e,t,n,o??1)}function rt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Fs(rt,Hr,Ld(fl,{brighter(e){return e=e==null?ni:Math.pow(ni,e),new rt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ol:Math.pow(ol,e),new rt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rt(Dn(this.r),Dn(this.g),Dn(this.b),oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hu,formatHex:hu,formatHex8:Iy,formatRgb:mu,toString:mu}));function hu(){return`#${Fn(this.r)}${Fn(this.g)}${Fn(this.b)}`}function Iy(){return`#${Fn(this.r)}${Fn(this.g)}${Fn(this.b)}${Fn((isNaN(this.opacity)?1:this.opacity)*255)}`}function mu(){const e=oi(this.opacity);return`${e===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${e===1?")":`, ${e})`}`}function oi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fn(e){return e=Dn(e),(e<16?"0":"")+e.toString(16)}function gu(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wt(e,t,n,o)}function Hd(e){if(e instanceof wt)return new wt(e.h,e.s,e.l,e.opacity);if(e instanceof fl||(e=il(e)),!e)return new wt;if(e instanceof wt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,l=Math.min(t,n,o),i=Math.max(t,n,o),r=NaN,s=i-l,u=(i+l)/2;return s?(t===i?r=(n-o)/s+(n<o)*6:n===i?r=(o-t)/s+2:r=(t-n)/s+4,s/=u<.5?i+l:2-i-l,r*=60):s=u>0&&u<1?0:r,new wt(r,s,u,e.opacity)}function Oy(e,t,n,o){return arguments.length===1?Hd(e):new wt(e,t,n,o??1)}function wt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Fs(wt,Oy,Ld(fl,{brighter(e){return e=e==null?ni:Math.pow(ni,e),new wt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ol:Math.pow(ol,e),new wt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,l=2*n-o;return new rt(ur(e>=240?e-240:e+120,l,o),ur(e,l,o),ur(e<120?e+240:e-120,l,o),this.opacity)},clamp(){return new wt(vu(this.h),kl(this.s),kl(this.l),oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oi(this.opacity);return`${e===1?"hsl(":"hsla("}${vu(this.h)}, ${kl(this.s)*100}%, ${kl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vu(e){return e=(e||0)%360,e<0?e+360:e}function kl(e){return Math.max(0,Math.min(1,e||0))}function ur(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ud=e=>()=>e;function Dy(e,t){return function(n){return e+n*t}}function Ry(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function zy(e){return(e=+e)==1?jd:function(t,n){return n-t?Ry(t,n,e):Ud(isNaN(t)?n:t)}}function jd(e,t){var n=t-e;return n?Dy(e,n):Ud(isNaN(e)?t:e)}const yu=function e(t){var n=zy(t);function o(l,i){var r=n((l=Hr(l)).r,(i=Hr(i)).r),s=n(l.g,i.g),u=n(l.b,i.b),a=jd(l.opacity,i.opacity);return function(c){return l.r=r(c),l.g=s(c),l.b=u(c),l.opacity=a(c),l+""}}return o.gamma=e,o}(1);function un(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ur=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cr=new RegExp(Ur.source,"g");function Ly(e){return function(){return e}}function Hy(e){return function(t){return e(t)+""}}function Uy(e,t){var n=Ur.lastIndex=cr.lastIndex=0,o,l,i,r=-1,s=[],u=[];for(e=e+"",t=t+"";(o=Ur.exec(e))&&(l=cr.exec(t));)(i=l.index)>n&&(i=t.slice(n,i),s[r]?s[r]+=i:s[++r]=i),(o=o[0])===(l=l[0])?s[r]?s[r]+=l:s[++r]=l:(s[++r]=null,u.push({i:r,x:un(o,l)})),n=cr.lastIndex;return n<t.length&&(i=t.slice(n),s[r]?s[r]+=i:s[++r]=i),s.length<2?u[0]?Hy(u[0].x):Ly(t):(t=u.length,function(a){for(var c=0,d;c<t;++c)s[(d=u[c]).i]=d.x(a);return s.join("")})}var _u=180/Math.PI,Gd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yd(e,t,n,o,l,i){var r,s,u;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(u=e*n+t*o)&&(n-=e*u,o-=t*u),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,u/=s),e*o<t*n&&(e=-e,t=-t,u=-u,r=-r),{translateX:l,translateY:i,rotate:Math.atan2(t,e)*_u,skewX:Math.atan(u)*_u,scaleX:r,scaleY:s}}var Cl;function jy(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Gd:Yd(t.a,t.b,t.c,t.d,t.e,t.f)}function Gy(e){return e==null||(Cl||(Cl=document.createElementNS("http://www.w3.org/2000/svg","g")),Cl.setAttribute("transform",e),!(e=Cl.transform.baseVal.consolidate()))?Gd:(e=e.matrix,Yd(e.a,e.b,e.c,e.d,e.e,e.f))}function qd(e,t,n,o){function l(a){return a.length?a.pop()+" ":""}function i(a,c,d,h,f,p){if(a!==d||c!==h){var m=f.push("translate(",null,t,null,n);p.push({i:m-4,x:un(a,d)},{i:m-2,x:un(c,h)})}else(d||h)&&f.push("translate("+d+t+h+n)}function r(a,c,d,h){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),h.push({i:d.push(l(d)+"rotate(",null,o)-2,x:un(a,c)})):c&&d.push(l(d)+"rotate("+c+o)}function s(a,c,d,h){a!==c?h.push({i:d.push(l(d)+"skewX(",null,o)-2,x:un(a,c)}):c&&d.push(l(d)+"skewX("+c+o)}function u(a,c,d,h,f,p){if(a!==d||c!==h){var m=f.push(l(f)+"scale(",null,",",null,")");p.push({i:m-4,x:un(a,d)},{i:m-2,x:un(c,h)})}else(d!==1||h!==1)&&f.push(l(f)+"scale("+d+","+h+")")}return function(a,c){var d=[],h=[];return a=e(a),c=e(c),i(a.translateX,a.translateY,c.translateX,c.translateY,d,h),r(a.rotate,c.rotate,d,h),s(a.skewX,c.skewX,d,h),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,h),a=c=null,function(f){for(var p=-1,m=h.length,g;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var Yy=qd(jy,"px, ","px)","deg)"),qy=qd(Gy,", ",")",")"),Xy=1e-12;function wu(e){return((e=Math.exp(e))+1/e)/2}function Wy(e){return((e=Math.exp(e))-1/e)/2}function Zy(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ky=function e(t,n,o){function l(i,r){var s=i[0],u=i[1],a=i[2],c=r[0],d=r[1],h=r[2],f=c-s,p=d-u,m=f*f+p*p,g,_;if(m<Xy)_=Math.log(h/a)/t,g=function(z){return[s+z*f,u+z*p,a*Math.exp(t*z*_)]};else{var x=Math.sqrt(m),k=(h*h-a*a+o*m)/(2*a*n*x),w=(h*h-a*a-o*m)/(2*h*n*x),M=Math.log(Math.sqrt(k*k+1)-k),b=Math.log(Math.sqrt(w*w+1)-w);_=(b-M)/t,g=function(z){var C=z*_,L=wu(M),H=a/(n*x)*(L*Zy(t*C+M)-Wy(M));return[s+H*f,u+H*p,a*L/wu(t*C+M)]}}return g.duration=_*1e3*t/Math.SQRT2,g}return l.rho=function(i){var r=Math.max(.001,+i),s=r*r,u=s*s;return e(r,s,u)},l}(Math.SQRT2,2,4);var mo=0,To=0,Eo=0,Xd=1e3,li,No,ii=0,Un=0,Ai=0,rl=typeof performance=="object"&&performance.now?performance:Date,Wd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Bs(){return Un||(Wd(Jy),Un=rl.now()+Ai)}function Jy(){Un=0}function ri(){this._call=this._time=this._next=null}ri.prototype=Zd.prototype={constructor:ri,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Bs():+n)+(t==null?0:+t),!this._next&&No!==this&&(No?No._next=this:li=this,No=this),this._call=e,this._time=n,jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,jr())}};function Zd(e,t,n){var o=new ri;return o.restart(e,t,n),o}function Qy(){Bs(),++mo;for(var e=li,t;e;)(t=Un-e._time)>=0&&e._call.call(void 0,t),e=e._next;--mo}function bu(){Un=(ii=rl.now())+Ai,mo=To=0;try{Qy()}finally{mo=0,t_(),Un=0}}function e_(){var e=rl.now(),t=e-ii;t>Xd&&(Ai-=t,ii=e)}function t_(){for(var e,t=li,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:li=n);No=e,jr(o)}function jr(e){if(!mo){To&&(To=clearTimeout(To));var t=e-Un;t>24?(e<1/0&&(To=setTimeout(bu,e-rl.now()-Ai)),Eo&&(Eo=clearInterval(Eo))):(Eo||(ii=rl.now(),Eo=setInterval(e_,Xd)),mo=1,Wd(bu))}}function xu(e,t,n){var o=new ri;return t=t==null?0:+t,o.restart(l=>{o.stop(),e(l+t)},t,n),o}var n_=Fi("start","end","cancel","interrupt"),o_=[],Kd=0,$u=1,Gr=2,zl=3,Su=4,Yr=5,Ll=6;function Ii(e,t,n,o,l,i){var r=e.__transition;if(!r)e.__transition={};else if(n in r)return;l_(e,n,{name:t,index:o,group:l,on:n_,tween:o_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Kd})}function As(e,t){var n=Et(e,t);if(n.state>Kd)throw new Error("too late; already scheduled");return n}function Lt(e,t){var n=Et(e,t);if(n.state>zl)throw new Error("too late; already running");return n}function Et(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function l_(e,t,n){var o=e.__transition,l;o[t]=n,n.timer=Zd(i,0,n.time);function i(a){n.state=$u,n.timer.restart(r,n.delay,n.time),n.delay<=a&&r(a-n.delay)}function r(a){var c,d,h,f;if(n.state!==$u)return u();for(c in o)if(f=o[c],f.name===n.name){if(f.state===zl)return xu(r);f.state===Su?(f.state=Ll,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=Ll,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(xu(function(){n.state===zl&&(n.state=Su,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=Gr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Gr){for(n.state=zl,l=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(l[++d]=f);l.length=d+1}}function s(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=Yr,1),d=-1,h=l.length;++d<h;)l[d].call(e,c);n.state===Yr&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Ll,n.timer.stop(),delete o[t];for(var a in o)return;delete e.__transition}}function Hl(e,t){var n=e.__transition,o,l,i=!0,r;if(n){t=t==null?null:t+"";for(r in n){if((o=n[r]).name!==t){i=!1;continue}l=o.state>Gr&&o.state<Yr,o.state=Ll,o.timer.stop(),o.on.call(l?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[r]}i&&delete e.__transition}}function i_(e){return this.each(function(){Hl(this,e)})}function r_(e,t){var n,o;return function(){var l=Lt(this,e),i=l.tween;if(i!==n){o=n=i;for(var r=0,s=o.length;r<s;++r)if(o[r].name===t){o=o.slice(),o.splice(r,1);break}}l.tween=o}}function s_(e,t,n){var o,l;if(typeof n!="function")throw new Error;return function(){var i=Lt(this,e),r=i.tween;if(r!==o){l=(o=r).slice();for(var s={name:t,value:n},u=0,a=l.length;u<a;++u)if(l[u].name===t){l[u]=s;break}u===a&&l.push(s)}i.tween=l}}function a_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Et(this.node(),n).tween,l=0,i=o.length,r;l<i;++l)if((r=o[l]).name===e)return r.value;return null}return this.each((t==null?r_:s_)(n,e,t))}function Is(e,t,n){var o=e._id;return e.each(function(){var l=Lt(this,o);(l.value||(l.value={}))[t]=n.apply(this,arguments)}),function(l){return Et(l,o).value[t]}}function Jd(e,t){var n;return(typeof t=="number"?un:t instanceof il?yu:(n=il(t))?(t=n,yu):Uy)(e,t)}function u_(e){return function(){this.removeAttribute(e)}}function c_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function d_(e,t,n){var o,l=n+"",i;return function(){var r=this.getAttribute(e);return r===l?null:r===o?i:i=t(o=r,n)}}function f_(e,t,n){var o,l=n+"",i;return function(){var r=this.getAttributeNS(e.space,e.local);return r===l?null:r===o?i:i=t(o=r,n)}}function p_(e,t,n){var o,l,i;return function(){var r,s=n(this),u;return s==null?void this.removeAttribute(e):(r=this.getAttribute(e),u=s+"",r===u?null:r===o&&u===l?i:(l=u,i=t(o=r,s)))}}function h_(e,t,n){var o,l,i;return function(){var r,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),u=s+"",r===u?null:r===o&&u===l?i:(l=u,i=t(o=r,s)))}}function m_(e,t){var n=Bi(e),o=n==="transform"?qy:Jd;return this.attrTween(e,typeof t=="function"?(n.local?h_:p_)(n,o,Is(this,"attr."+e,t)):t==null?(n.local?c_:u_)(n):(n.local?f_:d_)(n,o,t))}function g_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function v_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function y_(e,t){var n,o;function l(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&v_(e,i)),n}return l._value=t,l}function __(e,t){var n,o;function l(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&g_(e,i)),n}return l._value=t,l}function w_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Bi(e);return this.tween(n,(o.local?y_:__)(o,t))}function b_(e,t){return function(){As(this,e).delay=+t.apply(this,arguments)}}function x_(e,t){return t=+t,function(){As(this,e).delay=t}}function $_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?b_:x_)(t,e)):Et(this.node(),t).delay}function S_(e,t){return function(){Lt(this,e).duration=+t.apply(this,arguments)}}function E_(e,t){return t=+t,function(){Lt(this,e).duration=t}}function k_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?S_:E_)(t,e)):Et(this.node(),t).duration}function C_(e,t){if(typeof t!="function")throw new Error;return function(){Lt(this,e).ease=t}}function V_(e){var t=this._id;return arguments.length?this.each(C_(t,e)):Et(this.node(),t).ease}function T_(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Lt(this,e).ease=n}}function N_(e){if(typeof e!="function")throw new Error;return this.each(T_(this._id,e))}function P_(e){typeof e!="function"&&(e=Td(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var i=t[l],r=i.length,s=o[l]=[],u,a=0;a<r;++a)(u=i[a])&&e.call(u,u.__data__,a,i)&&s.push(u);return new Zt(o,this._parents,this._name,this._id)}function M_(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,l=n.length,i=Math.min(o,l),r=new Array(o),s=0;s<i;++s)for(var u=t[s],a=n[s],c=u.length,d=r[s]=new Array(c),h,f=0;f<c;++f)(h=u[f]||a[f])&&(d[f]=h);for(;s<o;++s)r[s]=t[s];return new Zt(r,this._parents,this._name,this._id)}function F_(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function B_(e,t,n){var o,l,i=F_(t)?As:Lt;return function(){var r=i(this,e),s=r.on;s!==o&&(l=(o=s).copy()).on(t,n),r.on=l}}function A_(e,t){var n=this._id;return arguments.length<2?Et(this.node(),n).on.on(e):this.each(B_(n,e,t))}function I_(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function O_(){return this.on("end.remove",I_(this._id))}function D_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ps(e));for(var o=this._groups,l=o.length,i=new Array(l),r=0;r<l;++r)for(var s=o[r],u=s.length,a=i[r]=new Array(u),c,d,h=0;h<u;++h)(c=s[h])&&(d=e.call(c,c.__data__,h,s))&&("__data__"in c&&(d.__data__=c.__data__),a[h]=d,Ii(a[h],t,n,h,a,Et(c,n)));return new Zt(i,this._parents,t,n)}function R_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vd(e));for(var o=this._groups,l=o.length,i=[],r=[],s=0;s<l;++s)for(var u=o[s],a=u.length,c,d=0;d<a;++d)if(c=u[d]){for(var h=e.call(c,c.__data__,d,u),f,p=Et(c,n),m=0,g=h.length;m<g;++m)(f=h[m])&&Ii(f,t,n,m,h,p);i.push(h),r.push(c)}return new Zt(i,r,t,n)}var z_=dl.prototype.constructor;function L_(){return new z_(this._groups,this._parents)}function H_(e,t){var n,o,l;return function(){var i=ho(this,e),r=(this.style.removeProperty(e),ho(this,e));return i===r?null:i===n&&r===o?l:l=t(n=i,o=r)}}function Qd(e){return function(){this.style.removeProperty(e)}}function U_(e,t,n){var o,l=n+"",i;return function(){var r=ho(this,e);return r===l?null:r===o?i:i=t(o=r,n)}}function j_(e,t,n){var o,l,i;return function(){var r=ho(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),ho(this,e))),r===u?null:r===o&&u===l?i:(l=u,i=t(o=r,s))}}function G_(e,t){var n,o,l,i="style."+t,r="end."+i,s;return function(){var u=Lt(this,e),a=u.on,c=u.value[i]==null?s||(s=Qd(t)):void 0;(a!==n||l!==c)&&(o=(n=a).copy()).on(r,l=c),u.on=o}}function Y_(e,t,n){var o=(e+="")=="transform"?Yy:Jd;return t==null?this.styleTween(e,H_(e,o)).on("end.style."+e,Qd(e)):typeof t=="function"?this.styleTween(e,j_(e,o,Is(this,"style."+e,t))).each(G_(this._id,e)):this.styleTween(e,U_(e,o,t),n).on("end.style."+e,null)}function q_(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function X_(e,t,n){var o,l;function i(){var r=t.apply(this,arguments);return r!==l&&(o=(l=r)&&q_(e,r,n)),o}return i._value=t,i}function W_(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,X_(e,t,n??""))}function Z_(e){return function(){this.textContent=e}}function K_(e){return function(){var t=e(this);this.textContent=t??""}}function J_(e){return this.tween("text",typeof e=="function"?K_(Is(this,"text",e)):Z_(e==null?"":e+""))}function Q_(e){return function(t){this.textContent=e.call(this,t)}}function ew(e){var t,n;function o(){var l=e.apply(this,arguments);return l!==n&&(t=(n=l)&&Q_(l)),t}return o._value=e,o}function tw(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ew(e))}function nw(){for(var e=this._name,t=this._id,n=ef(),o=this._groups,l=o.length,i=0;i<l;++i)for(var r=o[i],s=r.length,u,a=0;a<s;++a)if(u=r[a]){var c=Et(u,t);Ii(u,e,n,a,r,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Zt(o,this._parents,e,n)}function ow(){var e,t,n=this,o=n._id,l=n.size();return new Promise(function(i,r){var s={value:r},u={value:function(){--l===0&&i()}};n.each(function(){var a=Lt(this,o),c=a.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),a.on=t}),l===0&&i()})}var lw=0;function Zt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ef(){return++lw}var Ht=dl.prototype;Zt.prototype={constructor:Zt,select:D_,selectAll:R_,selectChild:Ht.selectChild,selectChildren:Ht.selectChildren,filter:P_,merge:M_,selection:L_,transition:nw,call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:A_,attr:m_,attrTween:w_,style:Y_,styleTween:W_,text:J_,textTween:tw,remove:O_,tween:a_,delay:$_,duration:k_,ease:V_,easeVarying:N_,end:ow,[Symbol.iterator]:Ht[Symbol.iterator]};function iw(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rw={time:null,delay:0,duration:250,ease:iw};function sw(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function aw(e){var t,n;e instanceof Zt?(t=e._id,e=e._name):(t=ef(),(n=rw).time=Bs(),e=e==null?null:e+"");for(var o=this._groups,l=o.length,i=0;i<l;++i)for(var r=o[i],s=r.length,u,a=0;a<s;++a)(u=r[a])&&Ii(u,e,t,a,r,n||sw(u,t));return new Zt(o,this._parents,e,t)}dl.prototype.interrupt=i_;dl.prototype.transition=aw;const Vl=e=>()=>e;function uw(e,{sourceEvent:t,target:n,transform:o,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:l}})}function Gt(e,t,n){this.k=e,this.x=t,this.y=n}Gt.prototype={constructor:Gt,scale:function(e){return e===1?this:new Gt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var go=new Gt(1,0,0);Gt.prototype;function dr(e){e.stopImmediatePropagation()}function ko(e){e.preventDefault(),e.stopImmediatePropagation()}function cw(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dw(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Eu(){return this.__zoom||go}function fw(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pw(){return navigator.maxTouchPoints||"ontouchstart"in this}function hw(e,t,n){var o=e.invertX(t[0][0])-n[0][0],l=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],r=e.invertY(t[1][1])-n[1][1];return e.translate(l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}function mw(){var e=cw,t=dw,n=hw,o=fw,l=pw,i=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Ky,a=Fi("start","zoom","end"),c,d,h,f=500,p=150,m=0,g=10;function _(E){E.property("__zoom",Eu).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",H).filter(l).on("touchstart.zoom",Q).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",le).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(E,X,V,O){var I=E.selection?E.selection():E;I.property("__zoom",Eu),E!==I?M(E,X,V,O):I.interrupt().each(function(){b(this,arguments).event(O).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},_.scaleBy=function(E,X,V,O){_.scaleTo(E,function(){var I=this.__zoom.k,T=typeof X=="function"?X.apply(this,arguments):X;return I*T},V,O)},_.scaleTo=function(E,X,V,O){_.transform(E,function(){var I=t.apply(this,arguments),T=this.__zoom,R=V==null?w(I):typeof V=="function"?V.apply(this,arguments):V,Y=T.invert(R),j=typeof X=="function"?X.apply(this,arguments):X;return n(k(x(T,j),R,Y),I,r)},V,O)},_.translateBy=function(E,X,V,O){_.transform(E,function(){return n(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof V=="function"?V.apply(this,arguments):V),t.apply(this,arguments),r)},null,O)},_.translateTo=function(E,X,V,O,I){_.transform(E,function(){var T=t.apply(this,arguments),R=this.__zoom,Y=O==null?w(T):typeof O=="function"?O.apply(this,arguments):O;return n(go.translate(Y[0],Y[1]).scale(R.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof V=="function"?-V.apply(this,arguments):-V),T,r)},O,I)};function x(E,X){return X=Math.max(i[0],Math.min(i[1],X)),X===E.k?E:new Gt(X,E.x,E.y)}function k(E,X,V){var O=X[0]-V[0]*E.k,I=X[1]-V[1]*E.k;return O===E.x&&I===E.y?E:new Gt(E.k,O,I)}function w(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function M(E,X,V,O){E.on("start.zoom",function(){b(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(O).end()}).tween("zoom",function(){var I=this,T=arguments,R=b(I,T).event(O),Y=t.apply(I,T),j=V==null?w(Y):typeof V=="function"?V.apply(I,T):V,ae=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),fe=I.__zoom,ee=typeof X=="function"?X.apply(I,T):X,se=u(fe.invert(j).concat(ae/fe.k),ee.invert(j).concat(ae/ee.k));return function(ie){if(ie===1)ie=ee;else{var de=se(ie),Se=ae/de[2];ie=new Gt(Se,j[0]-de[0]*Se,j[1]-de[1]*Se)}R.zoom(null,ie)}})}function b(E,X,V){return!V&&E.__zooming||new z(E,X)}function z(E,X){this.that=E,this.args=X,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,X),this.taps=0}z.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,X){return this.mouse&&E!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var X=_t(this.that).datum();a.call(E,this.that,new uw(E,{sourceEvent:this.sourceEvent,target:_,type:E,transform:this.that.__zoom,dispatch:a}),X)}};function C(E,...X){if(!e.apply(this,arguments))return;var V=b(this,X).event(E),O=this.__zoom,I=Math.max(i[0],Math.min(i[1],O.k*Math.pow(2,o.apply(this,arguments)))),T=Tt(E);if(V.wheel)(V.mouse[0][0]!==T[0]||V.mouse[0][1]!==T[1])&&(V.mouse[1]=O.invert(V.mouse[0]=T)),clearTimeout(V.wheel);else{if(O.k===I)return;V.mouse=[T,O.invert(T)],Hl(this),V.start()}ko(E),V.wheel=setTimeout(R,p),V.zoom("mouse",n(k(x(O,I),V.mouse[0],V.mouse[1]),V.extent,r));function R(){V.wheel=null,V.end()}}function L(E,...X){if(h||!e.apply(this,arguments))return;var V=E.currentTarget,O=b(this,X,!0).event(E),I=_t(E.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",ae,!0),T=Tt(E,V),R=E.clientX,Y=E.clientY;Rd(E.view),dr(E),O.mouse=[T,this.__zoom.invert(T)],Hl(this),O.start();function j(fe){if(ko(fe),!O.moved){var ee=fe.clientX-R,se=fe.clientY-Y;O.moved=ee*ee+se*se>m}O.event(fe).zoom("mouse",n(k(O.that.__zoom,O.mouse[0]=Tt(fe,V),O.mouse[1]),O.extent,r))}function ae(fe){I.on("mousemove.zoom mouseup.zoom",null),zd(fe.view,O.moved),ko(fe),O.event(fe).end()}}function H(E,...X){if(e.apply(this,arguments)){var V=this.__zoom,O=Tt(E.changedTouches?E.changedTouches[0]:E,this),I=V.invert(O),T=V.k*(E.shiftKey?.5:2),R=n(k(x(V,T),O,I),t.apply(this,X),r);ko(E),s>0?_t(this).transition().duration(s).call(M,R,O,E):_t(this).call(_.transform,R,O,E)}}function Q(E,...X){if(e.apply(this,arguments)){var V=E.touches,O=V.length,I=b(this,X,E.changedTouches.length===O).event(E),T,R,Y,j;for(dr(E),R=0;R<O;++R)Y=V[R],j=Tt(Y,this),j=[j,this.__zoom.invert(j),Y.identifier],I.touch0?!I.touch1&&I.touch0[2]!==j[2]&&(I.touch1=j,I.taps=0):(I.touch0=j,T=!0,I.taps=1+!!c);c&&(c=clearTimeout(c)),T&&(I.taps<2&&(d=j[0],c=setTimeout(function(){c=null},f)),Hl(this),I.start())}}function G(E,...X){if(this.__zooming){var V=b(this,X).event(E),O=E.changedTouches,I=O.length,T,R,Y,j;for(ko(E),T=0;T<I;++T)R=O[T],Y=Tt(R,this),V.touch0&&V.touch0[2]===R.identifier?V.touch0[0]=Y:V.touch1&&V.touch1[2]===R.identifier&&(V.touch1[0]=Y);if(R=V.that.__zoom,V.touch1){var ae=V.touch0[0],fe=V.touch0[1],ee=V.touch1[0],se=V.touch1[1],ie=(ie=ee[0]-ae[0])*ie+(ie=ee[1]-ae[1])*ie,de=(de=se[0]-fe[0])*de+(de=se[1]-fe[1])*de;R=x(R,Math.sqrt(ie/de)),Y=[(ae[0]+ee[0])/2,(ae[1]+ee[1])/2],j=[(fe[0]+se[0])/2,(fe[1]+se[1])/2]}else if(V.touch0)Y=V.touch0[0],j=V.touch0[1];else return;V.zoom("touch",n(k(R,Y,j),V.extent,r))}}function le(E,...X){if(this.__zooming){var V=b(this,X).event(E),O=E.changedTouches,I=O.length,T,R;for(dr(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),T=0;T<I;++T)R=O[T],V.touch0&&V.touch0[2]===R.identifier?delete V.touch0:V.touch1&&V.touch1[2]===R.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(R=Tt(R,this),Math.hypot(d[0]-R[0],d[1]-R[1])<g)){var Y=_t(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return _.wheelDelta=function(E){return arguments.length?(o=typeof E=="function"?E:Vl(+E),_):o},_.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Vl(!!E),_):e},_.touchable=function(E){return arguments.length?(l=typeof E=="function"?E:Vl(!!E),_):l},_.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Vl([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),_):t},_.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],_):[i[0],i[1]]},_.translateExtent=function(E){return arguments.length?(r[0][0]=+E[0][0],r[1][0]=+E[1][0],r[0][1]=+E[0][1],r[1][1]=+E[1][1],_):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},_.constrain=function(E){return arguments.length?(n=E,_):n},_.duration=function(E){return arguments.length?(s=+E,_):s},_.interpolate=function(E){return arguments.length?(u=E,_):u},_.on=function(){var E=a.on.apply(a,arguments);return E===a?_:E},_.clickDistance=function(E){return arguments.length?(m=(E=+E)*E,_):Math.sqrt(m)},_.tapDistance=function(E){return arguments.length?(g=+E,_):g},_}var ve=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ve||{}),Os=(e=>(e.Partial="partial",e.Full="full",e))(Os||{}),eo=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(eo||{}),bn=(e=>(e.Strict="strict",e.Loose="loose",e))(bn||{}),qr=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(qr||{}),si=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(si||{}),tf=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(tf||{});const nf="vue-flow__node-desc",of="vue-flow__edge-desc",gw="vue-flow__aria-live",lf=["Enter"," ","Escape"],uo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function ku(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Xr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Oi(e){return{width:e.offsetWidth,height:e.offsetHeight}}function jn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function rf(e,t){return{x:jn(e.x,t[0][0],t[1][0]),y:jn(e.y,t[0][1],t[1][1])}}function Cu(e){const t=e.getRootNode(),n=Hs();return"elementFromPoint"in t?t:n.document}function vo(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function vw(e){return vo(e)&&"sourceNode"in e&&"targetNode"in e}function Lo(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!vo(e)}function to(e){return Lo(e)&&"computedPosition"in e}function yw(e){return!!e.width&&!!e.height&&!!e.x&&!!e.y}function _w(e,t={}){let n=t;return to(e)||(n={type:e.type??t.type??"default",dimensions:Bt({width:0,height:0}),handleBounds:{source:[],target:[]},computedPosition:Bt({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,...t,data:ze(e.data)?e.data:{},events:Bt(ze(e.events)?e.events:{})}),Object.assign({},n,e,{id:e.id.toString()})}function sf(e,t={}){const n=ze(e.events)?e.events:t.events&&ze(t.events)?t.events:{},o=ze(e.data)?e.data:t.data&&ze(t.data)?t.data:{};return t=vw(e)?t:{...t,sourceHandle:(e.sourceHandle?e.sourceHandle.toString():void 0)||t.sourceHandle,targetHandle:(e.targetHandle?e.targetHandle.toString():void 0)||t.targetHandle,type:e.type??t.type??"default",source:e.source.toString()||t.source,target:e.target.toString()||t.target,updatable:e.updatable??t.updatable,selectable:e.selectable??t.selectable,focusable:e.focusable??t.focusable,data:o,events:Bt(n),label:(e.label&&!cn(e.label)?Bt(e.label):e.label)||t.label,interactionWidth:e.interactionWidth||t.interactionWidth},Object.assign({},t,e,{id:e.id.toString()})}function af({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function ww(e,t){return t.some(n=>vo(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function bw({x:e,y:t},{x:n,y:o,zoom:l}){return{x:e*l+n,y:t*l+o}}function uf({x:e,y:t},{x:n,y:o,zoom:l},i,[r,s]){const u={x:(e-n)/l,y:(t-o)/l};return i?{x:r*Math.round(u.x/r),y:s*Math.round(u.y/s)}:u}function xw(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function cf({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function $w({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function df(e){const t=e.reduce((n,{computedPosition:o={x:0,y:0},dimensions:l={width:0,height:0}}={})=>xw(n,cf({...o,...l})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return $w(t)}function ff(e,t,{x:n,y:o,zoom:l}={x:0,y:0,zoom:1},i=!1,r=!1){const s={x:(t.x-n)/l,y:(t.y-o)/l,width:t.width/l,height:t.height/l};return e.filter(u=>{const{computedPosition:a={x:0,y:0},dimensions:c={width:0,height:0},selectable:d}=u;if(r&&!d)return!1;const h={...a,width:c.width||0,height:c.height||0},f=Xr(s,h),p=typeof c.width>"u"||typeof c.height>"u"||c.width===0||c.height===0,m=i&&f>0,g=c.width*c.height;return p||m||f>=g})}function Di(e,t){const n=e.map(o=>cn(o)?o:o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))}function Vu(e,t,n,o,l,i=.1,r={x:0,y:0}){const s=t/(e.width*(1+i)),u=n/(e.height*(1+i)),a=Math.min(s,u),c=jn(a,o,l),d=e.x+e.width/2,h=e.y+e.height/2,f=t/2-d*c+(r.x??0),p=n/2-h*c+(r.y??0);return{x:f,y:p,zoom:c}}function Sw(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function pf(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:pf(n,t):!1}function Bn(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`}function Tu(e,t,n){return e<t?jn(Math.abs(e-t),1,50)/50:e>n?-jn(Math.abs(e-n),1,50)/50:0}function hf(e,t){const n=Tu(e.x,35,t.width-35)*20,o=Tu(e.y,35,t.height-35)*20;return[n,o]}function fr(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let l={};if(yo(t.style)?l={...t.style(t)}:t.style&&(l={...t.style}),l.width=l.width??`${t.dimensions.width}px`,l.height=l.height??`${t.dimensions.height}px`,n>0)if(cn(l.width)){const i=Number(l.width.replace("px",""));l.width=`${i+n}px`}else l.width+=n;if(o>0)if(cn(l.height)){const i=Number(l.height.replace("px",""));l.height=`${i+o}px`}else l.height+=o;if(e.position.x<0){const i=Math.abs(e.position.x);if(t.position.x=t.position.x-i,cn(l.width)){const r=Number(l.width.replace("px",""));l.width=`${r+i}px`}else l.width+=i;e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);if(t.position.y=t.position.y-i,cn(l.height)){const r=Number(l.height.replace("px",""));l.height=`${r+i}px`}else l.height+=i;e.position.y=0}t.dimensions.width=Number(l.width.toString().replace("px","")),t.dimensions.height=Number(l.height.toString().replace("px","")),yo(t.style)?t.style=i=>{const r=t.style;return{...r(i),...l}}:t.style={...t.style,...l}}}}function Nu(e,t){e.filter(o=>o.type==="add"||o.type==="remove").forEach(o=>{if(o.type==="add")t.findIndex(l=>l.id===o.item.id)===-1&&t.push(o.item);else if(o.type==="remove"){const l=t.findIndex(i=>i.id===o.id);l!==-1&&t.splice(l,1)}});const n=t.map(o=>o.id);return t.forEach(o=>{var l,i;const r=e.filter(s=>s.id===o.id);for(const s of r)switch(s.type){case"select":o.selected=s.selected;break;case"position":if(to(o)&&(typeof s.position<"u"&&(o.position=s.position),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&o.parentNode)){const u=t[n.indexOf(o.parentNode)];u&&to(u)&&fr(o,u)}break;case"dimensions":if(to(o)){if(typeof s.dimensions<"u"&&(o.dimensions=s.dimensions),typeof s.updateStyle<"u"&&(o.style={...o.style||{},width:`${(l=s.dimensions)==null?void 0:l.width}px`,height:`${(i=s.dimensions)==null?void 0:i.height}px`}),typeof s.resizing<"u"&&(o.resizing=s.resizing),o.expandParent&&o.parentNode){const u=t[n.indexOf(o.parentNode)];u&&to(u)&&(u.initialized?fr(o,u):et(()=>{fr(o,u)}))}o.initialized||(o.initialized=!0)}break}}),t}function jt(e,t){return{id:e,type:"select",selected:t}}function Pu(e){return{item:e,type:"add"}}function Tl(e){return{id:e,type:"remove"}}function pr(e,t){return e.reduce((n,o)=>{let l=t.includes(o.id);ze(o.selectable)&&!o.selectable&&(l=!1);const i=to(o)?"changedNodes":"changedEdges";return!o.selected&&l?n[i].push(jt(o.id,!0)):o.selected&&!l&&n[i].push(jt(o.id,!1)),n},{changedNodes:[],changedEdges:[]})}function ue(e=()=>{}){const t=new Set,n=()=>t.size>0;e&&t.add(e);const o=l=>{t.delete(l)};return{on:l=>{t.has(e)&&t.delete(e),t.add(l);const i=()=>o(l);return cl(i),{off:i}},off:o,trigger:l=>Promise.all(Array.from(t).map(i=>i(l))),hasListeners:n}}function Mu(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function Ew(e,t,n,o,l){return e.filter(i=>(i.selected||i.id===l)&&(!i.parentNode||!pf(i,o))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var r,s;return Bt({id:i.id,position:i.position||{x:0,y:0},distance:{x:n.x-((r=i.computedPosition)==null?void 0:r.x)||0,y:n.y-((s=i.computedPosition)==null?void 0:s.y)||0},from:i.computedPosition,extent:i.extent,parentNode:i.parentNode,dimensions:i.dimensions})})}function hr({id:e,dragItems:t,findNode:n}){const o=t.reduce((l,i)=>{const r=n(i.id);return r&&l.push(r),l},[]);return[e?o.find(l=>l.id===e):o[0],o]}function mf(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function kw(e,t,n){const[o,l,i,r]=typeof e!="string"?mf(e.padding):[0,0,0,0];return n&&Yt(n.computedPosition.x)&&Yt(n.computedPosition.y)&&Yt(n.dimensions.width)&&Yt(n.dimensions.height)?[[n.computedPosition.x+r,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-l,n.computedPosition.y+n.dimensions.height-i]]:!1}function Cw(e,t,n,o){let l=e.extent||n;if(l==="parent"||!Array.isArray(l)&&(l==null?void 0:l.range)==="parent")if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const i=kw(l,e,o);i&&(l=i)}else t(new Qe(Ke.NODE_EXTENT_INVALID,e.id)),l=n;else if(Array.isArray(l)){const i=(o==null?void 0:o.computedPosition.x)||0,r=(o==null?void 0:o.computedPosition.y)||0;l=[[l[0][0]+i,l[0][1]+r],[l[1][0]+i,l[1][1]+r]]}else if(l!=null&&l.range&&Array.isArray(l.range)){const[i,r,s,u]=mf(l.padding),a=(o==null?void 0:o.computedPosition.x)||0,c=(o==null?void 0:o.computedPosition.y)||0;l=[[l.range[0][0]+a+u,l.range[0][1]+c+i],[l.range[1][0]+a-r,l.range[1][1]+c-s]]}return l}function Vw({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Ds(e,t,n,o,l){const i=Vw(e.dimensions,Cw(e,n,o,l)),r=rf(t,i);return{position:{x:r.x-((l==null?void 0:l.computedPosition.x)||0),y:r.y-((l==null?void 0:l.computedPosition.y)||0)},computedPosition:r}}function Wr(e,t,n){const o=((n==null?void 0:n.x)??0)+t.x,l=((n==null?void 0:n.y)??0)+t.y,i=(n==null?void 0:n.width)??t.width,r=(n==null?void 0:n.height)??t.height;switch(e){case ve.Top:return{x:o+i/2,y:l};case ve.Right:return{x:o+i,y:l+r/2};case ve.Bottom:return{x:o+i/2,y:l+r};case ve.Left:return{x:o,y:l+r/2}}}function Fu(e=[],t){return e.length?!t||e.length===1?e[0]:t&&e.find(n=>n.id===t)||null:null}function Tw(e,t,n,o,l,i){const r=Wr(n,{...e.dimensions,...e.computedPosition},t),s=Wr(i,{...o.dimensions,...o.computedPosition},l);return{sourceX:r.x,sourceY:r.y,targetX:s.x,targetY:s.y}}function Nw({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:l,targetHeight:i,width:r,height:s,viewport:u}){const a={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+l),y2:Math.max(e.y+o,t.y+i)};a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const c=cf({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:r/u.zoom,height:s/u.zoom}),d=Math.max(0,Math.min(c.x2,a.x2)-Math.max(c.x,a.x)),h=Math.max(0,Math.min(c.y2,a.y2)-Math.max(c.y,a.y));return Math.ceil(d*h)>0}function Pw(e,t,n=!1){const o=Yt(e.zIndex);let l=o?e.zIndex:0;const i=t(e.source),r=t(e.target);return!i||!r?0:(n&&(l=o?e.zIndex:Math.max(i.computedPosition.z||0,r.computedPosition.z||0)),l)}var Ke=(e=>(e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e))(Ke||{});const Bu={MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`};class Qe extends Error{constructor(t,...n){var o;super((o=Bu[t])==null?void 0:o.call(Bu,...n)),this.code=t}}function Rs(e){return"clientX"in e}function Rn(e,t){var n,o;const l=Rs(e),i=l?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,r=l?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}}function cn(e){return typeof e=="string"}function yo(e){return typeof e=="function"}function Mw(e){return typeof e=="boolean"}function Yt(e){return typeof e=="number"}function gf(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function mr(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Au(e,t,n,o){return(t[n]||[]).reduce((l,i)=>{var r,s;return`${e.id}-${i.id}-${n}`!==o&&l.push({id:i.id||null,type:n,nodeId:e.id,x:(((r=e.computedPosition)==null?void 0:r.x)??0)+i.x+i.width/2,y:(((s=e.computedPosition)==null?void 0:s.y)??0)+i.y+i.height/2,width:i.width,height:i.height}),l},[])}function Fw(e,t,n,o,l,i){const{x:r,y:s}=Rn(e),u=t.elementsFromPoint(r,s).find(f=>f.classList.contains("vue-flow__handle"));if(u){const f=u.getAttribute("data-nodeid");if(f){const p=zs(void 0,u),m=u.getAttribute("data-handleid"),g=i({nodeId:f,id:m,type:p});if(g)return{handle:{id:m,type:p,nodeId:f,x:n.x,y:n.y},validHandleResult:g}}}let a=[],c=1/0;if(l.forEach(f=>{const p=Math.sqrt((f.x-n.x)**2+(f.y-n.y)**2);if(p<=o){const m=i(f);p<=c&&(p<c?a=[{handle:f,validHandleResult:m}]:p===c&&a.push({handle:f,validHandleResult:m}),c=p)}}),!a.length)return{handle:null,validHandleResult:gf()};if(a.length===1)return a[0];const d=a.some(({validHandleResult:f})=>f.isValid),h=a.some(({handle:f})=>f.type==="target");return a.find(({handle:f,validHandleResult:p})=>h?f.type==="target":d?p.isValid:!0)||a[0]}function Iu(e,t,n,o,l,i,r,s,u,a){const c=i==="target",d=s.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:h,y:f}=Rn(e),p=s.elementFromPoint(h,f),m=p!=null&&p.classList.contains("vue-flow__handle")?p:d,g=gf();if(m){g.handleDomNode=m;const _=zs(void 0,m),x=m.getAttribute("data-nodeid"),k=m.getAttribute("data-handleid"),w=m.classList.contains("connectable"),M=m.classList.contains("connectableend"),b={source:c?x:o,sourceHandle:c?k:l,target:c?o:x,targetHandle:c?l:k};g.connection=b;const z=w&&M&&(n===bn.Strict?c&&_==="source"||!c&&_==="target":x!==o||k!==l);g.endHandle={nodeId:x,handleId:k,type:_},z&&(g.isValid=r(b,{edges:u,sourceNode:a(b.source),targetNode:a(b.target)}))}return g}function Bw({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce((l,i)=>{const{handleBounds:r}=i;let s=[],u=[];return r&&(s=Au(i,r,"source",`${t}-${n}-${o}`),u=Au(i,r,"target",`${t}-${n}-${o}`)),l.push(...s,...u),l},[])}function zs(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Aw(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Iw=["production","prod"];function vf(e,...t){Iw.includes("production")||console.warn(`[Vue Flow]: ${e}`,...t)}function Ou(e,t,n){const o=t.querySelectorAll(`.vue-flow__handle${e}`);if(!o||!o.length)return;const l=Array.from(o),i=t.getBoundingClientRect();return l.map(r=>{const s=r.getBoundingClientRect();return{id:r.getAttribute("data-handleid"),position:r.getAttribute("data-handlepos"),x:(s.left-i.left)/n,y:(s.top-i.top)/n,...Oi(r)}})}function Zr(e,t,n,o,l,i=!1,r){l.value=!1,e.selected?(i||e.selected&&t)&&(o([e]),et(()=>{r.blur()})):n([e])}function ze(e){return typeof A(e)<"u"}function Ow(e,t,n){if(!e.source||!e.target)return n(new Qe(Ke.EDGE_INVALID,e.id)),!1;let o;return vo(e)?o=e:o={...e,id:af(e)},o=sf(o),ww(o,t)?!1:o}function Dw(e,t,n,o,l,i){if(!t.source||!t.target)return i(new Qe(Ke.EDGE_INVALID,e.id)),!1;const r=o(e.id);if(!r)return i(new Qe(Ke.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...u}=e,a={...u,id:l?af(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(r),1,a),a}function Du(e,t,n,o){const l={},i=e.reduce((s,u)=>{if(!Lo(u))return o(new Qe(Ke.NODE_INVALID)),s;const a=_w(u,{...n(u.id),parentNode:u.parentNode});return u.parentNode&&(l[u.parentNode]=!0),s.concat(a)},[]),r=[...i,...t];for(const s of i){const u=r.find(a=>a.id===s.parentNode);s.parentNode&&!u&&o(new Qe(Ke.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||l[s.id])&&(l[s.id]&&(s.isParent=!0),u&&(u.isParent=!0))}return i}function yf(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:l,nodes:i,nodeExtent:r,viewport:s,autoPanOnNodeDrag:u,nodesDraggable:a,panBy:c,findNode:d,multiSelectionActive:h,nodesSelectionActive:f,selectNodesOnDrag:p,removeSelectedElements:m,addSelectedNodes:g,updateNodePositions:_,emits:x}=Ge(),{onStart:k,onDrag:w,onStop:M,el:b,disabled:z,id:C,selectable:L,dragHandle:H}=e,Q=ne(!1);let G=[],le,E=null,X={x:void 0,y:void 0},V={x:0,y:0},O=null,I=0,T=!1;const R=Ib(),Y=({x:ae,y:fe})=>{X={x:ae,y:fe};let ee=!1;if(G=G.map(se=>{const ie={x:ae-se.distance.x,y:fe-se.distance.y};n.value&&(ie.x=o.value[0]*Math.round(ie.x/o.value[0]),ie.y=o.value[1]*Math.round(ie.y/o.value[1]));const{computedPosition:de}=Ds(se,ie,x.error,r.value,se.parentNode?d(se.parentNode):void 0);return ee=ee||se.position.x!==de.x||se.position.y!==de.y,se.position=de,se}),!!ee&&(_(G,!0,!0),Q.value=!0,O)){const[se,ie]=hr({id:C,dragItems:G,findNode:d});w({event:O,node:se,nodes:ie})}},j=()=>{if(!E)return;const[ae,fe]=hf(V,E);if(ae!==0||fe!==0){const ee={x:(X.x??0)-ae/s.value.zoom,y:(X.y??0)-fe/s.value.zoom};c({x:ae,y:fe})&&Y(ee)}I=requestAnimationFrame(j)};return xe([()=>Ce(z),b],([ae,fe])=>{if(fe){const ee=_t(fe);ae?ee.on(".drag",null):(le=Ey().on("start",se=>{var ie;const de=d(C);!p.value&&!h.value&&de&&(de.selected||m()),de&&Ce(L)&&p.value&&Zr(de,h.value,g,m,f,!1,fe);const Se=R(se);if(X=Se,G=Ew(i.value,a.value,Se,d,C),G.length){const[P,D]=hr({id:C,dragItems:G,findNode:d});k({event:se.sourceEvent,node:P,nodes:D})}E=((ie=t.value)==null?void 0:ie.getBoundingClientRect())||null,V=Rn(se.sourceEvent,E)}).on("drag",se=>{const ie=R(se);!T&&u.value&&(T=!0,j()),(X.x!==ie.xSnapped||X.y!==ie.ySnapped)&&G.length&&(O=se.sourceEvent,V=Rn(se.sourceEvent,E),Y(ie))}).on("end",se=>{if(Q.value=!1,T=!1,cancelAnimationFrame(I),G.length){_(G,!1,!1);const[ie,de]=hr({id:C,dragItems:G,findNode:d});M({event:se.sourceEvent,node:ie,nodes:de})}}).filter(se=>{const ie=se.target,de=Ce(H);return!se.button&&(!l.value||!Mu(ie,`.${l.value}`,fe)&&(!de||Mu(ie,de,fe)))}),ee.call(le))}}),Q}function Rw(){return{edgesChange:ue(),nodesChange:ue(),nodeDoubleClick:ue(),nodeClick:ue(),nodeMouseEnter:ue(),nodeMouseMove:ue(),nodeMouseLeave:ue(),nodeContextMenu:ue(),nodeDragStart:ue(),nodeDrag:ue(),nodeDragStop:ue(),nodesInitialized:ue(),miniMapNodeClick:ue(),miniMapNodeDoubleClick:ue(),miniMapNodeMouseEnter:ue(),miniMapNodeMouseMove:ue(),miniMapNodeMouseLeave:ue(),connect:ue(),connectStart:ue(),connectEnd:ue(),clickConnectStart:ue(),clickConnectEnd:ue(),paneReady:ue(),move:ue(),moveStart:ue(),moveEnd:ue(),selectionDragStart:ue(),selectionDrag:ue(),selectionDragStop:ue(),selectionContextMenu:ue(),selectionStart:ue(),selectionEnd:ue(),viewportChangeStart:ue(),viewportChange:ue(),viewportChangeEnd:ue(),paneScroll:ue(),paneClick:ue(),paneContextMenu:ue(),paneMouseEnter:ue(),paneMouseMove:ue(),paneMouseLeave:ue(),edgeContextMenu:ue(),edgeMouseEnter:ue(),edgeMouseMove:ue(),edgeMouseLeave:ue(),edgeDoubleClick:ue(),edgeClick:ue(),edgeUpdateStart:ue(),edgeUpdate:ue(),edgeUpdateEnd:ue(),updateNodeInternals:ue(),error:ue(e=>vf(e.message))}}function zw(e,t){Sc(()=>{for(const[n,o]of Object.entries(t.value)){const l=i=>{e(n,i)};o.on(l),cl(()=>{o.off(l)})}})}function _f(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}const Lw=["data-id","data-handleid","data-nodeid","data-handlepos"],Hw={name:"Handle",compatConfig:{MODE:3}},ai=ce({...Hw,props:{id:null,type:null,position:{default:ve.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e){const t=_f(e,["position","connectable","connectableStart","connectableEnd","id"]),n=Or(t,"type","source"),o=Or(t,"isValidConnection",void 0),{connectionStartHandle:l,connectionClickStartHandle:i,connectionEndHandle:r,vueFlowRef:s,nodesConnectable:u,noDragClassName:a,noPanClassName:c}=Ge(),{id:d,node:h,nodeEl:f,connectedEdges:p}=Rb(),m=ne(),g=W(()=>e.id??`${d}__handle-${e.position}`),_=W(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),x=W(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),{handlePointerDown:k,handleClick:w}=Vf({nodeId:d,handleId:g,isValidConnection:o,type:n}),M=W(()=>cn(e.connectable)&&e.connectable==="single"?!p.value.some(H=>{const Q=H[`${n.value}Handle`];return H[n.value]!==d?!1:Q?Q===g.value:!0}):yo(e.connectable)?e.connectable(h,p.value):ze(e.connectable)?e.connectable:u.value),b=W(()=>{var H,Q,G,le,E,X;return((H=l.value)==null?void 0:H.nodeId)===d&&((Q=l.value)==null?void 0:Q.handleId)===g.value&&((G=l.value)==null?void 0:G.type)===n.value||((le=r.value)==null?void 0:le.nodeId)===d&&((E=r.value)==null?void 0:E.handleId)===g.value&&((X=r.value)==null?void 0:X.type)===n.value}),z=W(()=>{var H,Q,G;return((H=i.value)==null?void 0:H.nodeId)===d&&((Q=i.value)==null?void 0:Q.handleId)===g.value&&((G=i.value)==null?void 0:G.type)===n.value});vn(()=>h.initialized).toBe(!0,{flush:"post"}).then(()=>{var H;const Q=(H=h.handleBounds[n.value])==null?void 0:H.find(I=>I.id===g.value);if(!s.value||Q)return;const G=s.value.querySelector(".vue-flow__transformationpane");if(!f.value||!m.value||!G||!g.value)return;const le=f.value.getBoundingClientRect(),E=m.value.getBoundingClientRect(),X=window.getComputedStyle(G),{m22:V}=new window.DOMMatrixReadOnly(X.transform),O={id:g.value,position:e.position,x:(E.left-le.left)/V,y:(E.top-le.top)/V,...Oi(m.value)};h.handleBounds[n.value]=[...h.handleBounds[n.value]??[],O]});function C(H){const Q=Rs(H);M.value&&_.value&&(Q&&H.button===0||!Q)&&k(H)}function L(H){!d||!i.value&&!_.value||M.value&&w(H)}return(H,Q)=>(F(),K("div",{ref_key:"handle",ref:m,"data-id":`${A(d)}-${A(g)}-${A(n)}`,"data-handleid":A(g),"data-nodeid":A(d),"data-handlepos":e.position,class:we(["vue-flow__handle",[`vue-flow__handle-${e.position}`,`vue-flow__handle-${A(g)}`,A(a),A(c),A(n),{connectable:A(M),connecting:A(z),connectablestart:A(_),connectableend:A(x),connectionindicator:A(M)&&(A(_)&&!A(b)||A(x)&&A(b))}]]),onMousedown:C,onTouchstartPassive:C,onClick:L},[Ee(H.$slots,"default",{id:e.id})],42,Lw))}}),Ri=function({sourcePosition:e=ve.Bottom,targetPosition:t=ve.Top,label:n,connectable:o=!0,isValidTargetPos:l,isValidSourcePos:i}){return[Fe(ai,{type:"target",position:t,connectable:o,isValidConnection:l}),typeof n!="string"&&n?Fe(n):Fe("div",{innerHTML:n}),Fe(ai,{type:"source",position:e,connectable:o,isValidConnection:i})]};Ri.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"];Ri.inheritAttrs=!1;Ri.compatConfig={MODE:3};const Uw=Ri,zi=function({sourcePosition:e=ve.Bottom,label:t,connectable:n=!0,isValidSourcePos:o}){return[typeof t!="string"&&t?Fe(t):Fe("div",{innerHTML:t}),Fe(ai,{type:"source",position:e,connectable:n,isValidConnection:o})]};zi.props=["sourcePosition","label","isValidSourcePos","connectable"];zi.inheritAttrs=!1;zi.compatConfig={MODE:3};const jw=zi,Li=function({targetPosition:e=ve.Top,label:t,connectable:n=!0,isValidTargetPos:o}){return[Fe(ai,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof t!="string"&&t?Fe(t):Fe("div",{innerHTML:t})]};Li.props=["targetPosition","label","isValidTargetPos","connectable"];Li.inheritAttrs=!1;Li.compatConfig={MODE:3};const Gw=Li,Ru=Symbol("vueFlow"),wf=Symbol("nodeId"),bf=Symbol("nodeRef"),Yw=Symbol("edgeId"),qw=Symbol("edgeRef"),Hi=Symbol("slots"),Xw=ce({name:"Node",compatConfig:{MODE:3},props:["name","type","id","draggable","selectable","focusable","connectable","node","resizeObserver"],setup(e){Ln(wf,e.id);const{id:t,edges:n,noPanClassName:o,selectNodesOnDrag:l,nodesSelectionActive:i,multiSelectionActive:r,emits:s,findNode:u,removeSelectedNodes:a,addSelectedNodes:c,updateNodeDimensions:d,onUpdateNodeInternals:h,getIntersectingNodes:f,getNodeTypes:p,nodeExtent:m,elevateNodesOnSelect:g,disableKeyboardA11y:_,ariaLiveMessage:x,snapToGrid:k,snapGrid:w}=Ge(),M=Tf(),b=zo(e,"node"),z=W(()=>u(b.value.parentNode)),C=W(()=>Di([b.value],n.value)),L=ne(null);Ln(bf,L);const{emit:H,on:Q}=Lb(b.value,s),G=yf({id:e.id,el:L,disabled:()=>!e.draggable,selectable:()=>e.selectable,dragHandle:()=>b.value.dragHandle,onStart(ee){H.dragStart({...ee,intersections:f(b.value)})},onDrag(ee){H.drag({...ee,intersections:f(b.value)})},onStop(ee){H.dragStop({...ee,intersections:f(b.value)})}}),le=W(()=>b.value.class instanceof Function?b.value.class(b.value):b.value.class),E=W(()=>{const ee=(b.value.style instanceof Function?b.value.style(b.value):b.value.style)||{},se=b.value.width instanceof Function?b.value.width(b.value):b.value.width,ie=b.value.height instanceof Function?b.value.height(b.value):b.value.height;return se&&(ee.width=typeof se=="string"?se:`${se}px`),ie&&(ee.height=typeof ie=="string"?ie:`${ie}px`),ee}),X=()=>Number(b.value.zIndex??E.value.zIndex??0);return h(ee=>{ee.includes(e.id)&&O()}),We(()=>{e.resizeObserver.observe(L.value)}),xi(()=>{e.resizeObserver.unobserve(L.value)}),xe([()=>b.value.type,()=>b.value.sourcePosition,()=>b.value.targetPosition],()=>{d([{id:e.id,nodeElement:L.value,forceUpdate:!0}])},{flush:"pre"}),xe([()=>b.value.position.x,()=>b.value.position.y,()=>{var ee;return(ee=z.value)==null?void 0:ee.computedPosition.x},()=>{var ee;return(ee=z.value)==null?void 0:ee.computedPosition.y},()=>{var ee;return(ee=z.value)==null?void 0:ee.computedPosition.z},()=>X(),()=>b.value.selected,()=>b.value.dimensions.height,()=>b.value.dimensions.width,()=>{var ee;return(ee=z.value)==null?void 0:ee.dimensions.height},()=>{var ee;return(ee=z.value)==null?void 0:ee.dimensions.width}],([ee,se,ie,de,Se,P])=>{const D={x:ee,y:se,z:P+(g.value&&b.value.selected?1e3:0)};Yt(ie)&&Yt(de)?b.value.computedPosition=Sw({x:ie,y:de,z:Se},D):b.value.computedPosition=D},{flush:"post",immediate:!0}),xe([()=>b.value.extent,m],([ee,se],[ie,de])=>{(ee!==ie||se!==de)&&V()}),b.value.extent==="parent"||typeof b.value.extent=="object"&&"range"in b.value.extent&&b.value.extent.range==="parent"?vn(()=>b.value.initialized).toBe(!0).then(V):V(),()=>Fe("div",{ref:L,"data-id":b.value.id,class:["vue-flow__node",`vue-flow__node-${e.type===!1?"default":e.name}`,{[o.value]:e.draggable,dragging:G==null?void 0:G.value,selected:b.value.selected,selectable:e.selectable,parent:b.value.isParent},le.value],style:{zIndex:b.value.computedPosition.z??X(),transform:`translate(${b.value.computedPosition.x}px,${b.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",visibility:b.value.initialized?"visible":"hidden",...E.value},tabIndex:e.focusable?0:void 0,role:e.focusable?"button":void 0,"aria-describedby":_.value?void 0:`${nf}-${t}`,"aria-label":b.value.ariaLabel,onMouseenter:I,onMousemove:T,onMouseleave:R,onContextmenu:Y,onClick:ae,onDblclick:j,onKeydown:fe},[Fe(e.type===!1?p.value.default:e.type,{id:b.value.id,type:b.value.type,data:b.value.data,events:{...b.value.events,...Q},selected:!!b.value.selected,resizing:!!b.value.resizing,dragging:G.value,connectable:e.connectable,position:b.value.position,dimensions:b.value.dimensions,isValidTargetPos:b.value.isValidTargetPos,isValidSourcePos:b.value.isValidSourcePos,parent:b.value.parentNode,zIndex:b.value.computedPosition.z,targetPosition:b.value.targetPosition,sourcePosition:b.value.sourcePosition,label:b.value.label,dragHandle:b.value.dragHandle,onUpdateNodeInternals:O})]);function V(){const ee=b.value.computedPosition;k.value&&(ee.x=w.value[0]*Math.round(ee.x/w.value[0]),ee.y=w.value[1]*Math.round(ee.y/w.value[1]));const{computedPosition:se,position:ie}=Ds(b.value,ee,s.error,m.value,z.value);(b.value.computedPosition.x!==se.x||b.value.computedPosition.y!==se.y)&&(b.value.computedPosition={...b.value.computedPosition,...se}),(b.value.position.x!==ie.x||b.value.position.y!==ie.y)&&(b.value.position=ie)}function O(){L.value&&d([{id:e.id,nodeElement:L.value,forceUpdate:!0}])}function I(ee){G!=null&&G.value||H.mouseEnter({event:ee,node:b.value,connectedEdges:C.value})}function T(ee){G!=null&&G.value||H.mouseMove({event:ee,node:b.value,connectedEdges:C.value})}function R(ee){G!=null&&G.value||H.mouseLeave({event:ee,node:b.value,connectedEdges:C.value})}function Y(ee){return H.contextMenu({event:ee,node:b.value,connectedEdges:C.value})}function j(ee){return H.doubleClick({event:ee,node:b.value,connectedEdges:C.value})}function ae(ee){e.selectable&&(!l.value||!e.draggable)&&Zr(b.value,r.value,c,a,i,!1,L.value),H.click({event:ee,node:b.value,connectedEdges:C.value})}function fe(ee){if(!Jr(ee))if(lf.includes(ee.key)&&e.selectable){const se=ee.key==="Escape";Zr(b.value,r.value,c,a,i,se,L.value)}else!_.value&&e.draggable&&b.value.selected&&uo[ee.key]&&(x.value=`Moved selected node ${ee.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~b.value.position.x}, y: ${~~b.value.position.y}`,M({x:uo[ee.key].x,y:uo[ee.key].y},ee.shiftKey))}}}),Ww=Xw,Zw=["transform"],Kw=["width","height","x","y","rx","ry"],Jw=["y"],Qw={name:"EdgeText",compatConfig:{MODE:3}},eb=ce({...Qw,props:{"aria-activedescendant":null,"aria-atomic":{type:[Boolean,String]},"aria-autocomplete":null,"aria-busy":{type:[Boolean,String]},"aria-checked":{type:[Boolean,String]},"aria-colcount":null,"aria-colindex":null,"aria-colspan":null,"aria-controls":null,"aria-current":{type:[Boolean,String]},"aria-describedby":null,"aria-details":null,"aria-disabled":{type:[Boolean,String]},"aria-dropeffect":null,"aria-errormessage":null,"aria-expanded":{type:[Boolean,String]},"aria-flowto":null,"aria-grabbed":{type:[Boolean,String]},"aria-haspopup":{type:[Boolean,String]},"aria-hidden":{type:[Boolean,String]},"aria-invalid":{type:[Boolean,String]},"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":null,"aria-modal":{type:[Boolean,String]},"aria-multiline":{type:[Boolean,String]},"aria-multiselectable":{type:[Boolean,String]},"aria-orientation":null,"aria-owns":null,"aria-placeholder":null,"aria-posinset":null,"aria-pressed":{type:[Boolean,String]},"aria-readonly":{type:[Boolean,String]},"aria-relevant":null,"aria-required":{type:[Boolean,String]},"aria-roledescription":null,"aria-rowcount":null,"aria-rowindex":null,"aria-rowspan":null,"aria-selected":{type:[Boolean,String]},"aria-setsize":null,"aria-sort":null,"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,innerHTML:null,class:null,style:null,color:null,height:null,id:null,lang:null,max:null,media:null,method:null,min:null,name:null,target:null,type:null,width:null,role:null,tabindex:null,"accent-height":null,accumulate:null,additive:null,"alignment-baseline":null,allowReorder:null,alphabetic:null,amplitude:null,"arabic-form":null,ascent:null,attributeName:null,attributeType:null,autoReverse:null,azimuth:null,baseFrequency:null,"baseline-shift":null,baseProfile:null,bbox:null,begin:null,bias:null,by:null,calcMode:null,"cap-height":null,clip:null,"clip-path":null,clipPathUnits:null,"clip-rule":null,"color-interpolation":null,"color-interpolation-filters":null,"color-profile":null,"color-rendering":null,contentScriptType:null,contentStyleType:null,cursor:null,cx:null,cy:null,d:null,decelerate:null,descent:null,diffuseConstant:null,direction:null,display:null,divisor:null,"dominant-baseline":null,dur:null,dx:null,dy:null,edgeMode:null,elevation:null,"enable-background":null,end:null,exponent:null,externalResourcesRequired:null,fill:null,"fill-opacity":null,"fill-rule":null,filter:null,filterRes:null,filterUnits:null,"flood-color":null,"flood-opacity":null,focusable:null,"font-family":null,"font-size":null,"font-size-adjust":null,"font-stretch":null,"font-style":null,"font-variant":null,"font-weight":null,format:null,from:null,fx:null,fy:null,g1:null,g2:null,"glyph-name":null,"glyph-orientation-horizontal":null,"glyph-orientation-vertical":null,glyphRef:null,gradientTransform:null,gradientUnits:null,hanging:null,"horiz-adv-x":null,"horiz-origin-x":null,href:null,ideographic:null,"image-rendering":null,in2:null,in:null,intercept:null,k1:null,k2:null,k3:null,k4:null,k:null,kernelMatrix:null,kernelUnitLength:null,kerning:null,keyPoints:null,keySplines:null,keyTimes:null,lengthAdjust:null,"letter-spacing":null,"lighting-color":null,limitingConeAngle:null,local:null,"marker-end":null,markerHeight:null,"marker-mid":null,"marker-start":null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,mode:null,numOctaves:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,"overline-position":null,"overline-thickness":null,"paint-order":null,"panose-1":null,pathLength:null,patternContentUnits:null,patternTransform:null,patternUnits:null,"pointer-events":null,points:null,pointsAtX:null,pointsAtY:null,pointsAtZ:null,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,r:null,radius:null,refX:null,refY:null,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:null,requiredFeatures:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,"shape-rendering":null,slope:null,spacing:null,specularConstant:null,specularExponent:null,speed:null,spreadMethod:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,"stop-color":null,"stop-opacity":null,"strikethrough-position":null,"strikethrough-thickness":null,string:null,stroke:null,"stroke-dasharray":null,"stroke-dashoffset":null,"stroke-linecap":null,"stroke-linejoin":null,"stroke-miterlimit":null,"stroke-opacity":null,"stroke-width":null,surfaceScale:null,systemLanguage:null,tableValues:null,targetX:null,targetY:null,"text-anchor":null,"text-decoration":null,textLength:null,"text-rendering":null,to:null,transform:null,u1:null,u2:null,"underline-position":null,"underline-thickness":null,unicode:null,"unicode-bidi":null,"unicode-range":null,"unitsPer-em":null,"v-alphabetic":null,values:null,"vector-effect":null,version:null,"vert-adv-y":null,"vert-origin-x":null,"vert-origin-y":null,"v-hanging":null,"v-ideographic":null,viewBox:null,viewTarget:null,visibility:null,"v-mathematical":null,widths:null,"word-spacing":null,"writing-mode":null,x1:null,x2:null,x:null,xChannelSelector:null,"x-height":null,xlinkActuate:null,xlinkArcrole:null,xlinkHref:null,xlinkRole:null,xlinkShow:null,xlinkTitle:null,xlinkType:null,xmlns:null,y1:null,y2:null,y:null,yChannelSelector:null,z:null,zoomAndPan:null,label:null,labelStyle:{default:{}},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:{}},labelBgPadding:{default:[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=ne({x:0,y:0,width:0,height:0}),n=ne(null),o=W(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);We(l),xe([()=>e.x,()=>e.y,n,()=>e.label],l);function l(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,r)=>(F(),K("g",{transform:A(o),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?(F(),K("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*e.labelBgPadding[0]}px`,height:`${t.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:Ae(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,Kw)):me("",!0),q("text",Vt(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:e.labelStyle}),[Ee(i.$slots,"default",{},()=>[A(cn)(e.label)?(F(),K(Me,{key:1},[al(De(e.label),1)],64)):(F(),he(Qn(e.label),{key:0}))])],16,Jw)],8,Zw))}}),tb=["id","d","marker-end","marker-start"],nb=["d","stroke-width"],ob={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Ui=ce({...ob,props:{labelStyle:null,labelShowBg:{type:Boolean,default:!0},labelBgStyle:null,labelBgPadding:null,labelBgBorderRadius:null,id:null,labelX:null,labelY:null,path:null,label:null,markerStart:null,markerEnd:null,interactionWidth:{default:20},style:null,ref:null},setup(e,{expose:t}){const n=_f(e,["interactionWidth","labelShowBg"]),o=ne(null),l=ne(null),i=ne(null),r=ih();return t({pathEl:o,interactionEl:l,labelEl:i}),(s,u)=>(F(),K(Me,null,[q("path",{id:e.id,ref_key:"pathEl",ref:o,d:e.path,style:Ae(A(n).style),class:we(["vue-flow__edge-path",A(r).class]),"marker-end":e.markerEnd,"marker-start":e.markerStart},null,14,tb),e.interactionWidth?(F(),K("path",{key:0,ref_key:"interactionEl",ref:l,fill:"none",d:e.path,"stroke-width":e.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,nb)):me("",!0),e.label&&A(Yt)(e.labelX)&&A(Yt)(e.labelY)?(F(),he(eb,{key:1,ref_key:"labelEl",ref:i,x:e.labelX,y:e.labelY,label:e.label,"label-show-bg":e.labelShowBg,"label-bg-style":e.labelBgStyle,"label-bg-padding":e.labelBgPadding,"label-bg-border-radius":e.labelBgBorderRadius,"label-style":e.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):me("",!0)],64))}});function xf({sourceX:e,sourceY:t,targetX:n,targetY:o}){const l=Math.abs(n-e)/2,i=n<e?n+l:n-l,r=Math.abs(o-t)/2,s=o<t?o+r:o-r;return[i,s,l,r]}function $f({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:l,sourceControlY:i,targetControlX:r,targetControlY:s}){const u=e*.125+l*.375+r*.375+n*.125,a=t*.125+i*.375+s*.375+o*.125,c=Math.abs(u-e),d=Math.abs(a-t);return[u,a,c,d]}function Nl(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function zu({pos:e,x1:t,y1:n,x2:o,y2:l,c:i}){let r,s;switch(e){case ve.Left:r=t-Nl(t-o,i),s=n;break;case ve.Right:r=t+Nl(o-t,i),s=n;break;case ve.Top:r=t,s=n-Nl(n-l,i);break;case ve.Bottom:r=t,s=n+Nl(l-n,i);break}return[r,s]}function Sf({sourceX:e,sourceY:t,sourcePosition:n=ve.Bottom,targetX:o,targetY:l,targetPosition:i=ve.Top,curvature:r=.25}){const[s,u]=zu({pos:n,x1:e,y1:t,x2:o,y2:l,c:r}),[a,c]=zu({pos:i,x1:o,y1:l,x2:e,y2:t,c:r}),[d,h,f,p]=$f({sourceX:e,sourceY:t,targetX:o,targetY:l,sourceControlX:s,sourceControlY:u,targetControlX:a,targetControlY:c});return[`M${e},${t} C${s},${u} ${a},${c} ${o},${l}`,d,h,f,p]}function Lu({pos:e,x1:t,y1:n,x2:o,y2:l}){let i,r;switch(e){case ve.Left:case ve.Right:i=.5*(t+o),r=n;break;case ve.Top:case ve.Bottom:i=t,r=.5*(n+l);break}return[i,r]}function Ef({sourceX:e,sourceY:t,sourcePosition:n=ve.Bottom,targetX:o,targetY:l,targetPosition:i=ve.Top}){const[r,s]=Lu({pos:n,x1:e,y1:t,x2:o,y2:l}),[u,a]=Lu({pos:i,x1:o,y1:l,x2:e,y2:t}),[c,d,h,f]=$f({sourceX:e,sourceY:t,targetX:o,targetY:l,sourceControlX:r,sourceControlY:s,targetControlX:u,targetControlY:a});return[`M${e},${t} C${r},${s} ${u},${a} ${o},${l}`,c,d,h,f]}const Hu={[ve.Left]:{x:-1,y:0},[ve.Right]:{x:1,y:0},[ve.Top]:{x:0,y:-1},[ve.Bottom]:{x:0,y:1}};function lb({source:e,sourcePosition:t=ve.Bottom,target:n}){return t===ve.Left||t===ve.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Uu(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function ib({source:e,sourcePosition:t=ve.Bottom,target:n,targetPosition:o=ve.Top,center:l,offset:i}){const r=Hu[t],s=Hu[o],u={x:e.x+r.x*i,y:e.y+r.y*i},a={x:n.x+s.x*i,y:n.y+s.y*i},c=lb({source:u,sourcePosition:t,target:a}),d=c.x!==0?"x":"y",h=c[d];let f,p,m;const[g,_,x,k]=xf({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(r[d]*s[d]===-1){p=l.x||g,m=l.y||_;const w=[{x:p,y:u.y},{x:p,y:a.y}],M=[{x:u.x,y:m},{x:a.x,y:m}];r[d]===h?f=d==="x"?w:M:f=d==="x"?M:w}else{const w=[{x:u.x,y:a.y}],M=[{x:a.x,y:u.y}];if(d==="x"?f=r.x===h?M:w:f=r.y===h?w:M,t!==o){const b=d==="x"?"y":"x",z=r[d]===s[b],C=u[b]>a[b],L=u[b]<a[b];(r[d]===1&&(!z&&C||z&&L)||r[d]!==1&&(!z&&L||z&&C))&&(f=d==="x"?w:M)}p=f[0].x,m=f[0].y}return[[e,u,...f,a,n],p,m,x,k]}function rb(e,t,n,o){const l=Math.min(Uu(e,t)/2,Uu(t,n)/2,o),{x:i,y:r}=t;if(e.x===i&&i===n.x||e.y===r&&r===n.y)return`L${i} ${r}`;if(e.y===r){const a=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+l*a},${r}Q ${i},${r} ${i},${r+l*c}`}const s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${r+l*u}Q ${i},${r} ${i+l*s},${r}`}function Kr({sourceX:e,sourceY:t,sourcePosition:n=ve.Bottom,targetX:o,targetY:l,targetPosition:i=ve.Top,borderRadius:r=5,centerX:s,centerY:u,offset:a=20}){const[c,d,h,f,p]=ib({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:l},targetPosition:i,center:{x:s,y:u},offset:a});return[c.reduce((m,g,_)=>{let x;return _>0&&_<c.length-1?x=rb(c[_-1],g,c[_+1],r):x=`${_===0?"M":"L"}${g.x} ${g.y}`,m+=x,m},""),d,h,f,p]}function sb({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[l,i,r,s]=xf({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,l,i,r,s]}const ab=ce({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,l]=Sf({...e,sourcePosition:e.sourcePosition??ve.Bottom,targetPosition:e.targetPosition??ve.Top});return Fe(Ui,{path:n,labelX:o,labelY:l,...t,...e})}}}),ub=ab,cb=ce({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,l]=Ef({...e,sourcePosition:e.sourcePosition??ve.Bottom,targetPosition:e.targetPosition??ve.Top});return Fe(Ui,{path:n,labelX:o,labelY:l,...t,...e})}}}),db=cb,fb=ce({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,l]=Kr({...e,sourcePosition:e.sourcePosition??ve.Bottom,targetPosition:e.targetPosition??ve.Top});return Fe(Ui,{path:n,labelX:o,labelY:l,...t,...e})}}}),kf=fb,pb=ce({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Fe(kf,{...e,...t,borderRadius:0})}}),hb=pb,mb=ce({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,l]=sb(e);return Fe(Ui,{path:n,labelX:o,labelY:l,...t,...e})}}}),gb=mb;function vb(e,t,n){return n===ve.Left?e-t:n===ve.Right?e+t:e}function yb(e,t,n){return n===ve.Top?e-t:n===ve.Bottom?e+t:e}const Ls=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=ve.Top,type:l}){return Fe("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${l}`,cx:vb(t,e,o),cy:yb(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};Ls.props=["radius","centerX","centerY","position","type"];Ls.compatConfig={MODE:3};const ju=Ls,_b=ce({name:"Edge",compatConfig:{MODE:3},props:["name","type","id","updatable","selectable","focusable","edge"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:l,emits:i,nodesSelectionActive:r,noPanClassName:s,getEdgeTypes:u,removeSelectedEdges:a,findEdge:c,findNode:d,isValidConnection:h}=Ge(),f=Ab(e.edge,i),p=zo(e,"edge"),m=ne(!1),g=ne(!1),_=ne(""),x=ne(null),k=ne("source"),w=ne(null);Ln(Yw,e.id),Ln(qw,w);const M=W(()=>p.value.class instanceof Function?p.value.class(p.value):p.value.class),b=W(()=>p.value.style instanceof Function?p.value.style(p.value):p.value.style),{handlePointerDown:z}=Vf({nodeId:_,handleId:x,type:k,isValidConnection:h,edgeUpdaterType:k,onEdgeUpdate:H,onEdgeUpdateEnd:Q});return()=>{const j=d(p.value.source),ae=d(p.value.target);if(!j||!ae||!p.value||j.hidden||ae.hidden)return null;let fe;o.value===bn.Strict?fe=j.handleBounds.source:fe=[...j.handleBounds.source||[],...j.handleBounds.target||[]];const ee=Fu(fe,p.value.sourceHandle);let se;o.value===bn.Strict?se=ae.handleBounds.target:se=[...ae.handleBounds.target||[],...ae.handleBounds.source||[]];const ie=Fu(se,p.value.targetHandle),de=ee?ee.position:ve.Bottom,Se=ie?ie.position:ve.Top,{sourceX:P,sourceY:D,targetY:y,targetX:v}=Tw(j,ee,de,ae,ie,Se);return p.value.sourceX=P,p.value.sourceY=D,p.value.targetX=v,p.value.targetY=y,Fe("g",{ref:w,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${e.type===!1?"default":e.name}`,s.value,M.value,{updating:m.value,selected:p.value.selected,animated:p.value.animated,inactive:!e.selectable}],onClick:le,onContextmenu:E,onDblclick:X,onMouseenter:V,onMousemove:O,onMouseleave:I,onKeyDown:e.focusable?Y:void 0,tabIndex:e.focusable?0:void 0,"aria-label":p.value.ariaLabel===null?void 0:p.value.ariaLabel||`Edge from ${p.value.source} to ${p.value.target}`,"aria-describedby":e.focusable?`${of}-${t}`:void 0,role:e.focusable?"button":void 0},[g.value?null:Fe(e.type===!1?u.value.default:e.type,{id:e.id,sourceNode:j,targetNode:ae,source:p.value.source,target:p.value.target,type:p.value.type,updatable:e.updatable,selected:p.value.selected,animated:p.value.animated,label:p.value.label,labelStyle:p.value.labelStyle,labelShowBg:p.value.labelShowBg,labelBgStyle:p.value.labelBgStyle,labelBgPadding:p.value.labelBgPadding,labelBgBorderRadius:p.value.labelBgBorderRadius,data:p.value.data,events:{...p.value.events,...f.on},style:b.value,markerStart:`url(#${Bn(p.value.markerStart,t)})`,markerEnd:`url(#${Bn(p.value.markerEnd,t)})`,sourcePosition:de,targetPosition:Se,sourceX:P,sourceY:D,targetX:v,targetY:y,sourceHandleId:p.value.sourceHandle,targetHandleId:p.value.targetHandle,interactionWidth:p.value.interactionWidth}),[e.updatable==="source"||e.updatable===!0?[Fe("g",{onMousedown:T,onMouseenter:C,onMouseout:L},Fe(ju,{position:de,centerX:P,centerY:D,radius:l.value,type:"source","data-type":"source"}))]:null,e.updatable==="target"||e.updatable===!0?[Fe("g",{onMousedown:R,onMouseenter:C,onMouseout:L},Fe(ju,{position:Se,centerX:v,centerY:y,radius:l.value,type:"target","data-type":"target"}))]:null]])};function C(){m.value=!0}function L(){m.value=!1}function H(j,ae){f.emit.update({event:j,edge:p.value,connection:ae})}function Q(j){f.emit.updateEnd({event:j,edge:p.value}),g.value=!1}function G(j,ae){j.button===0&&(g.value=!0,_.value=ae?p.value.target:p.value.source,x.value=(ae?p.value.targetHandle:p.value.sourceHandle)??"",k.value=ae?"target":"source",f.emit.updateStart({event:j,edge:p.value}),z(j))}function le(j){const ae={event:j,edge:p.value};e.selectable&&(r.value=!1,n([p.value])),f.emit.click(ae)}function E(j){f.emit.contextMenu({event:j,edge:p.value})}function X(j){f.emit.doubleClick({event:j,edge:p.value})}function V(j){f.emit.mouseEnter({event:j,edge:p.value})}function O(j){f.emit.mouseMove({event:j,edge:p.value})}function I(j){f.emit.mouseLeave({event:j,edge:p.value})}function T(j){G(j,!0)}function R(j){G(j,!1)}function Y(j){var ae;lf.includes(j.key)&&e.selectable&&(j.key==="Escape"?((ae=w.value)==null||ae.blur(),a([c(e.id)])):n([c(e.id)]))}}}),wb=_b,bb={[ve.Left]:ve.Right,[ve.Right]:ve.Left,[ve.Top]:ve.Bottom,[ve.Bottom]:ve.Top},xb=ce({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{connectionMode:t,connectionStartHandle:n,connectionEndHandle:o,connectionPosition:l,connectionLineType:i,connectionLineStyle:r,connectionLineOptions:s,connectionStatus:u,viewport:a,findNode:c}=Ge(),d=(e=$t(Hi))==null?void 0:e["connection-line"];return()=>{var h,f,p,m;if(!n.value)return null;const g=c(n.value.nodeId);if(!g)return null;const _=n.value.handleId,x=n.value.type,k=((h=o.value)==null?void 0:h.handleId)&&c(o.value.nodeId)||null,w=(l.value.x-a.value.x)/a.value.zoom,M=(l.value.y-a.value.y)/a.value.zoom,b=g.handleBounds;let z=b==null?void 0:b[x];if(t.value===bn.Loose&&(z=z||(b==null?void 0:b[x==="source"?"target":"source"])),!z)return null;const C=(_?z.find(O=>O.id===_):z[0])??null,L=(C==null?void 0:C.position)||ve.Top,{x:H,y:Q}=Wr(L,{...g.dimensions,...g.computedPosition},C),G=k&&((f=o.value)==null?void 0:f.handleId)&&((t.value===bn.Strict?(p=k.handleBounds[x==="source"?"target":"source"])==null?void 0:p.find(O=>{var I;return O.id===((I=o.value)==null?void 0:I.handleId)}):[...k.handleBounds.source||[],...k.handleBounds.target||[]].find(O=>{var I;return O.id===((I=o.value)==null?void 0:I.handleId)}))||((m=k.handleBounds[x??"target"])==null?void 0:m[0]))||null,le=L?bb[L]:null;if(!L||!le)return null;const E=i.value??s.value.type;let X="";const V={sourceX:H,sourceY:Q,sourcePosition:L,targetX:w,targetY:M,targetPosition:le};return E===eo.Bezier?[X]=Sf(V):E===eo.Step?[X]=Kr({...V,borderRadius:0}):E===eo.SmoothStep?[X]=Kr(V):E===eo.SimpleBezier?[X]=Ef(V):X=`M${H},${Q} ${w},${M}`,Fe("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Fe("g",{class:"vue-flow__connection"},d?Fe(d,{sourceX:H,sourceY:Q,sourcePosition:L,targetX:w,targetY:M,targetPosition:le,sourceNode:g,sourceHandle:C,targetNode:k,targetHandle:G,markerEnd:`url(#${Bn(s.value.markerEnd)})`,markerStart:`url(#${Bn(s.value.markerStart)})`,connectionStatus:u.value}):Fe("path",{d:X,class:[s.value.class,u,"vue-flow__connection-path"],style:r.value||s.value.style,"marker-end":`url(#${Bn(s.value.markerEnd)})`,"marker-start":`url(#${Bn(s.value.markerStart)})`})))}}}),$b=xb,Sb=["tabIndex"],Eb={name:"NodesSelection",compatConfig:{MODE:3}},kb=ce({...Eb,setup(e){const t=Ge(),n=Ye(t,"emits"),o=Ye(t,"viewport"),l=Ye(t,"getSelectedNodes"),i=Ye(t,"noPanClassName"),r=Ye(t,"disableKeyboardA11y"),s=Ye(t,"userSelectionActive"),u=Tf(),a=ne(null),c=yf({el:a,onStart(m){n.value.selectionDragStart(m)},onDrag(m){n.value.selectionDrag(m)},onStop(m){n.value.selectionDragStop(m)}});We(()=>{var m;r.value||(m=a.value)==null||m.focus({preventScroll:!0})});const d=W(()=>df(l.value)),h=W(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function f(m){n.value.selectionContextMenu({event:m,nodes:l.value})}function p(m){r.value||uo[m.key]&&u({x:uo[m.key].x,y:uo[m.key].y},m.shiftKey)}return(m,g)=>!A(s)&&A(d).width&&A(d).height?(F(),K("div",{key:0,class:we(["vue-flow__nodesselection vue-flow__container",A(i)]),style:Ae({transform:`translate(${A(o).x}px,${A(o).y}px) scale(${A(o).zoom})`})},[q("div",{ref_key:"el",ref:a,class:we([{dragging:A(c)},"vue-flow__nodesselection-rect"]),style:Ae(A(h)),tabIndex:A(r)?void 0:-1,onContextmenu:f,onKeydown:p},null,46,Sb)],6)):me("",!0)}}),Cb={name:"UserSelection",compatConfig:{MODE:3}},Vb=ce({...Cb,props:{userSelectionRect:null},setup(e){return(t,n)=>(F(),K("div",{class:"vue-flow__selection vue-flow__container",style:Ae({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}}),Tb={input:jw,default:Uw,output:Gw},Nb={default:ub,straight:gb,step:hb,smoothstep:kf,simplebezier:db};function Pb(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Os.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:si.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:eo.Bezier,style:{}},connectionMode:bn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:NaN,y:NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Rw(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,disableKeyboardA11y:!1,ariaLiveMessage:"",__experimentalFeatures:{nestedFlow:!1}}}function Cf(e){const t=Pb();return e&&Object.keys(e).forEach(n=>{const o=e[n];ze(o)&&(t[n]=o)}),t}function Mb(e,t,n,o,l,i,r){const s=Ub(o,l),u=P=>{const D=P??i.value??[];o.hooks.updateNodeInternals.trigger(D)},a=P=>{if(P)return o.nodes&&!i.value.length?o.nodes.find(D=>D.id===P):o.nodes[i.value.indexOf(P)]},c=P=>{if(P)return o.edges&&!r.value.length?o.edges.find(D=>D.id===P):o.edges[r.value.indexOf(P)]},d=(P,D,y)=>{const v=[];P.forEach($=>{var N,S;const U={id:$.id,type:"position",dragging:y,from:$.from};if(D&&(U.position=$.position,$.parentNode)){const Z=a($.parentNode);U.position={x:U.position.x-(((N=Z==null?void 0:Z.computedPosition)==null?void 0:N.x)??0),y:U.position.y-(((S=Z==null?void 0:Z.computedPosition)==null?void 0:S.y)??0)}}v.push(U)}),v!=null&&v.length&&o.hooks.nodesChange.trigger(v)},h=P=>{var D;if(!o.vueFlowRef)return;const y=o.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!y)return;let v;if((D=o.__experimentalFeatures)!=null&&D.nestedFlow){let N=[y],S=y,U;for(;!U&&S;)S=S.parentElement,U=S==null?void 0:S.classList.contains("vue-flow__transformationpane"),U&&(N=[S,...N]);N.forEach(Z=>{const J=window.getComputedStyle(Z),{m22:oe}=new window.DOMMatrixReadOnly(J.transform);v?v*=oe:v=oe})}else{const N=window.getComputedStyle(y),{m22:S}=new window.DOMMatrixReadOnly(N.transform);v=S}const $=P.reduce((N,S)=>{const U=a(S.id);if(U){const Z=Oi(S.nodeElement);Z.width&&Z.height&&(U.dimensions.width!==Z.width||U.dimensions.height!==Z.height||S.forceUpdate)&&(U.handleBounds.source=Ou(".source",S.nodeElement,v),U.handleBounds.target=Ou(".target",S.nodeElement,v),U.dimensions=Z,U.initialized=!0,N.push({id:U.id,type:"dimensions",dimensions:Z}))}return N},[]);$.length&&o.hooks.nodesChange.trigger($)},f=(P,D)=>{const y=P.map(N=>N.id);let v,$=[];if(o.multiSelectionActive)v=y.map(N=>jt(N,D));else{const N=pr([...o.nodes,...o.edges],y);v=N.changedNodes,$=N.changedEdges}v.length&&o.hooks.nodesChange.trigger(v),$.length&&o.hooks.edgesChange.trigger($)},p=(P,D)=>{const y=P.map(N=>N.id);let v=[],$;if(o.multiSelectionActive)$=y.map(N=>jt(N,D));else{const N=pr([...o.nodes,...o.edges],y);v=N.changedNodes,$=N.changedEdges}v.length&&o.hooks.nodesChange.trigger(v),$.length&&o.hooks.edgesChange.trigger($)},m=(P,D)=>{const y=P.filter(Lo).map(S=>S.id),v=P.filter(vo).map(S=>S.id);let{changedNodes:$,changedEdges:N}=pr([...o.nodes,...o.edges],[...y,...v]);o.multiSelectionActive&&($=y.map(S=>jt(S,D)),N=v.map(S=>jt(S,D))),$.length&&o.hooks.nodesChange.trigger($),N.length&&o.hooks.edgesChange.trigger(N)},g=P=>{f(P,!0)},_=P=>{p(P,!0)},x=P=>{m(P,!0)},k=P=>{if(!P.length)return f(P,!1);const D=P.map(y=>y.id).map(y=>jt(y,!1));D.length&&o.hooks.nodesChange.trigger(D)},w=P=>{if(!P.length)return p(P,!1);const D=P.map(y=>y.id).map(y=>jt(y,!1));D.length&&o.hooks.edgesChange.trigger(D)},M=P=>{if(!P||!P.length)return m([],!1);const{changedNodes:D,changedEdges:y}=P.reduce((v,$)=>{const N=jt($.id,!1);return Lo($)?v.changedNodes.push(N):v.changedEdges.push(N),v},{changedNodes:[],changedEdges:[]});D.length&&o.hooks.nodesChange.trigger(D),y.length&&o.hooks.edgesChange.trigger(y)},b=P=>{var D;(D=o.d3Zoom)==null||D.scaleExtent([P,o.maxZoom]),o.minZoom=P},z=P=>{var D;(D=o.d3Zoom)==null||D.scaleExtent([o.minZoom,P]),o.maxZoom=P},C=P=>{var D;(D=o.d3Zoom)==null||D.translateExtent(P),o.translateExtent=P},L=P=>{o.nodeExtent=P,u(i.value)},H=P=>{o.nodesDraggable=P,o.nodesConnectable=P,o.elementsSelectable=P},Q=P=>{const D=P instanceof Function?P(o.nodes):P;!o.initialized&&!D.length||(o.nodes=Du(D,o.nodes,a,o.hooks.error.trigger))},G=P=>{const D=P instanceof Function?P(o.edges):P;if(!o.initialized&&!D.length)return;const y=o.isValidConnection?D.filter(v=>o.isValidConnection(v,{edges:o.edges,sourceNode:a(v.source),targetNode:a(v.target)})):D;o.edges=y.reduce((v,$)=>{const N=a($.source),S=a($.target),U=!N||typeof N>"u",Z=!S||typeof S>"u";if(U&&Z?o.hooks.error.trigger(new Qe(Ke.EDGE_SOURCE_TARGET_MISSING,$.id,$.source,$.target)):(U&&o.hooks.error.trigger(new Qe(Ke.EDGE_SOURCE_MISSING,$.id,$.source)),Z&&o.hooks.error.trigger(new Qe(Ke.EDGE_TARGET_MISSING,$.id,$.target))),U||Z)return v;const J=c($.id);return v.push({...sf($,Object.assign({},J,o.defaultEdgeOptions)),sourceNode:N,targetNode:S}),v},[])},le=P=>{const D=P instanceof Function?P([...o.nodes,...o.edges]):P;!o.initialized&&!D.length||(Q(D.filter(Lo)),G(D.filter(vo)))},E=P=>{let D=P instanceof Function?P(o.nodes):P;D=Array.isArray(D)?D:[D];const y=Du(D,o.nodes,a,o.hooks.error.trigger).map(Pu);y.length&&o.hooks.nodesChange.trigger(y)},X=P=>{let D=P instanceof Function?P(o.edges):P;D=Array.isArray(D)?D:[D];const y=(o.isValidConnection?D.filter(v=>o.isValidConnection(v,{edges:o.edges,sourceNode:a(v.source),targetNode:a(v.target)})):D).reduce((v,$)=>{const N=Ow({...$,...o.defaultEdgeOptions},o.edges,o.hooks.error.trigger);if(N){const S=a(N.source),U=a(N.target),Z=!S||typeof S>"u",J=!U||typeof U>"u";if(Z&&J?o.hooks.error.trigger(new Qe(Ke.EDGE_SOURCE_TARGET_MISSING,N.id,N.source,N.target)):(Z&&o.hooks.error.trigger(new Qe(Ke.EDGE_SOURCE_MISSING,N.id,N.source)),J&&o.hooks.error.trigger(new Qe(Ke.EDGE_TARGET_MISSING,N.id,N.target))),Z||J)return v;v.push(Pu({...N,sourceNode:S,targetNode:U}))}return v},[]);y.length&&o.hooks.edgesChange.trigger(y)},V=(P,D=!0,y=!1)=>{let v=P instanceof Function?P(o.nodes):P;v=Array.isArray(v)?v:[v];const $=[],N=[];function S(Z){const J=Di(Z,o.edges).filter(oe=>ze(oe.deletable)?oe.deletable:!0);N.push(...J.map(oe=>Tl(oe.id)))}function U(Z){const J=o.nodes.filter(oe=>oe.parentNode===Z);if(J.length){const oe=J.map(te=>te.id);$.push(...oe.map(te=>Tl(te))),D&&S(J),J.forEach(te=>{U(te.id)})}}v.forEach(Z=>{const J=typeof Z=="string"?a(Z):Z;J&&(ze(J.deletable)&&!J.deletable||($.push(Tl(J.id)),D&&S([J]),y&&U(J.id)))}),N.length&&o.hooks.edgesChange.trigger(N),$.length&&o.hooks.nodesChange.trigger($)},O=P=>{let D=P instanceof Function?P(o.edges):P;D=Array.isArray(D)?D:[D];const y=[];D.forEach(v=>{const $=typeof v=="string"?c(v):v;$&&(ze($.deletable)&&!$.deletable||y.push(Tl(typeof v=="string"?v:v.id)))}),o.hooks.edgesChange.trigger(y)},I=(P,D,y=!0)=>Dw(P,D,o.edges,c,y,o.hooks.error.trigger),T=P=>Nu(P,o.nodes),R=P=>Nu(P,o.edges),Y=(P,D,y,v=!1)=>{v?o.connectionClickStartHandle=P:o.connectionStartHandle=P,o.connectionEndHandle=null,o.connectionStatus=null,D&&(o.connectionPosition=D)},j=(P,D=null,y=null)=>{o.connectionStartHandle&&(o.connectionPosition=P,o.connectionEndHandle=D,o.connectionStatus=y)},ae=(P,D)=>{o.connectionPosition={x:NaN,y:NaN},o.connectionEndHandle=null,o.connectionStatus=null,D?o.connectionClickStartHandle=null:o.connectionStartHandle=null},fe=P=>{const D=yw(P),y=D?null:a(P.id);return!D&&!y?[null,null,D]:[D?P:ku(y),y,D]},ee=(P,D=!0,y)=>{const[v,$,N]=fe(P);return v?(y||o.nodes).filter(S=>{if(!N&&(S.id===$.id||!S.computedPosition))return!1;const U=ku(S),Z=Xr(U,v);return D&&Z>0||Z>=Number(P.width)*Number(P.height)}):[]},se=(P,D,y=!0)=>{const[v]=fe(P);if(!v)return!1;const $=Xr(v,D);return y&&$>0||$>=Number(P.width)*Number(P.height)},ie=P=>{const{viewport:D,dimensions:y,d3Zoom:v,d3Selection:$,translateExtent:N}=o;if(!v||!$||!P.x&&!P.y)return!1;const S=go.translate(D.x+P.x,D.y+P.y).scale(D.zoom),U=[[0,0],[y.width,y.height]],Z=v.constrain()(S,U,N),J=o.viewport.x!==Z.x||o.viewport.y!==Z.y||o.viewport.zoom!==Z.k;return v.transform($,Z),J},de=P=>{const D=P instanceof Function?P(o):P,y=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent","nodeExtent","hooks","defaultEdgeOptions"],v=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];ze(D.defaultEdgeOptions)&&(o.defaultEdgeOptions=D.defaultEdgeOptions);const $=D.modelValue||D.nodes||D.edges?[]:void 0;$&&(D.modelValue&&$.push(...D.modelValue),D.nodes&&$.push(...D.nodes),D.edges&&$.push(...D.edges),le($));const N=()=>{ze(D.maxZoom)&&z(D.maxZoom),ze(D.minZoom)&&b(D.minZoom),ze(D.translateExtent)&&C(D.translateExtent),ze(D.nodeExtent)&&L(D.nodeExtent)};Object.keys(D).forEach(S=>{const U=S,Z=D[U];![...y,...v].includes(U)&&ze(Z)&&(o[U]=Z)}),o.d3Zoom?N():vn(()=>o.d3Zoom).not.toBeUndefined().then(N),o.initialized||(o.initialized=!0)},Se={updateNodePositions:d,updateNodeDimensions:h,setElements:le,setNodes:Q,setEdges:G,addNodes:E,addEdges:X,removeNodes:V,removeEdges:O,findNode:a,findEdge:c,updateEdge:I,applyEdgeChanges:R,applyNodeChanges:T,addSelectedElements:x,addSelectedNodes:g,addSelectedEdges:_,setMinZoom:b,setMaxZoom:z,setTranslateExtent:C,setNodeExtent:L,removeSelectedElements:M,removeSelectedNodes:k,removeSelectedEdges:w,startConnection:Y,updateConnection:j,endConnection:ae,setInteractive:H,setState:de,getIntersectingNodes:ee,isNodeIntersecting:se,panBy:ie,fitView:P=>s.value.fitView(P),zoomIn:P=>s.value.zoomIn(P),zoomOut:P=>s.value.zoomOut(P),zoomTo:(P,D)=>s.value.zoomTo(P,D),setViewport:(P,D)=>s.value.setViewport(P,D),setTransform:(P,D)=>s.value.setTransform(P,D),getViewport:()=>s.value.getViewport(),getTransform:()=>s.value.getTransform(),setCenter:(P,D,y)=>s.value.setCenter(P,D,y),fitBounds:(P,D)=>s.value.fitBounds(P,D),project:P=>s.value.project(P),toObject:()=>JSON.parse(JSON.stringify({nodes:o.nodes.map(P=>{const{computedPosition:D,handleBounds:y,selected:v,dimensions:$,isParent:N,resizing:S,dragging:U,initialized:Z,...J}=P;return J}),edges:o.edges.map(P=>{const{selected:D,sourceNode:y,targetNode:v,...$}=P;return $}),position:[o.viewport.x,o.viewport.y],zoom:o.viewport.zoom,viewport:o.viewport})),fromObject:P=>{const{nodes:D,edges:y,position:v,zoom:$,viewport:N}=P;if(D&&Q(D),y&&G(y),N!=null&&N.x&&N!=null&&N.y||v){const S=(N==null?void 0:N.x)||v[0],U=(N==null?void 0:N.y)||v[1],Z=(N==null?void 0:N.zoom)||$||o.viewport.zoom;vn(()=>s.value.initialized).toBe(!0).then(()=>{s.value.setViewport({x:S,y:U,zoom:Z})})}},updateNodeInternals:u,$reset:()=>{const P=Cf();if(o.edges=[],o.nodes=[],o.d3Zoom&&o.d3Selection){const D=go.translate(P.defaultViewport.x??0,P.defaultViewport.y??0).scale(jn(P.defaultViewport.zoom??1,P.minZoom,P.maxZoom)),y=o.viewportRef.getBoundingClientRect(),v=[[0,0],[y.width,y.height]],$=o.d3Zoom.constrain()(D,v,P.translateExtent);o.d3Zoom.transform(o.d3Selection,$)}de(P)},$destroy:()=>{}};return vn(()=>s.value.initialized).toBe(!0,{flush:"pre"}).then(()=>{o.fitViewOnInit&&s.value.fitView(),o.hooks.paneReady.trigger({id:e,emits:t,vueFlowVersion:"1.22.2",...n,...o,...l,...Se})}),Se}function Fb(e,t,n){const o=W(()=>m=>e.nodes&&!t.value.length?e.nodes.find(g=>g.id===m):e.nodes[t.value.indexOf(m)]),l=W(()=>m=>e.edges&&!n.value.length?e.edges.find(g=>g.id===m):e.edges[n.value.indexOf(m)]),i=W(()=>{var m;const g={...Nb,...e.edgeTypes},_=Object.keys(g);return(m=e.edges)==null||m.forEach(x=>x.type&&!_.includes(x.type)&&(g[x.type]=x.type)),g}),r=W(()=>{var m;const g={...Tb,...e.nodeTypes},_=Object.keys(g);return(m=e.nodes)==null||m.forEach(x=>x.type&&!_.includes(x.type)&&(g[x.type]=x.type)),g}),s=W(()=>{const m=e.nodes.filter(g=>!g.hidden);return e.onlyRenderVisibleElements?m&&ff(m,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):m??[]}),u=(m,g,_)=>{if(g=g??o.value(m.source),_=_??o.value(m.target),!g||!_){e.hooks.error.trigger(new Qe(Ke.EDGE_ORPHANED,m.id));return}return!m.hidden&&!_.hidden&&!g.hidden},a=W(()=>e.onlyRenderVisibleElements?e.edges.filter(m=>{const g=o.value(m.source),_=o.value(m.target);return u(m,g,_)&&Nw({sourcePos:g.computedPosition||{x:0,y:0},targetPos:_.computedPosition||{x:0,y:0},sourceWidth:g.dimensions.width,sourceHeight:g.dimensions.height,targetWidth:_.dimensions.width,targetHeight:_.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(m=>u(m))),c=W(()=>[...s.value,...a.value]),d=W(()=>e.nodes.filter(m=>m.selected)),h=W(()=>e.edges.filter(m=>m.selected)),f=W(()=>[...d.value??[],...h.value??[]]),p=W(()=>s.value.filter(m=>m.initialized&&m.handleBounds!==void 0));return{getNode:o,getEdge:l,getElements:c,getEdgeTypes:i,getNodeTypes:r,getEdges:a,getNodes:s,getSelectedElements:f,getSelectedNodes:d,getSelectedEdges:h,getNodesInitialized:p}}class no{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return no.instance||(no.instance=new no),no.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Cf(n),l=sl(o),i={};Object.entries(l.hooks).forEach(([h,f])=>{const p=`on${h.charAt(0).toUpperCase()+h.slice(1)}`;i[p]=f.on});const r={};Object.entries(l.hooks).forEach(([h,f])=>{r[h]=f.trigger});const s=W(()=>l.nodes.map(h=>h.id)),u=W(()=>l.edges.map(h=>h.id)),a=Fb(l,s,u),c=Mb(t,r,i,l,a,s,u);c.setState(l);const d={...i,...a,...c,..._0(l),emits:r,id:t,vueFlowVersion:"1.22.2",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function Ge(e){const t=no.getInstance(),n=hi(),o=e==null?void 0:e.id,l=(n==null?void 0:n.vueFlowId)||o;let i;if(n){const r=$t(Ru,null);typeof r<"u"&&r!==null&&(i=r)}if(i||l&&(i=t.get(l)),!i||i&&o&&o!==i.id){const r=o??t.getId(),s=t.create(r,e);i=s,pi().run(()=>{xe(s.applyDefault,u=>{const a=d=>{s.applyNodeChanges(d)},c=d=>{s.applyEdgeChanges(d)};u?(s.onNodesChange(a),s.onEdgesChange(c)):(s.hooks.value.nodesChange.off(a),s.hooks.value.edgesChange.off(c))},{immediate:!0}),cl(()=>{if(i){const u=t.get(i.id);u?u.$destroy():vf(`No store instance found for id ${i.id} in storage.`)}})})}else e&&i.setState(e);return n&&(Ln(Ru,i),n.vueFlowId=i.id),i}function Bb(){return{doubleClick:ue(),click:ue(),mouseEnter:ue(),mouseMove:ue(),mouseLeave:ue(),contextMenu:ue(),updateStart:ue(),update:ue(),updateEnd:ue()}}function Ab(e,t){const n=Bb();return n.doubleClick.on(o=>{var l,i;t.edgeDoubleClick(o),(i=(l=e.events)==null?void 0:l.doubleClick)==null||i.call(l,o)}),n.click.on(o=>{var l,i;t.edgeClick(o),(i=(l=e.events)==null?void 0:l.click)==null||i.call(l,o)}),n.mouseEnter.on(o=>{var l,i;t.edgeMouseEnter(o),(i=(l=e.events)==null?void 0:l.mouseEnter)==null||i.call(l,o)}),n.mouseMove.on(o=>{var l,i;t.edgeMouseMove(o),(i=(l=e.events)==null?void 0:l.mouseMove)==null||i.call(l,o)}),n.mouseLeave.on(o=>{var l,i;t.edgeMouseLeave(o),(i=(l=e.events)==null?void 0:l.mouseLeave)==null||i.call(l,o)}),n.contextMenu.on(o=>{var l,i;t.edgeContextMenu(o),(i=(l=e.events)==null?void 0:l.contextMenu)==null||i.call(l,o)}),n.updateStart.on(o=>{var l,i;t.edgeUpdateStart(o),(i=(l=e.events)==null?void 0:l.updateStart)==null||i.call(l,o)}),n.update.on(o=>{var l,i;t.edgeUpdate(o),(i=(l=e.events)==null?void 0:l.update)==null||i.call(l,o)}),n.updateEnd.on(o=>{var l,i;t.edgeUpdateEnd(o),(i=(l=e.events)==null?void 0:l.updateEnd)==null||i.call(l,o)}),Object.entries(n).reduce((o,[l,i])=>(o.emit[l]=i.trigger,o.on[l]=i.on,o),{emit:{},on:{}})}function Ib(){const{viewport:e,snapGrid:t,snapToGrid:n}=Ge();return({sourceEvent:o})=>{const l=o.touches?o.touches[0].clientX:o.clientX,i=o.touches?o.touches[0].clientY:o.clientY,r={x:(l-e.value.x)/e.value.zoom,y:(i-e.value.y)/e.value.zoom};return{xSnapped:n.value?t.value[0]*Math.round(r.x/t.value[0]):r.x,ySnapped:n.value?t.value[1]*Math.round(r.y/t.value[1]):r.y,...r}}}function Pl(){return!0}function Vf({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:l,onEdgeUpdate:i,onEdgeUpdateEnd:r}){const{vueFlowRef:s,connectionMode:u,connectionRadius:a,connectOnClick:c,connectionClickStartHandle:d,nodesConnectable:h,autoPanOnConnect:f,findNode:p,panBy:m,getNodes:g,startConnection:_,updateConnection:x,endConnection:k,emits:w,viewport:M,edges:b,isValidConnection:z}=Ge();let C=null,L=!1,H=null;function Q(le){var E;const X=Ce(n)==="target",V=Rs(le),O=Cu(le.target);if(V&&le.button===0||!V){let I=function($){P=Rn($,de);const{handle:N,validHandleResult:S}=Fw($,O,uf(P,M.value,!1,[1,1]),a.value,y,U=>Iu($,U,u.value,Ce(t),Ce(e),X?"target":"source",Y,O,b.value,p));if(j=N,D||(v(),D=!0),C=S.connection,L=S.isValid,H=S.handleDomNode,x(j&&L?bw({x:j.x,y:j.y},M.value):P,S.endHandle,Aw(!!j,L)),!j&&!L&&!H)return mr(Se);C&&C.source!==C.target&&H&&(mr(Se),Se=H,H.classList.add("connecting","vue-flow__handle-connecting"),H.classList.toggle("valid",L),H.classList.toggle("vue-flow__handle-valid",L))},T=function($){(j||H)&&C&&L&&(i?i($,C):w.connect(C)),w.connectEnd($),l&&(r==null||r($)),mr(Se),cancelAnimationFrame(ae),k($),D=!1,L=!1,C=null,H=null,O.removeEventListener("mousemove",I),O.removeEventListener("mouseup",T),O.removeEventListener("touchmove",I),O.removeEventListener("touchend",T)};const R=p(Ce(t));let Y=Ce(o)||z.value||Pl;!Y&&R&&(Y=(X?R.isValidSourcePos:R.isValidTargetPos)||Pl);let j,ae=0;const{x:fe,y:ee}=Rn(le),se=O==null?void 0:O.elementFromPoint(fe,ee),ie=zs(Ce(l),se),de=(E=s.value)==null?void 0:E.getBoundingClientRect();if(!de||!ie)return;let Se,P=Rn(le,de),D=!1;const y=Bw({nodes:g.value,nodeId:Ce(t),handleId:Ce(e),handleType:ie}),v=()=>{if(!f)return;const[$,N]=hf(P,de);m({x:$,y:N}),ae=requestAnimationFrame(v)};_({nodeId:Ce(t),handleId:Ce(e),type:ie},{x:fe-de.left,y:ee-de.top},le),w.connectStart({event:le,nodeId:Ce(t),handleId:Ce(e),handleType:ie}),O.addEventListener("mousemove",I),O.addEventListener("mouseup",T),O.addEventListener("touchmove",I),O.addEventListener("touchend",T)}}function G(le){if(!c.value)return;const E=Ce(n)==="target";if(!d.value)w.clickConnectStart({event:le,nodeId:Ce(t),handleId:Ce(e)}),_({nodeId:Ce(t),type:Ce(n),handleId:Ce(e)},void 0,le,!0);else{let X=Ce(o)||z.value||Pl;const V=p(Ce(t));if(!X&&V&&(X=(E?V.isValidSourcePos:V.isValidTargetPos)||Pl),V&&(typeof V.connectable>"u"?h.value:V.connectable)===!1)return;const O=Cu(le.target),{connection:I,isValid:T}=Iu(le,{nodeId:Ce(t),id:Ce(e),type:Ce(n)},u.value,d.value.nodeId,d.value.handleId||null,d.value.type,X,O,b.value,p),R=I.source===I.target;T&&!R&&w.connect(I),w.clickConnectEnd(le),k(le,!0)}}return{handlePointerDown:Q,handleClick:G}}function Hs(){return typeof window<"u"?window:{chrome:!1}}function Jr(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,l=yo(o.hasAttribute)?o.hasAttribute("contenteditable"):!1,i=yo(o.closest)?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||l||!!i}function Ob(e){return e.ctrlKey||e.metaKey||e.shiftKey}function Db(e,t){return n=>e.some(o=>{const l=o.split("+").map(i=>i.trim().toLowerCase());return l.length===1?n.key===o:(t.add(n.key.toLowerCase()),l.every(i=>t.has(i)))})}function Ho(e,t){const n=Hs(),o=ne(Ce(e)===!0);let l=!1;const i=new Set;return xe(o,()=>{t==null||t(o.value)}),xe(()=>Ce(e),r=>{if(n&&typeof n.addEventListener<"u"&&Ns(n,"blur",()=>{o.value=!1}),Mw(r)){o.value=r;return}Array.isArray(r)&&(r=Db(r,i)),r&&(ru(r,s=>{l=Ob(s),!(!l&&Jr(s))&&(s.preventDefault(),o.value=!0)},{eventName:"keydown"}),ru(r,s=>{if(o.value){if(!l&&Jr(s))return;l=!1,i.clear(),o.value=!1}},{eventName:"keyup"}))},{immediate:!0}),o}function Rb(e){const t=e??$t(wf,""),n=$t(bf,ne(null)),{findNode:o,edges:l,emits:i}=Ge(),r=o(t);return r||i.error(new Qe(Ke.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:r,parentNode:W(()=>o(r.parentNode)),connectedEdges:W(()=>Di([r],l.value))}}function zb(){return{doubleClick:ue(),click:ue(),mouseEnter:ue(),mouseMove:ue(),mouseLeave:ue(),contextMenu:ue(),dragStart:ue(),drag:ue(),dragStop:ue()}}function Lb(e,t){const n=zb();return n.doubleClick.on(o=>{var l,i;t.nodeDoubleClick(o),(i=(l=e.events)==null?void 0:l.doubleClick)==null||i.call(l,o)}),n.click.on(o=>{var l,i;t.nodeClick(o),(i=(l=e.events)==null?void 0:l.click)==null||i.call(l,o)}),n.mouseEnter.on(o=>{var l,i;t.nodeMouseEnter(o),(i=(l=e.events)==null?void 0:l.mouseEnter)==null||i.call(l,o)}),n.mouseMove.on(o=>{var l,i;t.nodeMouseMove(o),(i=(l=e.events)==null?void 0:l.mouseMove)==null||i.call(l,o)}),n.mouseLeave.on(o=>{var l,i;t.nodeMouseLeave(o),(i=(l=e.events)==null?void 0:l.mouseLeave)==null||i.call(l,o)}),n.contextMenu.on(o=>{var l,i;t.nodeContextMenu(o),(i=(l=e.events)==null?void 0:l.contextMenu)==null||i.call(l,o)}),n.dragStart.on(o=>{var l,i;t.nodeDragStart(o),(i=(l=e.events)==null?void 0:l.dragStart)==null||i.call(l,o)}),n.drag.on(o=>{var l,i;t.nodeDrag(o),(i=(l=e.events)==null?void 0:l.drag)==null||i.call(l,o)}),n.dragStop.on(o=>{var l,i;t.nodeDragStop(o),(i=(l=e.events)==null?void 0:l.dragStop)==null||i.call(l,o)}),Object.entries(n).reduce((o,[l,i])=>(o.emit[l]=i.trigger,o.on[l]=i.on,o),{emit:{},on:{}})}function Tf(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:l,snapToGrid:i,nodesDraggable:r,emits:s}=Ge();return(u,a=!1)=>{const c=i.value?l.value[0]:5,d=i.value?l.value[1]:5,h=a?4:1,f=u.x*c*h,p=u.y*d*h,m=e.value.filter(g=>g.draggable||r&&typeof g.draggable>"u").map(g=>{const _={x:g.computedPosition.x+f,y:g.computedPosition.y+p},{computedPosition:x}=Ds(g,_,s.error,t.value,g.parentNode?o(g.parentNode):void 0);return{id:g.id,position:x,from:g.position,distance:{x:u.x,y:u.y},dimensions:g.dimensions}});n(m,!0,!1)}}const gr=.1;function on(){return Promise.resolve(!1)}const Hb={zoomIn:on,zoomOut:on,zoomTo:on,fitView:on,setCenter:on,fitBounds:on,project:e=>e,setViewport:on,setTransform:on,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),initialized:!1};function Ub(e,t){const n=e,o=Ye(n,"nodes"),l=Ye(n,"d3Zoom"),i=Ye(n,"d3Selection"),r=Ye(n,"dimensions"),s=Ye(n,"translateExtent"),u=Ye(n,"minZoom"),a=Ye(n,"maxZoom"),c=Ye(n,"viewport"),d=Ye(n,"snapToGrid"),h=Ye(n,"snapGrid"),{getNodes:f}=t,p=ne(!1);vn(()=>!!l.value&&!!i.value&&!!r.value.width&&!!r.value.height).toBe(!0).then(()=>{p.value=!0});function m(_,x){return new Promise(k=>{i.value&&l.value?l.value.scaleBy(vr(i.value,x,()=>{k(!0)}),_):k(!1)})}function g(_,x,k,w){return new Promise(M=>{const{x:b,y:z}=rf({x:-_,y:-x},s.value),C=go.translate(-b,-z).scale(k);i.value&&l.value?l.value.transform(vr(i.value,w,()=>{M(!0)}),C):M(!1)})}return W(()=>p.value?{initialized:!0,zoomIn:_=>m(1.2,_==null?void 0:_.duration),zoomOut:_=>m(1/1.2,_==null?void 0:_.duration),zoomTo:(_,x)=>new Promise(k=>{i.value&&l.value?l.value.scaleTo(vr(i.value,x==null?void 0:x.duration,()=>{k(!0)}),_):k(!1)}),setViewport:(_,x)=>g(_.x,_.y,_.zoom,x==null?void 0:x.duration),setTransform:(_,x)=>g(_.x,_.y,_.zoom,x==null?void 0:x.duration),getViewport:()=>({x:c.value.x,y:c.value.y,zoom:c.value.zoom}),getTransform:()=>({x:c.value.x,y:c.value.y,zoom:c.value.zoom}),fitView:(_={padding:gr,includeHiddenNodes:!1,duration:0})=>{const x=(_.includeHiddenNodes?o.value:f.value).filter(z=>{var C;const L=z.initialized&&z.dimensions.width&&z.dimensions.height;let H=!0;return(C=_.nodes)!=null&&C.length&&(H=_.nodes.includes(z.id)),L&&H});if(!x.length)return Promise.resolve(!1);const k=df(x),{x:w,y:M,zoom:b}=Vu(k,r.value.width,r.value.height,_.minZoom??u.value,_.maxZoom??a.value,_.padding??gr,_.offset);return g(w,M,b,_==null?void 0:_.duration)},setCenter:(_,x,k)=>{const w=typeof(k==null?void 0:k.zoom)<"u"?k.zoom:a.value,M=r.value.width/2-_*w,b=r.value.height/2-x*w;return g(M,b,w,k==null?void 0:k.duration)},fitBounds:(_,x={padding:gr})=>{const{x:k,y:w,zoom:M}=Vu(_,r.value.width,r.value.height,u.value,a.value,x.padding);return g(k,w,M,x==null?void 0:x.duration)},project:_=>uf(_,c.value,d.value,h.value)}:Hb)}function vr(e,t=0,n){return e.transition().duration(t).on("end",n)}function jb(e,t,n){const o=pi();return o.run(()=>{const l=()=>{o.run(()=>{let p,m,g=!!(n.nodes.value.length||n.edges.value.length);p=Jn([e.modelValue,()=>{var _,x;return(x=(_=e.modelValue)==null?void 0:_.value)==null?void 0:x.length}],([_])=>{_&&Array.isArray(_)&&(m==null||m.pause(),n.setElements(_),!m&&!g&&_.length?g=!0:m==null||m.resume())}),m=Jn([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([_,x])=>{var k;(k=e.modelValue)!=null&&k.value&&Array.isArray(e.modelValue.value)&&(p==null||p.pause(),e.modelValue.value=[..._,...x],et(()=>{p==null||p.resume()}))},{immediate:g}),Po(()=>{p==null||p.stop(),m==null||m.stop()})})},i=()=>{o.run(()=>{let p,m,g=!!n.nodes.value.length;p=Jn([e.nodes,()=>{var _,x;return(x=(_=e.nodes)==null?void 0:_.value)==null?void 0:x.length}],([_])=>{_&&Array.isArray(_)&&(m==null||m.pause(),n.setNodes(_),!m&&!g&&_.length?g=!0:m==null||m.resume())}),m=Jn([n.nodes,()=>n.nodes.value.length],([_])=>{var x;(x=e.nodes)!=null&&x.value&&Array.isArray(e.nodes.value)&&(p==null||p.pause(),e.nodes.value=[..._],et(()=>{p==null||p.resume()}))},{immediate:g}),Po(()=>{p==null||p.stop(),m==null||m.stop()})})},r=()=>{o.run(()=>{let p,m,g=!!n.edges.value.length;p=Jn([e.edges,()=>{var _,x;return(x=(_=e.edges)==null?void 0:_.value)==null?void 0:x.length}],([_])=>{_&&Array.isArray(_)&&(m==null||m.pause(),n.setEdges(_),!m&&!g&&_.length?g=!0:m==null||m.resume())}),m=Jn([n.edges,()=>n.edges.value.length],([_])=>{var x;(x=e.edges)!=null&&x.value&&Array.isArray(e.edges.value)&&(p==null||p.pause(),e.edges.value=[..._],et(()=>{p==null||p.resume()}))},{immediate:g}),Po(()=>{p==null||p.stop(),m==null||m.stop()})})},s=()=>{o.run(()=>{xe(()=>t.maxZoom,()=>{t.maxZoom&&ze(t.maxZoom)&&n.setMaxZoom(t.maxZoom)})})},u=()=>{o.run(()=>{xe(()=>t.minZoom,()=>{t.minZoom&&ze(t.minZoom)&&n.setMinZoom(t.minZoom)})})},a=()=>{o.run(()=>{xe(()=>t.translateExtent,()=>{t.translateExtent&&ze(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)})})},c=()=>{o.run(()=>{xe(()=>t.nodeExtent,()=>{t.nodeExtent&&ze(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)})})},d=()=>{o.run(()=>{xe(()=>t.applyDefault,()=>{ze(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)})})},h=()=>{o.run(()=>{const p=async m=>{let g=m;yo(t.autoConnect)&&(g=await t.autoConnect(m)),g!==!1&&n.addEdges([g])};xe(()=>t.autoConnect,()=>{ze(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)}),xe(n.autoConnect,(m,g,_)=>{m?n.onConnect(p):n.hooks.value.connect.off(p),_(()=>{n.hooks.value.connect.off(p)})},{immediate:!0})})},f=()=>{const p=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach(m=>{if(!p.includes(m)){const g=Or(t,m),_=n[m];o.run(()=>{xe(g,x=>{ze(x)&&(_.value=x)},{flush:"pre"})})}})};l(),i(),r(),u(),s(),a(),c(),d(),h(),f()}),()=>o.stop()}function Gu(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const Gb={name:"Pane",compatConfig:{MODE:3}},Yb=ce({...Gb,props:{isSelecting:{type:Boolean}},setup(e){const{id:t,vueFlowRef:n,getNodes:o,getEdges:l,viewport:i,emits:r,userSelectionActive:s,removeSelectedElements:u,panOnDrag:a,userSelectionRect:c,elementsSelectable:d,nodesSelectionActive:h,addSelectedElements:f,getSelectedEdges:p,getSelectedNodes:m,removeNodes:g,removeEdges:_,selectionMode:x,deleteKeyCode:k,multiSelectionKeyCode:w,multiSelectionActive:M}=Ge(),b=ne(null),z=ne(0),C=ne(0),L=ne(),H=W(()=>d.value&&(e.isSelecting||s.value));Ho(k,R=>{if(!R)return;const Y=o.value.reduce((j,ae)=>((!ae.selected&&ae.parentNode&&j.find(fe=>fe.id===ae.parentNode)||ae.selected)&&j.push(ae),j),[]);(Y||p.value)&&(p.value.length>0&&_(p.value),Y.length>0&&g(Y),h.value=!1,u())}),Ho(w,R=>{M.value=R});function Q(){s.value=!1,c.value=null,z.value=0,C.value=0}function G(R){R.target!==b.value||H.value||(r.paneClick(R),u(),h.value=!1)}function le(R){var Y;if(R.target===b.value){if(Array.isArray(a.value)&&(Y=a.value)!=null&&Y.includes(2)){R.preventDefault();return}r.paneContextMenu(R)}}function E(R){R.target===b.value&&r.paneScroll(R)}function X(R){if(L.value=n.value.getBoundingClientRect(),!H.value||!d||!e.isSelecting||R.button!==0||R.target!==b.value||!L.value)return;const{x:Y,y:j}=Gu(R,L.value);u(),c.value={width:0,height:0,startX:Y,startY:j,x:Y,y:j},s.value=!0,r.selectionStart(R)}function V(R){if(!H.value)return r.paneMouseMove(R);if(!e.isSelecting||!L.value||!c.value)return;s.value||(s.value=!0),h.value&&(h.value=!1);const Y=Gu(R,L.value),j=c.value.startX??0,ae=c.value.startY??0,fe={...c.value,x:Y.x<j?Y.x:j,y:Y.y<ae?Y.y:ae,width:Math.abs(Y.x-j),height:Math.abs(Y.y-ae)},ee=ff(o.value,c.value,i.value,x.value===Os.Partial),se=Di(ee,l.value);z.value=ee.length,C.value=se.length,c.value=fe,f([...ee,...se])}function O(R){H.value&&R.button===0&&(!s.value&&c.value&&R.target===b.value&&G(R),h.value=z.value>0,Q(),r.selectionEnd(R))}function I(R){var Y;if(!H.value)return r.paneMouseLeave(R);s.value&&(h.value=z.value>0,(Y=r.selectionEnd)==null||Y.call(r,R)),Q()}function T(R){H.value||r.paneMouseEnter(R)}return(R,Y)=>(F(),K("div",{ref_key:"container",ref:b,key:`pane-${A(t)}`,class:we(["vue-flow__pane vue-flow__container",{selection:e.isSelecting}]),onClick:G,onContextmenu:le,onWheelPassive:E,onMouseenter:T,onMousedown:X,onMousemove:V,onMouseup:O,onMouseleave:I},[Ee(R.$slots,"default"),A(s)&&A(c)?(F(),he(Vb,{key:0,"user-selection-rect":A(c)},null,8,["user-selection-rect"])):me("",!0),A(h)&&A(m).length?(F(),he(kb,{key:1})):me("",!0)],34))}}),qb={class:"vue-flow__nodes vue-flow__container"},Xb={name:"Nodes",compatConfig:{MODE:3}},Wb=ce({...Xb,setup(e){const t=$t(Hi),{nodesDraggable:n,nodesFocusable:o,elementsSelectable:l,nodesConnectable:i,getNodes:r,getNodesInitialized:s,getNodeTypes:u,updateNodeDimensions:a,emits:c}=Ge(),d=ne(),h=bo();vn(()=>r.value.length>0&&s.value.length===r.value.length).toBe(!0).then(()=>{et(()=>{c.nodesInitialized(s.value)})}),We(()=>{d.value=new ResizeObserver(x=>{const k=x.map(w=>({id:w.target.getAttribute("data-id"),nodeElement:w.target,forceUpdate:!0}));a(k)})}),xi(()=>{var x;return(x=d.value)==null?void 0:x.disconnect()});function f(x){return typeof x>"u"?n.value:x}function p(x){return typeof x>"u"?l.value:x}function m(x){return typeof x>"u"?i.value:x}function g(x){return typeof x>"u"?o.value:x}function _(x,k){const w=x||"default",M=t==null?void 0:t[`node-${w}`];if(M)return M;let b=k??u.value[w];if(typeof b=="string"&&h){const z=Object.keys(h.appContext.components);z&&z.includes(w)&&(b=zn(w,!1))}return b&&typeof b!="string"?b:(c.error(new Qe(Ke.NODE_TYPE_MISSING,b)),!1)}return(x,k)=>(F(),K("div",qb,[d.value?(F(!0),K(Me,{key:0},ht(A(r),w=>(F(),he(A(Ww),{id:w.id,key:w.id,"resize-observer":d.value,type:_(w.type,w.template),name:w.type||"default",draggable:f(w.draggable),selectable:p(w.selectable),connectable:m(w.connectable),focusable:g(w.focusable),node:w},null,8,["id","resize-observer","type","name","draggable","selectable","connectable","focusable","node"]))),128)):me("",!0)]))}}),Zb=["id","markerWidth","markerHeight","markerUnits","orient"],Kb=["stroke","stroke-width","fill"],Jb=["stroke","stroke-width"],Qb={name:"MarkerType",compatConfig:{MODE:3}},ex=ce({...Qb,props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(F(),K("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===A(qr).ArrowClosed?(F(),K("polyline",{key:0,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:e.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,Kb)):me("",!0),e.type===A(qr).Arrow?(F(),K("polyline",{key:1,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,Jb)):me("",!0)],8,Zb))}}),tx={name:"MarkerDefinitions",compatConfig:{MODE:3}},nx=ce({...tx,setup(e){const t=Ge(),n=Ye(t,"id"),o=Ye(t,"edges"),l=Ye(t,"connectionLineOptions"),i=Ye(t,"defaultMarkerColor"),r=W(()=>{const s=[],u=[],a=c=>{if(c){const d=Bn(c,n.value);s.includes(d)||(typeof c=="object"?u.push({...c,id:d,color:c.color||i.value}):u.push({id:d,color:i.value,type:c}),s.push(d))}};return[l.value.markerEnd,l.value.markerStart].forEach(a),o.value.reduce((c,d)=>([d.markerStart,d.markerEnd].forEach(a),c.sort((h,f)=>h.id.localeCompare(f.id))),u),u});return(s,u)=>(F(),K("defs",null,[(F(!0),K(Me,null,ht(A(r),a=>(F(),he(ex,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,"stroke-width":a.strokeWidth,orient:a.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}}),ox={class:"vue-flow__edges vue-flow__container"},lx={name:"Edges",compatConfig:{MODE:3}},ix=ce({...lx,setup(e){const t=$t(Hi),{edgesUpdatable:n,edgesFocusable:o,elementsSelectable:l,findNode:i,getEdges:r,getEdgeTypes:s,elevateEdgesOnSelect:u,dimensions:a,emits:c}=Ge(),d=bo();function h(g){return typeof g>"u"?l.value:g}function f(g){return typeof g>"u"?n.value:g}function p(g){return typeof g>"u"?o.value:g}function m(g,_){const x=g||"default",k=t==null?void 0:t[`edge-${x}`];if(k)return k;let w=_??s.value[x];if(typeof w=="string"&&d){const M=Object.keys(d.appContext.components);M&&M.includes(x)&&(w=zn(x,!1))}return w&&typeof w!="string"?w:(c.error(new Qe(Ke.EDGE_TYPE_MISSING,w)),!1)}return(g,_)=>A(a).width&&A(a).height?(F(),K(Me,{key:0},[(F(),K("svg",ox,[B(nx)])),(F(!0),K(Me,null,ht(A(r),x=>(F(),K("svg",{key:x.id,class:"vue-flow__edges vue-flow__container",style:Ae({zIndex:A(Pw)(x,A(i),A(u))})},[B(A(wb),{id:x.id,edge:x,type:m(x.type,x.template),name:x.type||"default",selectable:h(x.selectable),updatable:f(x.updatable),focusable:p(x.focusable)},null,8,["id","edge","type","name","selectable","updatable","focusable"])],4))),128)),B(A($b))],64)):me("",!0)}}),rx=q("div",{class:"vue-flow__edge-labels"},null,-1),sx={name:"Transform",compatConfig:{MODE:3}},ax=ce({...sx,setup(e){const{id:t,viewport:n,d3Zoom:o,d3Selection:l,dimensions:i}=Ge(),r=ne(!xd);return vn(()=>o.value&&l.value&&i.value.width>0&&i.value.height>0).toBe(!0).then(()=>{setTimeout(()=>{r.value=!0},1)}),(s,u)=>(F(),K("div",{key:`transform-${A(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:Ae({transform:`translate(${A(n).x}px,${A(n).y}px) scale(${A(n).zoom})`,opacity:r.value?void 0:0})},[B(ix),rx,B(Wb),Ee(s.$slots,"default")],4))}}),ux={name:"Viewport",compatConfig:{MODE:3}},cx=ce({...ux,setup(e){const{id:t,minZoom:n,maxZoom:o,defaultViewport:l,translateExtent:i,dimensions:r,zoomActivationKeyCode:s,selectionKeyCode:u,panActivationKeyCode:a,panOnScroll:c,panOnScrollMode:d,panOnScrollSpeed:h,panOnDrag:f,zoomOnDoubleClick:p,zoomOnPinch:m,zoomOnScroll:g,preventScrolling:_,noWheelClassName:x,noPanClassName:k,emits:w,connectionStartHandle:M,userSelectionActive:b,paneDragging:z,d3Zoom:C,d3Selection:L,d3ZoomHandler:H,viewport:Q,viewportRef:G}=Ge(),le=ne(),E=ne(!1),X=ne(!1);let V=!1,O=0,I={x:0,y:0,zoom:0};const T=Ho(a),R=W(()=>!E.value&&f.value&&T.value),Y=W(()=>u.value!==!0&&E.value||u.value===!0&&!R.value);We(()=>{O0(le,ee);const ie=Hs();Ns(ie,"resize",ee)}),We(()=>{const ie=le.value,de=ie.getBoundingClientRect(),Se=mw().scaleExtent([n.value,o.value]).translateExtent(i.value),P=_t(ie).call(Se),D=P.on("wheel.zoom"),y=go.translate(l.value.x??0,l.value.y??0).scale(jn(l.value.zoom??1,n.value,o.value)),v=[[0,0],[de.width,de.height]],$=Se.constrain()(y,v,i.value);Se.transform(P,$),C.value=Se,L.value=P,H.value=D,Q.value={x:$.x,y:$.y,zoom:$.k},G.value=ie,Ho(u,S=>{E.value=S});const N=Ho(s);na(()=>{E.value&&b.value&&!X.value?Se.on("zoom",null):!E.value&&!b.value&&Se.on("zoom",S=>{Q.value={x:S.transform.x,y:S.transform.y,zoom:S.transform.k};const U=fe(S.transform);V=j(f.value,O??0),w.viewportChange(U),w.move({event:S,flowTransform:U})})}),Se.on("start",S=>{var U;if(!S.sourceEvent)return null;O=S.sourceEvent.button,X.value=!0;const Z=fe(S.transform);((U=S.sourceEvent)==null?void 0:U.type)==="mousedown"&&(z.value=!0),I=Z,w.viewportChangeStart(Z),w.moveStart({event:S,flowTransform:Z})}),Se.on("end",S=>{if(!S.sourceEvent)return null;if(X.value=!1,z.value=!1,j(f.value,O??0)&&!V&&w.paneContextMenu(S.sourceEvent),V=!1,ae(I,S.transform)){const U=fe(S.transform);I=U,w.viewportChangeEnd(U),w.moveEnd({event:S,flowTransform:U})}}),na(()=>{c.value&&!N.value&&!b.value?P.on("wheel.zoom",S=>{if(se(S,x.value))return!1;S.preventDefault(),S.stopImmediatePropagation();const U=P.property("__zoom").k||1;if(S.ctrlKey&&m.value){const te=Tt(S),ge=-S.deltaY*(S.deltaMode===1?.05:S.deltaMode?1:.002)*10,pe=U*2**ge;Se.scaleTo(P,pe,te);return}const Z=S.deltaMode===1?20:1,J=d.value===si.Vertical?0:S.deltaX*Z,oe=d.value===si.Horizontal?0:S.deltaY*Z;Se.translateBy(P,-(J/U)*h.value,-(oe/U)*h.value)},{passive:!1}):typeof D<"u"&&P.on("wheel.zoom",function(S,U){if(!_.value||se(S,x.value))return null;S.preventDefault(),D.call(this,S,U)},{passive:!1})}),Se.filter(S=>{var U,Z;const J=N.value||g.value,oe=m.value&&S.ctrlKey;if(S.button===1&&S.type==="mousedown"&&((U=S.target)!=null&&U.closest(".vue-flow__node")||(Z=S.target)!=null&&Z.closest(".vue-flow__edge")))return!0;if(!f.value&&!J&&!c.value&&!p.value&&!m.value||b.value||!p.value&&S.type==="dblclick"||se(S,x.value)&&S.type==="wheel"||se(S,k.value)&&S.type!=="wheel"||!m.value&&S.ctrlKey&&S.type==="wheel"||!J&&!c.value&&!oe&&S.type==="wheel"||!f.value&&(S.type==="mousedown"||S.type==="touchstart")||Array.isArray(f.value)&&!f.value.includes(S.button)&&(S.type==="mousedown"||S.type==="touchstart"))return!1;const te=Array.isArray(f.value)&&f.value.includes(S.button)||!S.button||S.button<=1;return(!S.ctrlKey||S.type==="wheel")&&te})});function j(ie,de){return de===2&&Array.isArray(ie)&&ie.includes(2)}function ae(ie,de){return ie.x!==de.x&&!isNaN(de.x)||ie.y!==de.y&&!isNaN(de.y)||ie.zoom!==de.k&&!isNaN(de.k)}function fe(ie){return{x:ie.x,y:ie.y,zoom:ie.k}}function ee(){if(!le.value)return;const{width:ie,height:de}=Oi(le.value);(ie===0||de===0)&&w.error(new Qe(Ke.MISSING_VIEWPORT_DIMENSIONS)),r.value.width=ie||500,r.value.height=de||500}function se(ie,de){return ie.target.closest(`.${de}`)}return(ie,de)=>(F(),K(Me,null,[(F(),K("div",{ref_key:"viewportEl",ref:le,key:`viewport-${A(t)}`,class:"vue-flow__viewport vue-flow__container"},[B(Yb,{"is-selecting":A(Y),class:we({connecting:!!A(M),dragging:A(z),draggable:!!A(f)})},{default:re(()=>[B(ax,null,{default:re(()=>[Ee(ie.$slots,"zoom-pane")]),_:3})]),_:3},8,["is-selecting","class"])])),Ee(ie.$slots,"default")],64))}}),dx=["id"],fx=["id"],px=["id"],hx={name:"A11yDescriptions",compatConfig:{MODE:3}},mx=ce({...hx,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Ge(),l={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"};return(i,r)=>(F(),K(Me,null,[q("div",{id:`${A(nf)}-${A(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+De(A(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,dx),q("div",{id:`${A(of)}-${A(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,fx),A(n)?me("",!0):(F(),K("div",{key:0,id:`${A(gw)}-${A(t)}`,"aria-live":"assertive","aria-atomic":"true",style:l},De(A(o)),9,px))],64))}}),gx={name:"VueFlow",compatConfig:{MODE:3}},vx=ce({...gx,props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:null,isValidConnection:{type:Function,default:void 0},deleteKeyCode:{type:[Boolean,String,Function],default:void 0},selectionKeyCode:{type:[Boolean,String,Function],default:void 0},multiSelectionKeyCode:{type:[Boolean,String,Function],default:void 0},zoomActivationKeyCode:{type:[Boolean,String,Function],default:void 0},panActivationKeyCode:{type:[Boolean,String,Function],default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultViewport:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:null,edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},__experimentalFeatures:null},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneReady","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","error","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,l=zo(o,"modelValue",n),i=zo(o,"nodes",n),r=zo(o,"edges",n),{vueFlowRef:s,hooks:u,getNodeTypes:a,getEdgeTypes:c,...d}=Ge(o),h=jb({modelValue:l,nodes:i,edges:r},o,{vueFlowRef:s,hooks:u,getNodeTypes:a,getEdgeTypes:c,...d});zw(n,u);const f=ne();return Ln(Hi,_s()),gs(()=>{h()}),We(()=>{s.value=f.value}),t({vueFlowRef:s,hooks:u,getNodeTypes:a,getEdgeTypes:c,...d}),(p,m)=>(F(),K("div",{ref_key:"el",ref:f,class:"vue-flow"},[B(cx,null,{nodes:re(()=>[(F(!0),K(Me,null,ht(Object.keys(A(a)),g=>Ee(p.$slots,`node-${g}`)),256))]),edges:re(()=>[(F(!0),K(Me,null,ht(Object.keys(A(c)),g=>Ee(p.$slots,`edge-${g}`)),256))]),"connection-name":re(()=>[Ee(p.$slots,"connection-line")]),"zoom-pane":re(()=>[Ee(p.$slots,"zoom-pane")]),default:re(()=>[Ee(p.$slots,"default")]),_:3}),B(mx)],512))}}),yx={name:"Panel",compatConfig:{MODE:3}},_x=ce({...yx,props:{position:null},setup(e){const t=e,{userSelectionActive:n}=Ge(),o=W(()=>`${t.position}`.split("-"));return(l,i)=>(F(),K("div",{class:we(["vue-flow__panel",A(o)]),style:Ae({pointerEvents:A(n)?"none":"all"})},[Ee(l.$slots,"default")],6))}});var Nt=(e=>(e.Lines="lines",e.Dots="dots",e))(Nt||{});const wx=function({dimensions:e,size:t,color:n}){return Fe("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},bx=function({radius:e,color:t}){return Fe("circle",{cx:e,cy:e,r:e,fill:t})};Nt.Lines+"",Nt.Dots+"";const xx=["id","x","y","width","height","patternTransform"],$x={key:2,height:"100",width:"100"},Sx=["fill"],Ex=["x","y","fill"],kx={name:"Background",compatConfig:{MODE:3}},Cx=ce({...kx,props:{id:null,variant:{default:Nt.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:2}},setup(e){const t={[Nt.Dots]:"#81818a",[Nt.Lines]:"#eee"},{id:n,viewport:o}=Ge(),l=W(()=>{const[s,u]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],a=[s*o.value.zoom||1,u*o.value.zoom||1],c=e.size*o.value.zoom,d=e.variant===Nt.Dots?[c/e.offset,c/e.offset]:[a[0]/e.offset,a[1]/e.offset];return{scaledGap:a,offset:d,size:c}}),i=W(()=>`pattern-${n}${e.id?`-${e.id}`:""}`),r=W(()=>e.patternColor||t[e.variant||Nt.Dots]);return(s,u)=>(F(),K("svg",{class:"vue-flow__background vue-flow__container",style:Ae({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[Ee(s.$slots,"pattern-container",{id:A(i)},()=>[q("pattern",{id:A(i),x:A(o).x%A(l).scaledGap[0],y:A(o).y%A(l).scaledGap[1],width:A(l).scaledGap[0],height:A(l).scaledGap[1],patternTransform:`translate(-${A(l).offset[0]},-${A(l).offset[1]})`,patternUnits:"userSpaceOnUse"},[Ee(s.$slots,"pattern",{},()=>[e.variant===A(Nt).Lines?(F(),he(A(wx),{key:0,size:e.lineWidth,color:A(r),dimensions:A(l).scaledGap},null,8,["size","color","dimensions"])):e.variant===A(Nt).Dots?(F(),he(A(bx),{key:1,color:A(r),radius:A(l).size/e.offset},null,8,["color","radius"])):me("",!0),e.bgColor?(F(),K("svg",$x,[q("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,Sx)])):me("",!0)])],8,xx)]),q("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${A(i)})`},null,8,Ex),Ee(s.$slots,"default",{id:A(i)})],4))}}),Vx={name:"ControlButton",compatConfig:{MODE:3}},Tx=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},Nx={class:"vue-flow__controls-button"};function Px(e,t,n,o,l,i){return F(),K("button",Nx,[Ee(e.$slots,"default")])}const Ml=Tx(Vx,[["render",Px]]),Mx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Fx=q("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),Bx=[Fx];function Ax(e,t){return F(),K("svg",Mx,Bx)}const Ix={render:Ax},Ox={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Dx=q("path",{d:"M0 0h32v4.2H0z"},null,-1),Rx=[Dx];function zx(e,t){return F(),K("svg",Ox,Rx)}const Lx={render:zx},Hx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Ux=q("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),jx=[Ux];function Gx(e,t){return F(),K("svg",Hx,jx)}const Yx={render:Gx},qx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Xx=q("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),Wx=[Xx];function Zx(e,t){return F(),K("svg",qx,Wx)}const Kx={render:Zx},Jx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Qx=q("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),e2=[Qx];function t2(e,t){return F(),K("svg",Jx,e2)}const n2={render:t2},o2={name:"Controls",compatConfig:{MODE:3}},l2=ce({...o2,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null,position:{default:tf.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:l,setInteractive:i,zoomIn:r,zoomOut:s,fitView:u,viewport:a,minZoom:c,maxZoom:d}=Ge(),h=W(()=>n.value||o.value||l.value),f=W(()=>a.value.zoom<=c.value),p=W(()=>a.value.zoom>=d.value);function m(){r(),t("zoomIn")}function g(){s(),t("zoomOut")}function _(){u(e.fitViewParams),t("fitView")}function x(){i(!h.value),t("interactionChange",!h.value)}return(k,w)=>(F(),he(A(_x),{class:"vue-flow__controls",position:e.position},{default:re(()=>[Ee(k.$slots,"top"),e.showZoom?(F(),K(Me,{key:0},[Ee(k.$slots,"control-zoom-in",{},()=>[B(Ml,{class:"vue-flow__controls-zoomin",disabled:A(p),onClick:m},{default:re(()=>[Ee(k.$slots,"icon-zoom-in",{},()=>[(F(),he(Qn(A(Ix))))])]),_:3},8,["disabled"])]),Ee(k.$slots,"control-zoom-out",{},()=>[B(Ml,{class:"vue-flow__controls-zoomout",disabled:A(f),onClick:g},{default:re(()=>[Ee(k.$slots,"icon-zoom-out",{},()=>[(F(),he(Qn(A(Lx))))])]),_:3},8,["disabled"])])],64)):me("",!0),e.showFitView?Ee(k.$slots,"control-fit-view",{key:1},()=>[B(Ml,{class:"vue-flow__controls-fitview",onClick:_},{default:re(()=>[Ee(k.$slots,"icon-fit-view",{},()=>[(F(),he(Qn(A(Yx))))])]),_:3})]):me("",!0),e.showInteractive?Ee(k.$slots,"control-interactive",{key:2},()=>[e.showInteractive?(F(),he(Ml,{key:0,class:"vue-flow__controls-interactive",onClick:x},{default:re(()=>[A(h)?Ee(k.$slots,"icon-unlock",{key:0},()=>[(F(),he(Qn(A(n2))))]):me("",!0),A(h)?me("",!0):Ee(k.$slots,"icon-lock",{key:1},()=>[(F(),he(Qn(A(Kx))))])]),_:3})):me("",!0)]):me("",!0),Ee(k.$slots,"default")]),_:3},8,["position"]))}}),i2={},r2={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},s2=nt('<rect width="20" height="25.333" x="5.333" y="4" fill="#1F1F2B" rx="2"></rect><rect width="13.333" height="4" x="6.666" y="6.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="6.666" y="6.668" fill="#1F1F2B" fill-opacity="0.64" rx="1"></rect><rect width="13.333" height="4" x="6.666" y="12" fill="#D9D9D9" rx="1"></rect><rect width="13.333" height="4" x="6.666" y="17.332" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="6.666" y="22.668" fill="#fff" rx="1"></rect>',6),a2=[s2];function u2(e,t){return F(),K("svg",r2,a2)}const c2=Jt(i2,[["render",u2]]),d2={},f2={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},p2=nt('<rect width="20" height="25.333" x="2.667" y="4" fill="#1F1F2B" rx="2"></rect><rect width="13.333" height="4" x="4" y="22.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="17.332" fill="#D9D9D9" rx="1"></rect><rect width="13.333" height="4" x="4" y="6.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="12" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="12" fill="#1F1F2B" fill-opacity="0.64" rx="1"></rect><path fill="#fff" stroke="#1F1F2B" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M30.667 22a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"></path><path stroke="#1F1F2B" stroke-linecap="round" stroke-linejoin="round" d="M24.269 19.2v3.2h3.2"></path>',8),h2=[p2];function m2(e,t){return F(),K("svg",f2,h2)}const g2=Jt(d2,[["render",m2]]),v2={},y2={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},_2=nt('<rect width="20" height="25.333" x="2.667" y="4" fill="#1F1F2B" rx="2"></rect><rect width="13.333" height="4" x="4" y="22.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="22.668" fill="#1F1F2B" fill-opacity="0.64" rx="1"></rect><rect width="13.333" height="4" x="4" y="17.332" fill="#D9D9D9" rx="1"></rect><rect width="13.333" height="4" x="4" y="6.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="12" fill="#fff" rx="1"></rect><rect width="14.667" height="14.667" x="17.333" y="14.668" fill="#1F1F2B" rx="2"></rect><rect width="9.333" height="9.333" x="20" y="17.332" fill="#fff" rx="1"></rect><path fill="#1F1F2B" d="M25.39 22.848h-1.866v-.91h1.866c.325 0 .588-.05.788-.147a.95.95 0 0 0 .438-.403 1.22 1.22 0 0 0 .143-.596c0-.21-.047-.407-.143-.59a1.042 1.042 0 0 0-.438-.449c-.2-.113-.463-.17-.788-.17h-1.487v5.752h-1.236v-6.667h2.723c.555 0 1.026.091 1.414.275.39.18.688.43.891.75.204.318.305.681.305 1.09 0 .43-.101.8-.305 1.108-.204.309-.5.545-.891.71-.388.165-.859.247-1.414.247Z"></path>',9),w2=[_2];function b2(e,t){return F(),K("svg",y2,w2)}const x2=Jt(v2,[["render",b2]]),$2={},S2={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},E2=q("path",{fill:"#D9D9D9",d:"M24 7.332v18.667a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7.332a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2Z"},null,-1),k2=q("path",{stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M14 5.332H6a2 2 0 0 0-2 2v18.667a2 2 0 0 0 2 2h8m0-22.667h8a2 2 0 0 1 2 2v18.667a2 2 0 0 1-2 2h-8m0-22.667v22.667"},null,-1),C2=q("path",{fill:"#1F1F2B","fill-opacity":"0.64",d:"M29.983 11.729a.898.898 0 0 0-.733-.393.898.898 0 0 0-.733.393l-1.834 2.619a1.04 1.04 0 0 0-.086 1.028.912.912 0 0 0 .82.543h3.666c.348 0 .665-.21.82-.543a1.04 1.04 0 0 0-.086-1.028l-1.834-2.62ZM29.983 22.855a.898.898 0 0 1-.733.392.898.898 0 0 1-.733-.392l-1.834-2.62a1.04 1.04 0 0 1-.086-1.028.912.912 0 0 1 .82-.543h3.666c.348 0 .665.21.82.543.156.333.122.73-.086 1.028l-1.834 2.62Z"},null,-1),V2=[E2,k2,C2];function T2(e,t){return F(),K("svg",S2,V2)}const N2=Jt($2,[["render",T2]]),P2={key:1,class:"toolbar_btn-disable"},Fl=ce({__name:"ToolbarItem",props:{disabled:{type:Boolean},nodeType:{}},setup(e){const t=e;function n(o,l){l&&o.dataTransfer&&(o.dataTransfer.setData("application/vueflow",l),o.dataTransfer.effectAllowed="move")}return(o,l)=>!t.disabled&&t.nodeType?(F(),K("div",{key:0,class:"toolbar_btn-enable",draggable:!0,onDragstart:l[0]||(l[0]=i=>n(i,t.nodeType))},[Ee(o.$slots,"default")],32)):(F(),K("div",P2,[Ee(o.$slots,"default")]))}}),M2={class:"toolbar flex-col"},F2=ce({__name:"Toolbar",props:{canAddFloor:{type:Boolean},canAddTempFloor:{type:Boolean},canAddParkingFloor:{type:Boolean},canAddElevator:{type:Boolean}},setup(e){return(t,n)=>(F(),K("div",M2,[B(Fl,{disabled:!t.canAddFloor,"node-type":"node-floor"},{default:re(()=>[B(c2)]),_:1},8,["disabled"]),B(Fl,{disabled:!t.canAddTempFloor,"node-type":"node-temp-floor"},{default:re(()=>[B(g2)]),_:1},8,["disabled"]),B(Fl,{disabled:!t.canAddParkingFloor,"node-type":"node-parking-floor"},{default:re(()=>[B(x2)]),_:1},8,["disabled"]),B(Fl,{disabled:!t.canAddElevator,"node-type":"node-elevator"},{default:re(()=>[B(N2)]),_:1},8,["disabled"])]))}}),B2=nt('<g filter="url(#a)"><rect width="40" height="40" fill="#15767D" rx="20"></rect><path fill="#fff" d="M27.548 20.788a.913.913 0 0 0 0-1.576l-12.193-7.089a.903.903 0 0 0-1.355.788v14.178c0 .7.753 1.138 1.355.788l12.193-7.09Z"></path></g><defs><filter id="a" width="60" height="60" x="-10" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1712_61068"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1712_61068" result="shape"></feBlend></filter></defs>',2),A2=[B2],I2=ce({__name:"ResumeBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",class:we(t.disabled?"disabled":"clickable")},A2,2))}}),O2={xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",fill:"none",viewBox:"0 0 41 40"},D2={filter:"url(#a)"},R2=q("rect",{width:"6",height:"18",x:"12.5",y:"11",fill:"#fff",rx:"1"},null,-1),z2=q("rect",{width:"6",height:"18",x:"22.5",y:"11",fill:"#fff",rx:"1"},null,-1),L2=nt('<defs><filter id="a" width="60" height="60" x="-9.5" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1717_143119"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1717_143119" result="shape"></feBlend></filter></defs>',1),H2=ce({__name:"PauseBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),K("svg",O2,[q("g",D2,[q("rect",{width:"40",height:"40",x:"0.5",fill:"#15767D",class:we(t.disabled?"disabled":"clickable"),rx:"20"},null,2),R2,z2]),L2]))}}),U2=nt('<g filter="url(#a)"><rect width="40" height="40" x="0.5" fill="#15767D" rx="20"></rect><rect width="18" height="6" x="11.5" y="17" fill="#fff" rx="1"></rect><rect width="6" height="18" x="17.5" y="11" fill="#fff" rx="1"></rect></g><defs><filter id="a" width="60" height="60" x="-9.5" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1717_143130"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1717_143130" result="shape"></feBlend></filter></defs>',2),j2=[U2],G2=ce({__name:"PlusSpeedBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",fill:"none",viewBox:"0 0 41 40",class:we(t.disabled?"disabled":"clickable")},j2,2))}}),Y2=nt('<g filter="url(#a)"><rect width="40" height="40" x="0.5" fill="#15767D" rx="20"></rect><rect width="18" height="6" x="11.5" y="18" fill="#fff" rx="1"></rect></g><defs><filter id="a" width="60" height="60" x="-9.5" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1717_143125"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1717_143125" result="shape"></feBlend></filter></defs>',2),q2=[Y2],X2=ce({__name:"MinusSpeedBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",fill:"none",viewBox:"0 0 41 40",class:we(t.disabled?"disabled":"clickable")},q2,2))}}),W2=nt('<g filter="url(#a)"><rect width="40" height="40" x="0.5" fill="#15767D" rx="20"></rect><path fill="#fff" d="M23.048 20.886c.603-.394.603-1.378 0-1.772l-12.193-7.975c-.602-.394-1.355.098-1.355.886v15.95c0 .788.753 1.28 1.355.886l12.193-7.975Z"></path><path fill="#fff" d="M31.048 20.886c.603-.394.603-1.378 0-1.772l-12.193-7.975c-.602-.394-1.355.098-1.355.886v15.95c0 .788.753 1.28 1.355.886l12.193-7.975Z"></path><rect width="6" height="18" x="26.5" y="11" fill="#fff" rx="1"></rect></g><defs><filter id="a" width="60" height="60" x="-9.5" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1717_143134"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1717_143134" result="shape"></feBlend></filter></defs>',2),Z2=[W2],K2=ce({__name:"SetMaxSpeedBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",fill:"none",viewBox:"0 0 41 40",class:we(t.disabled?"disabled":"clickable")},Z2,2))}}),J2={class:"simulation-panel-container left relative"},Q2=q("p",{class:"simulation-panel-container_title"},"Симуляция",-1),e3={class:"simulation-panel-container_navigation flex-row gap8 centered"},t3={class:"guetro flex centered"},n3=q("div",{class:"absolute-full",id:"animation-container"},null,-1),o3={class:"statistic-panel-container right flex centered"},l3=q("p",null,"Нет данных",-1),i3=[l3],r3=ce({__name:"SimulationPanel",setup(e){const t=qn(),n=W(()=>t.isHideSimulationPanel?"simulation-panel-container_closed":"simulation-panel-container__opened"),o=W(()=>t.simulationSpeed===Number.POSITIVE_INFINITY?"∞":t.simulationSpeed>=1?`x${t.simulationSpeed}`:`x1 / ${1/t.simulationSpeed}`);return(l,i)=>(F(),K("div",{class:we(`${n.value} flex-row`)},[q("div",{class:"simulation-panel-left-btn",onClick:i[0]||(i[0]=r=>A(t).isHideSimulationPanel=!A(t).isHideSimulationPanel)},"Симуляция / статистика"),fo(q("div",J2,[Q2,q("div",e3,[A(t).isDisabledPauseBtn?(F(),he(I2,{key:1,disabled:A(t).isDisabledResumeBtn&&A(t).isRun!="RUN",onClick:i[2]||(i[2]=r=>A(t).resumeSimulation())},null,8,["disabled"])):(F(),he(H2,{key:0,disabled:A(t).isRun!="RUN",onClick:i[1]||(i[1]=r=>A(t).pauseSimulation())},null,8,["disabled"])),B(X2,{onClick:i[3]||(i[3]=r=>A(t).minusSpeed()),disabled:A(t).isDisabledMinusBtn},null,8,["disabled"]),q("div",t3,De(o.value),1),B(G2,{onClick:i[4]||(i[4]=r=>A(t).plusSpeed()),disabled:A(t).isDisabledPlusBtn},null,8,["disabled"]),B(K2,{onClick:i[5]||(i[5]=r=>A(t).setMaxSpeed()),disabled:A(t).isDisabledMaxSpeedBtn},null,8,["disabled"])]),n3],512),[[Va,!A(t).isHideSimulationPanel]]),fo(q("div",o3,i3,512),[[Va,!A(t).isHideSimulationPanel]])],2))}});const s3={},a3={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},u3=nt('<rect width="13.2" height="16.8" x="5.4" y="3.6" fill="#15767D" rx="2"></rect><rect width="7.2" height="2.4" x="6.6" y="5.4" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="5.4" fill="#15767D" fill-opacity="0.6" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="9" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="9" fill="#15767D" fill-opacity="0.25" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="12.6" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="16.199" fill="#E1ECF2" rx="1"></rect>',7),c3=[u3];function d3(e,t){return F(),K("svg",a3,c3)}const ji=Jt(s3,[["render",d3]]),f3=["disabled","placeholder","value"],p3={class:"input-row__value__measure"},Ft=ce({__name:"InputRow",props:{title:{},measure:{},placeholder:{default:""},color:{},disabled:{type:Boolean},modelValue:{},bgColor:{},isFlight:{type:Boolean},rules:{},isRequired:{type:Boolean}},emits:["update:modelValue","update:error"],setup(e,{emit:t}){const n=e,o=W(()=>n.bgColor),l=ne(!1),i=W(()=>l.value&&n.isFlight&&"input-row__is-borned"||""),r=W(()=>{for(const c of(n==null?void 0:n.rules)||[]){const d=typeof c=="function"?c(n.modelValue):c;if(d)return d}return null});xe(r,c=>t("update:error",c));const s=W(()=>r.value?"input-row__is-not-valid":i.value),u=W(()=>r.value?{content:`<div class="tooltip-block-error">${r.value}</div>`,html:!0,theme:"error"}:null);We(()=>{n.isFlight&&(l.value=!0)});const a=c=>{var h;const d=(h=c==null?void 0:c.target)==null?void 0:h.value;t("update:modelValue",d)};return(c,d)=>{const h=$i("tooltip");return fo((F(),K("div",{class:we(`input-row input relative ${s.value}`),style:Ae({backgroundColor:o.value})},[q("div",{class:we(`input-row__title flex-row centered-align ${n.disabled?"disabled":""}`)},[n.color?(F(),K("div",{key:0,class:"input-row__title__color-point",style:Ae(`background-color: ${n.color}`)},null,4)):me("",!0),q("p",null,De(n.title),1)],2),q("div",{class:we(`nodrag input-row__value flex-row centered-align end ${n.disabled?"disabled":""}`),style:{"padding-right":"8px"}},[q("input",{disabled:!!n.disabled,class:"input-row__value__input",placeholder:c.placeholder,type:"text",value:n.modelValue,onInput:d[0]||(d[0]=f=>a(f)),onClick:d[1]||(d[1]=f=>l.value=!1)},null,40,f3),q("span",p3,De(n.measure),1)],2)],6)),[[h,u.value,void 0,{top:!0}]])}}}),h3={class:"select-color__title"},m3={class:"flex-row centered-align end",style:{"padding-right":"12px"}},g3={class:"flex-row centered-align gap8"},v3=q("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 1 5 5 1 1"},null,-1),y3=[v3],_3={key:0,class:"select-color__palette__container"},w3=["onClick"],b3={key:0,class:"select-color__palette__selected-color-box"},pl=ce({__name:"SelectColor",props:{title:{},disabled:{type:Boolean},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ne(!0),l=()=>o.value=(o.value,!0);xe(o,(u,a)=>{u!=a&&setTimeout(u?()=>window.removeEventListener("click",l):()=>window.addEventListener("click",l),100)});const i=()=>{o.value=!o.value},r=u=>{t("update:modelValue",u),o.value=!0},s=W(()=>o.value?"rotated":"unrotated");return(u,a)=>(F(),K("div",{class:"nodrag flex-row between relative clickable select-color__row-panel",onClick:i},[q("p",h3,De(n.title),1),q("div",m3,[q("div",g3,[q("div",{style:Ae({backgroundColor:n.modelValue}),class:"select-color__box select-color__box__shadow"},null,4),(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6",fill:"none",viewBox:"0 0 10 6",class:we(s.value)},y3,2))])]),o.value?me("",!0):(F(),K("div",_3,[(F(!0),K(Me,null,ht(A(Ql),c=>(F(),K("div",{style:Ae({backgroundColor:c}),key:c,class:"select-color__box flex centered clickable",onClick:Zo(d=>r(c),["stop"])},[n.modelValue==c?(F(),K("div",b3)):me("",!0)],12,w3))),128))]))]))}});const hl=e=>e===void 0||e===""?it.is_required:null,ml=(e,t,n)=>n.find(o=>o.name===e&&o.id!==t)?it.dublicate_name:null,Gi=(e,t)=>e!=null&&e!=""&&+t>+e?it.wrongToCommon:null,x3=(e=0,t)=>!e||+e>t?it.wrong_cabin_height:null,Yi=(e,t)=>t.uppers.indexOf(e.toString())>=0?it.cross_floors:null,qi=(e,t)=>t.lowers.indexOf(e.toString())>=0?it.cross_floors:null,$3=ce({__name:"FirstFloor",props:{id:{},modelValue:{},intersactions:{},names:{}},emits:["update:error"],setup(e,{emit:t}){const n=e,o=[{text:"Одна кнопка",value:"simple"},{text:"Кнопки вверх/вниз",value:"up_down"},{text:"Выбор номера этажа",value:"floor_select"}],l=(a,c)=>t("update:error",{id:n.id,point:`Группа лобби(${a})`,message:c}),i=a=>ml(a,n.id,n.names),r=a=>Gi(a,n.modelValue.lower),s=W(()=>qi(n.id,n.intersactions)),u=W(()=>Yi(n.id,n.intersactions));return(a,c)=>(F(),he(zt,{title:"Группа лобби",color:n.modelValue.color},{"title-icon-left":re(()=>[B(ji)]),default:re(()=>[B(Ue,{style:{"margin-top":"12px"}},{default:re(()=>[B(Ft,{modelValue:a.modelValue.name,"onUpdate:modelValue":c[0]||(c[0]=d=>a.modelValue.name=d),modelModifiers:{trim:!0},title:"Название группы",rules:[A(hl),i],"onUpdate:error":c[1]||(c[1]=d=>l("Название группы",d))},null,8,["modelValue","rules"]),B(pl,{modelValue:a.modelValue.color,"onUpdate:modelValue":c[2]||(c[2]=d=>a.modelValue.color=d),title:"Цвет группы"},null,8,["modelValue"]),B(Te,{modelValue:a.modelValue.height,"onUpdate:modelValue":c[3]||(c[3]=d=>a.modelValue.height=d),title:"Высота этажа в группе",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"])]),_:1}),B(Ue,{title:"Кол-во этажей в группе"},{default:re(()=>[B(Te,{modelValue:a.modelValue.lower,"onUpdate:modelValue":c[4]||(c[4]=d=>a.modelValue.lower=d),title:"От","is-required":"",min:0,max:1e5,rules:[s.value],"onUpdate:error":c[5]||(c[5]=d=>l("Кол-во этажей в группе",d))},null,8,["modelValue","rules"]),B(Te,{modelValue:a.modelValue.upper,"onUpdate:modelValue":c[6]||(c[6]=d=>a.modelValue.upper=d),title:"До","is-required":"",min:0,max:1e5,rules:[r,u.value],"onUpdate:error":c[7]||(c[7]=d=>l("Кол-во этажей в группе",d))},null,8,["modelValue","rules"])]),_:1}),B(gn,{title:"Тип вызова лифта"},{default:re(()=>[B(On,{modelValue:a.modelValue.elevatorCallType,"onUpdate:modelValue":c[8]||(c[8]=d=>a.modelValue.elevatorCallType=d),items:o},null,8,["modelValue"])]),_:1})]),_:1},8,["color"]))}}),S3={},E3={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},k3=nt('<rect width="13.2" height="16.8" x="5.4" y="3.602" fill="#15767D" rx="2"></rect><rect width="7.2" height="2.4" x="6.6" y="5.398" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="9" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="12.602" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="16.199" fill="#E1ECF2" rx="1"></rect>',5),C3=[k3];function V3(e,t){return F(),K("svg",E3,C3)}const T3=Jt(S3,[["render",V3]]),N3={class:"multi-select__item-title"},P3={class:"flex-row centered-align"},M3={class:we("flex centered-align clickable multi-select__arrow")},F3=q("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 1 5 5 1 1"},null,-1),B3=[F3],A3=["onClick"],I3={key:0,class:"flex centered multi-select__checkbox__box__clicked"},O3={key:0,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"8",fill:"none",viewBox:"0 0 12 8"},D3=q("path",{stroke:"#fff","stroke-linecap":"round","stroke-width":"2",d:"m1.833 4 3.333 2.5 5-5"},null,-1),R3=[D3],z3={key:1,class:"flex centered multi-select__checkbox__box"},qt=ce({__name:"MultiSelect",props:{title:{},items:{},disabled:{type:Boolean},modelValue:{},isFlight:{type:Boolean},columnsCount:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ne(!0),l=ne(!1),i=W(()=>n.modelValue||[]),r=W(()=>{var f;return((f=n.items)==null?void 0:f.map(p=>({...p,isChecked:i.value.findIndex(m=>m==p.value)!=-1})))||[]}),s=f=>{const p=r.value.filter(g=>g.isChecked),m=f.isChecked?p.filter(g=>g.value!=f.value):[...p,f];t("update:modelValue",m.map(g=>g.value))},u=()=>o.value=(o.value,!0);xe(o,(f,p)=>{f!=p&&setTimeout(f?()=>window.removeEventListener("click",u):()=>window.addEventListener("click",u),100)});const a=()=>{o.value=!o.value,l.value=!1},c=W(()=>l.value&&n.isFlight&&"multi-select__is-borned"||"");We(()=>{n.isFlight&&(l.value=!0)});const d=W(()=>`multi-select__checkbox__selected-items-length__${o.value?"closed":"opened"}`),h=W(()=>o.value?"rotated":"unrotated");return(f,p)=>(F(),K("div",{class:we(`clickable flex-row between relative centered-align input last-input multi-select ${c.value}`),onClick:a},[q("p",N3,De(n.title),1),q("div",P3,[i.value.length?(F(),K("div",{key:0,class:we(`${d.value}`)},De(i.value.length),3)):me("",!0),q("div",M3,[(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6",fill:"none",viewBox:"0 0 10 6",class:we(h.value)},B3,2))])]),o.value?me("",!0):(F(),K("div",{key:0,class:we(`nodrag multi-select__container columns-${n.columnsCount||2}`),onWheel:p[0]||(p[0]=Zo(()=>{},["stop"]))},[(F(!0),K(Me,null,ht(r.value,m=>(F(),K("div",{class:"flex-row clickable centered-align multi-select__checkbox__container",key:m.value,onClick:Zo(g=>s(m),["stop"])},[m.isChecked?(F(),K("div",I3,[m.isChecked?(F(),K("svg",O3,R3)):me("",!0)])):(F(),K("div",z3)),m.color?(F(),K("div",{key:2,class:"multi-select__checkbox__color-box",style:Ae({backgroundColor:m.color})},null,4)):me("",!0),q("span",null,De(m.text),1)],8,A3))),128))],34))],2))}});const L3={class:"nodrag flex-col building__checkedbox-block",style:{}},H3=ce({__name:"Building",props:{id:{},canRemove:{type:Boolean},modelValue:{}},setup(e){const t=e;function n(s=30){return t.modelValue.hasTransferFloor&&(t.modelValue.transferFloors=t.modelValue.transferFloors.filter(u=>+u<=s)),t.modelValue.hasTechnicalFloors&&(t.modelValue.technicalFloors=t.modelValue.technicalFloors.filter(u=>+u<=s)),[...Array(s).keys()].map(u=>u+1).map(u=>({text:u.toString(),value:u}))}const o=ne(n()),l=(s,u)=>s?u():void 0,i=ne(!1);We(()=>et(()=>i.value=!0)),xe(()=>t.modelValue.isDivideIntoFloorGroups,(s,u)=>l(s!=u,()=>t.modelValue.hasTransferFloor=!1)),xe(()=>t.modelValue.hasTransferFloor,(s,u)=>l(!s&&s!=u,()=>t.modelValue.transferFloors=[])),xe(()=>t.modelValue.hasTechnicalFloors,(s,u)=>l(!s&&s!=u,()=>t.modelValue.technicalFloors=[])),xe(()=>t.modelValue.floorsCount,(s,u)=>l(!!s&&s!=u,()=>o.value=n(+s)));const r=W(()=>t.modelValue.hasTransferFloor?"":"last-group-row");return(s,u)=>(F(),he(zt,{title:"Здание"},{"title-icon-left":re(()=>[B(T3)]),default:re(()=>[q("div",L3,[B(Pn,{title:"Наличие паркинга",modelValue:t.modelValue.hasParking,"onUpdate:modelValue":u[0]||(u[0]=a=>t.modelValue.hasParking=a)},null,8,["modelValue"]),B(Pn,{title:"Наличие этажей временного посещения",modelValue:t.modelValue.hasTemporaryFloors,"onUpdate:modelValue":u[1]||(u[1]=a=>t.modelValue.hasTemporaryFloors=a)},null,8,["modelValue"]),B(Pn,{title:"Разделить на группы этажей",modelValue:t.modelValue.isDivideIntoFloorGroups,"onUpdate:modelValue":u[2]||(u[2]=a=>t.modelValue.isDivideIntoFloorGroups=a)},null,8,["modelValue"]),t.modelValue.isDivideIntoFloorGroups?(F(),he(Pn,{key:0,title:"Пересадка на этаже",modelValue:t.modelValue.hasTransferFloor,"onUpdate:modelValue":u[3]||(u[3]=a=>t.modelValue.hasTransferFloor=a)},null,8,["modelValue"])):me("",!0),B(Pn,{title:"Наличие технических этажей",modelValue:t.modelValue.hasTechnicalFloors,"onUpdate:modelValue":u[4]||(u[4]=a=>t.modelValue.hasTechnicalFloors=a)},null,8,["modelValue"])]),B(Ue,null,{default:re(()=>[B(Te,{title:"Высота этажа",modelValue:t.modelValue.floorHeight,"onUpdate:modelValue":u[5]||(u[5]=a=>t.modelValue.floorHeight=a),measure:"м",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"]),t.modelValue.hasTechnicalFloors?(F(),he(Te,{key:0,title:"Высота технического этажа",modelValue:t.modelValue.technicalFloorHeight,"onUpdate:modelValue":u[6]||(u[6]=a=>t.modelValue.technicalFloorHeight=a),measure:"м","is-flight":i.value,min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue","is-flight"])):me("",!0),t.modelValue.hasTechnicalFloors?(F(),he(qt,{key:1,title:"Технические этажи",class:we(r.value),modelValue:t.modelValue.technicalFloors,"onUpdate:modelValue":u[7]||(u[7]=a=>t.modelValue.technicalFloors=a),items:o.value,"is-flight":i.value,"columns-count":4},null,8,["class","modelValue","items","is-flight"])):me("",!0),t.modelValue.hasTransferFloor?(F(),he(qt,{key:2,title:"Этажи пересадки",class:"last-group-row",modelValue:t.modelValue.transferFloors,"onUpdate:modelValue":u[8]||(u[8]=a=>t.modelValue.transferFloors=a),items:o.value,"is-flight":i.value,"columns-count":4},null,8,["modelValue","items","is-flight"])):me("",!0)]),_:1})]),_:1}))}});const U3={},j3={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},G3=nt('<path fill="#15767D" d="M4.8 19.798h14.4a1.8 1.8 0 0 0 1.8-1.8v-3.6a1.8 1.8 0 0 0-1.8-1.8h-2.4c-.295 0-.573.071-.82.197a2.4 2.4 0 0 0-2.18-1.397h-3.6a2.4 2.4 0 0 0-2.18 1.397 1.792 1.792 0 0 0-.82-.197H4.8a1.8 1.8 0 0 0-1.8 1.8v3.6a1.8 1.8 0 0 0 1.8 1.8Z"></path><circle cx="12" cy="7.798" r="2.4" fill="#15767D"></circle><circle cx="6" cy="9.601" r="1.8" fill="#15767D"></circle><circle cx="18" cy="9.601" r="1.8" fill="#15767D"></circle><path fill="#E1ECF2" d="M4.2 15a1.2 1.2 0 0 1 1.2-1.2h1.2A1.2 1.2 0 0 1 7.8 15v3.6H5.4a1.2 1.2 0 0 1-1.2-1.2V15Z"></path><path fill="#15767D" fill-opacity="0.25" d="M4.2 15a1.2 1.2 0 0 1 1.2-1.2h1.2A1.2 1.2 0 0 1 7.8 15v3.6H5.4a1.2 1.2 0 0 1-1.2-1.2V15Z"></path><path fill="#E1ECF2" d="M9 14.402a1.8 1.8 0 0 1 1.8-1.8h2.4a1.8 1.8 0 0 1 1.8 1.8v4.2H9v-4.2Z"></path><path fill="#15767D" fill-opacity="0.6" d="M9 14.402a1.8 1.8 0 0 1 1.8-1.8h2.4a1.8 1.8 0 0 1 1.8 1.8v4.2H9v-4.2Z"></path><path fill="#E1ECF2" d="M19.8 15a1.2 1.2 0 0 0-1.2-1.2h-1.2a1.2 1.2 0 0 0-1.2 1.2v3.6h2.4a1.2 1.2 0 0 0 1.2-1.2V15Z"></path><path fill="#15767D" fill-opacity="0.25" d="M19.8 15a1.2 1.2 0 0 0-1.2-1.2h-1.2a1.2 1.2 0 0 0-1.2 1.2v3.6h2.4a1.2 1.2 0 0 0 1.2-1.2V15Z"></path>',10),Y3=[G3];function q3(e,t){return F(),K("svg",j3,Y3)}const X3=Jt(U3,[["render",q3]]),W3=ce({__name:"Trafic",setup(e){const t=qn(),n=[{text:"По группам",value:"group"},{text:"По этажам в группах",value:"floor"},{text:"По диапазонам",value:"range"}],o=ne(0),l=ne(100),i=ne(!1);We(()=>et(()=>i.value=!0));const r=(c,d)=>[...Array(d-c+1).keys()].map(h=>h+c),s=W(()=>t.floorGroups.map(c=>({name:c.data.name,color:c.data.color,range:r(Math.min(c.data.lower,c.data.upper),Math.max(c.data.lower,c.data.upper))}))),u=(c,d)=>t.trafic.data.floors.set(c,`${d}`),a=c=>t.trafic.data.floors.has(c)?t.trafic.data.floors.get(c):0;return(c,d)=>(F(),he(zt,{title:"Пассажиропоток"},{"title-icon-left":re(()=>[B(X3)]),default:re(()=>[B(gn,{title:"Форма заполнения",style:{"margin-top":"12px"}},{default:re(()=>[B(On,{items:n,modelValue:A(t).trafic.data.formFill,"onUpdate:modelValue":d[0]||(d[0]=h=>A(t).trafic.data.formFill=h)},null,8,["modelValue"])]),_:1}),A(t).trafic.data.formFill==="group"?(F(),he(Ue,{key:0,title:"Населенность групп этажей"},{default:re(()=>[(F(!0),K(Me,null,ht(A(t).trafic.data.groups,h=>(F(),he(Te,{modelValue:h.value,"onUpdate:modelValue":f=>h.value=f,modelModifiers:{trim:!0},title:h.name,color:h.color,measure:"чел",key:h.id,"is-flight":i.value,min:0,max:1e4,"is-required":""},null,8,["modelValue","onUpdate:modelValue","title","color","is-flight"]))),128))]),_:1})):me("",!0),A(t).trafic.data.formFill==="floor"?(F(),he(Ue,{key:1,"is-title-mode":"",title:"Населенность этажей в группах, чел"},{default:re(()=>[(F(!0),K(Me,null,ht(s.value,h=>(F(),he(Ue,{title:h.name,color:h.color},{default:re(()=>[(F(!0),K(Me,null,ht(h.range,f=>(F(),he(Te,{title:`${f}`,"model-value":a(f),"onUpdate:modelValue":p=>u(f,p),min:0,max:1e4,"is-required":"","is-flight":i.value},null,8,["title","model-value","onUpdate:modelValue","is-flight"]))),256))]),_:2},1032,["title","color"]))),256))]),_:1})):me("",!0),A(t).trafic.data.formFill==="range"?(F(),he(Ue,{key:2,title:"Населенность этажей в группах"},{default:re(()=>[B(Ft,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=h=>o.value=h),title:"Через паркинг",measure:"%",disabled:"","is-flight":i.value},null,8,["modelValue","is-flight"]),B(Ft,{modelValue:l.value,"onUpdate:modelValue":d[2]||(d[2]=h=>l.value=h),title:"Через временные этажи",measure:"%",disabled:"","is-flight":i.value},null,8,["modelValue","is-flight"])]),_:1})):me("",!0),B(Ue,{title:"Доля потока","help-text":"Для распределения долей потока нужно создать группу этажей паркинга"},{default:re(()=>[B(Ft,{modelValue:o.value,"onUpdate:modelValue":d[3]||(d[3]=h=>o.value=h),title:"Через паркинг",measure:"%",disabled:!A(t).parkingFloorGroups.length,min:0,max:100},null,8,["modelValue","disabled"]),B(Ft,{modelValue:l.value,"onUpdate:modelValue":d[4]||(d[4]=h=>l.value=h),title:"Через временные этажи",measure:"%",disabled:!A(t).tempFloorGroups.length,min:0,max:100},null,8,["modelValue","disabled"])]),_:1})]),_:1}))}}),Z3={},K3={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},J3=nt('<path fill="#15767D" d="M18.6 5.6v12.8a2 2 0 0 1-2 2h-11a2 2 0 0 1-2-2V5.6a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2Z"></path><path fill="#15767D" fill-opacity="0.6" d="M21.48 8.658A.588.588 0 0 0 21 8.4a.587.587 0 0 0-.48.258l-1.2 1.714a.681.681 0 0 0-.056.673c.101.218.309.355.536.355h2.4a.597.597 0 0 0 .537-.355.681.681 0 0 0-.057-.673l-1.2-1.714ZM21.48 15.942a.587.587 0 0 1-.48.257.587.587 0 0 1-.48-.257l-1.2-1.714a.681.681 0 0 1-.056-.673.597.597 0 0 1 .536-.356h2.4c.227 0 .435.138.537.356a.681.681 0 0 1-.057.673l-1.2 1.714Z"></path><rect width="5.4" height="14.4" x="4.8" y="4.801" fill="#E1ECF2" rx="1"></rect><rect width="5.4" height="14.4" x="4.8" y="4.801" fill="#15767D" fill-opacity="0.25" rx="1"></rect><rect width="5.4" height="14.4" x="12" y="4.801" fill="#E1ECF2" rx="1"></rect><rect width="5.4" height="14.4" x="12" y="4.801" fill="#15767D" fill-opacity="0.25" rx="1"></rect>',6),Q3=[J3];function e$(e,t){return F(),K("svg",K3,Q3)}const t$=Jt(Z3,[["render",e$]]),n$={class:"delete-panel-button__ButtonWrapper-sc-1iu2x-0 kisLzw flex-row gap4 centered-align clickable"},o$=q("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[q("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.889 10.223v6.222M10.333 10.223v6.222M17.444 6.666H6.777V19.11c0 .491.398.89.89.89h8.888c.491 0 .889-.399.889-.89V6.666ZM5 6.666h14.222"}),q("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M14.778 4H9.445a.889.889 0 0 0-.89.889v1.778h7.112V4.889a.889.889 0 0 0-.89-.889Z"})],-1),Xi=ce({__name:"RemoveBtn",props:{title:{default:"Удалить"}},setup(e){const{title:t}=e;return(n,o)=>(F(),K("button",n$,[o$,q("p",null,De(t))]))}});const l$=(e,t,n)=>e!=t?n():void 0,i$=(e,t,n)=>{const o=t.filter(l=>e.indexOf(l)<0);return o.length?n(o):void 0},Nf=(e,t,n)=>e!=t&&!e?n():void 0,r$=ce({__name:"Elevator",props:{id:{},canRemove:{type:Boolean},floors:{},transferFloors:{},modelValue:{},names:{},minHeight:{}},emits:["remove","update:error"],setup(e,{emit:t}){const n=e,o=[{text:"Обычные",value:"single"},{text:"Двухэтажные",value:"dooble"}],l=W(()=>n.floors.map(f=>({text:f.data.name,value:f.id,color:f.data.color}))),i=l,r=l;xe(()=>n.modelValue.hasTransferFloor,(f,p)=>Nf(f,p,()=>n.modelValue.transferFloors=[]));const s=ne(!1);We(()=>et(()=>s.value=!0));const u=W(()=>n.transferFloors&&n.modelValue.hasTransferFloor),a=W(()=>u.value?"":"last-group-row"),c=(f,p)=>t("update:error",{id:n.id,point:`Группа лифтов(${f})`,message:p}),d=f=>ml(f,n.id,n.names),h=(f=0)=>x3(f,n.minHeight);return(f,p)=>(F(),he(zt,{title:"Группа лифтов (шахта)",color:n.modelValue.color},{"title-icon-left":re(()=>[B(t$)]),default:re(()=>{var m;return[B(gn,{title:"Тип лифтов",style:{"margin-top":"12px"}},{default:re(()=>[B(On,{modelValue:f.modelValue.elevatorType,"onUpdate:modelValue":p[0]||(p[0]=g=>f.modelValue.elevatorType=g),items:o},null,8,["modelValue"])]),_:1}),(m=n.transferFloors)!=null&&m.length?(F(),he(Pn,{key:0,title:"Пересадка на этаже",modelValue:n.modelValue.hasTransferFloor,"onUpdate:modelValue":p[1]||(p[1]=g=>n.modelValue.hasTransferFloor=g),"is-flight":s.value},null,8,["modelValue","is-flight"])):me("",!0),B(Ue,null,{default:re(()=>[B(Ft,{title:"Название группы",modelValue:f.modelValue.name,"onUpdate:modelValue":p[2]||(p[2]=g=>f.modelValue.name=g),modelModifiers:{trim:!0},rules:[A(hl),d],"onUpdate:error":p[3]||(p[3]=g=>c("Название группы",g))},null,8,["modelValue","rules"]),B(pl,{title:"Цвет группы",modelValue:f.modelValue.color,"onUpdate:modelValue":p[4]||(p[4]=g=>f.modelValue.color=g)},null,8,["modelValue"]),B(Te,{title:"Количество лифтов",modelValue:f.modelValue.quantity,"onUpdate:modelValue":p[5]||(p[5]=g=>f.modelValue.quantity=g),min:1,max:100,"is-required":""},null,8,["modelValue"]),B(Te,{title:"Высота кабины",modelValue:f.modelValue.height,"onUpdate:modelValue":p[6]||(p[6]=g=>f.modelValue.height=g),min:.001,max:100,"is-required":"","is-float":"",rules:[h],"onUpdate:error":p[7]||(p[7]=g=>c("Высота кабины",g))},null,8,["modelValue","rules"]),B(qt,{title:"Группы обслуживаемых этажей",class:we(a.value),modelValue:f.modelValue.enabledFloors,"onUpdate:modelValue":p[8]||(p[8]=g=>f.modelValue.enabledFloors=g),items:l.value},null,8,["class","modelValue","items"]),u.value?(F(),he(qt,{key:0,title:"Этажи пересадки",class:"last-group-row",modelValue:f.modelValue.transferFloors,"onUpdate:modelValue":p[9]||(p[9]=g=>f.modelValue.transferFloors=g),items:n.transferFloors,"is-flight":s.value},null,8,["modelValue","items","is-flight"])):me("",!0)]),_:1}),B(Ue,{title:"Вместимость"},{default:re(()=>[B(Te,{"is-required":"",title:"Номинальная вместимость",modelValue:f.modelValue.capacityNominal,"onUpdate:modelValue":p[10]||(p[10]=g=>f.modelValue.capacityNominal=g),measure:"чел"},null,8,["modelValue"]),B(Te,{"is-required":"",title:"Коэф. использования",modelValue:f.modelValue.capacityRate,"onUpdate:modelValue":p[11]||(p[11]=g=>f.modelValue.capacityRate=g),min:0,max:100,measure:"%"},null,8,["modelValue"])]),_:1}),B(Ue,{title:"Двери"},{default:re(()=>[B(Te,{"is-required":"",title:"Время открытия/закрытия",modelValue:f.modelValue.doorOperationTime,"onUpdate:modelValue":p[12]||(p[12]=g=>f.modelValue.doorOperationTime=g),measure:"чел"},null,8,["modelValue"]),B(Te,{"is-required":"",title:"Пропускная способность",modelValue:f.modelValue.doorCapacity,"onUpdate:modelValue":p[13]||(p[13]=g=>f.modelValue.doorCapacity=g),measure:"чел/сек"},null,8,["modelValue"])]),_:1}),B(Ue,{title:"Движение"},{default:re(()=>[B(Te,{"is-required":"",title:"Время установки кабины",modelValue:f.modelValue.positioningTime,"onUpdate:modelValue":p[14]||(p[14]=g=>f.modelValue.positioningTime=g),measure:"сек"},null,8,["modelValue"]),B(Te,{"is-required":"",title:"Дистанция подхода",modelValue:f.modelValue.approachDistance,"onUpdate:modelValue":p[15]||(p[15]=g=>f.modelValue.approachDistance=g),measure:"м"},null,8,["modelValue"]),B(Te,{"is-required":"",title:"Скорость подхода",modelValue:f.modelValue.approachSpeed,"onUpdate:modelValue":p[16]||(p[16]=g=>f.modelValue.approachSpeed=g),measure:"м/с"},null,8,["modelValue"]),B(Te,{"is-required":"",title:"Ускорение / замедление",modelValue:f.modelValue.acceleration,"onUpdate:modelValue":p[17]||(p[17]=g=>f.modelValue.acceleration=g),measure:"м/с²"},null,8,["modelValue"]),B(Te,{"is-required":"",title:"Максимальная скорость",modelValue:f.modelValue.maxSpeed,"onUpdate:modelValue":p[18]||(p[18]=g=>f.modelValue.maxSpeed=g),measure:"м/с"},null,8,["modelValue"])]),_:1}),B(Ue,{title:"Область парковки"},{default:re(()=>[B(Te,{"is-required":"",modelValue:f.modelValue.idleStayTime,"onUpdate:modelValue":p[19]||(p[19]=g=>f.modelValue.idleStayTime=g),title:"Макс. время простоя до возврата на место парковки",measure:"сек"},null,8,["modelValue"]),B(qt,{title:"Утро",modelValue:f.modelValue.parkingAreaMorning,"onUpdate:modelValue":p[20]||(p[20]=g=>f.modelValue.parkingAreaMorning=g),items:A(i)},null,8,["modelValue","items"]),B(qt,{title:"Вечер",modelValue:f.modelValue.parkingAreaEvening,"onUpdate:modelValue":p[21]||(p[21]=g=>f.modelValue.parkingAreaEvening=g),class:"last-group-row",items:A(r)},null,8,["modelValue","items"])]),_:1}),n.canRemove?(F(),he(Xi,{key:1,title:"Удалить группу",onClick:p[22]||(p[22]=g=>t("remove",n.id))})):me("",!0)]}),_:1},8,["color"]))}}),s$=ce({__name:"Floor",props:{id:{},canRemove:{type:Boolean},modelValue:{},elevators:{},intersactions:{},names:{},isBuildingMixedType:{type:Boolean}},emits:["remove","update:error"],setup(e,{emit:t}){const n=e,o=[{text:"Равномерное",value:"uniform"},{text:"Заданное",value:"preset"}],l=[{text:"Одна кнопка",value:"simple"},{text:"Кнопки вверх/вниз",value:"up_down"},{text:"Выбор номера этажа",value:"floor_select"}],i=[{text:"Жилая",value:"residential"},{text:"Бизнес",value:"office"}],r=ne(!1);We(()=>et(()=>r.value=!0));const s=(h,f)=>t("update:error",{id:n.id,point:`Группа этажей(${h})`,message:f}),u=h=>ml(h,n.id,n.names),a=h=>Gi(h,n.modelValue.lower),c=W(()=>qi(n.id,n.intersactions)),d=W(()=>Yi(n.id,n.intersactions));return(h,f)=>(F(),he(zt,{title:"Группа этажей",color:n.modelValue.color},{"title-icon-left":re(()=>[B(ji)]),default:re(()=>[B(Ue,{style:{"margin-top":"12px"}},{default:re(()=>[B(Ft,{modelValue:h.modelValue.name,"onUpdate:modelValue":f[0]||(f[0]=p=>h.modelValue.name=p),modelModifiers:{trim:!0},title:"Название группы",rules:[A(hl),u],"onUpdate:error":f[1]||(f[1]=p=>s("Название группы",p))},null,8,["modelValue","rules"]),B(pl,{modelValue:h.modelValue.color,"onUpdate:modelValue":f[2]||(f[2]=p=>h.modelValue.color=p),title:"Цвет группы"},null,8,["modelValue"]),B(Te,{modelValue:h.modelValue.height,"onUpdate:modelValue":f[3]||(f[3]=p=>h.modelValue.height=p),title:"Высота этажа в группе",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"]),h.modelValue.distribution=="preset"?(F(),he(Ft,{key:0,modelValue:h.modelValue.baseFloorNumber,"onUpdate:modelValue":f[4]||(f[4]=p=>h.modelValue.baseFloorNumber=p),title:"Базовый этаж в группе","is-flight":r.value},null,8,["modelValue","is-flight"])):me("",!0),B(qt,{class:"last-group-row",modelValue:h.modelValue.floorElevators,"onUpdate:modelValue":f[5]||(f[5]=p=>h.modelValue.floorElevators=p),title:"Группа лифтов",items:h.elevators},null,8,["modelValue","items"])]),_:1}),B(Ue,{title:"Кол-во этажей в группе"},{default:re(()=>[B(Te,{modelValue:h.modelValue.lower,"onUpdate:modelValue":f[6]||(f[6]=p=>h.modelValue.lower=p),title:"От","is-required":"",min:0,max:1e5,rules:[c.value],"onUpdate:error":f[7]||(f[7]=p=>s("Кол-во этажей в группе",p))},null,8,["modelValue","rules"]),B(Te,{modelValue:h.modelValue.upper,"onUpdate:modelValue":f[8]||(f[8]=p=>h.modelValue.upper=p),title:"До","is-required":"",min:0,max:1e5,rules:[a,d.value],"onUpdate:error":f[9]||(f[9]=p=>s("Кол-во этажей в группе",p))},null,8,["modelValue","rules"])]),_:1}),B(gn,{title:"Распределение базовых этажей парковки лифтов внутри группы"},{default:re(()=>[B(On,{items:o,modelValue:h.modelValue.distribution,"onUpdate:modelValue":f[10]||(f[10]=p=>h.modelValue.distribution=p)},null,8,["modelValue"])]),_:1}),h.isBuildingMixedType?(F(),he(gn,{key:0,title:"Тип группы"},{default:re(()=>[B(On,{items:i,modelValue:h.modelValue.role,"onUpdate:modelValue":f[11]||(f[11]=p=>h.modelValue.role=p)},null,8,["modelValue"])]),_:1})):me("",!0),B(gn,{title:"Тип вызова лифта"},{default:re(()=>[B(On,{items:l,modelValue:h.modelValue.elevatorCallType,"onUpdate:modelValue":f[12]||(f[12]=p=>h.modelValue.elevatorCallType=p)},null,8,["modelValue"])]),_:1}),h.canRemove?(F(),he(Xi,{key:1,title:"Удалить группу",onClick:f[13]||(f[13]=p=>t("remove",n.id))})):me("",!0)]),_:1},8,["color"]))}}),a$=ce({__name:"TempFloor",props:{id:{},canRemove:{type:Boolean},modelValue:{},intersactions:{},names:{}},emits:["remove","update:error"],setup(e,{emit:t}){const n=e,o=ne([{value:"ГЭ 1",color:"red"}]),l=(a,c)=>t("update:error",{id:n.id,point:`Группа этажей временного посещения(${a})`,message:c}),i=a=>ml(a,n.id,n.names),r=a=>Gi(a,n.modelValue.lower),s=W(()=>Yi(n.id,n.intersactions)),u=W(()=>qi(n.id,n.intersactions));return(a,c)=>(F(),he(zt,{title:"Группа этажей временного посещения"},{"title-icon-left":re(()=>[B(ji)]),default:re(()=>[B(Ue,{style:{"margin-top":"12px"}},{default:re(()=>[B(Ft,{modelValue:a.modelValue.name,"onUpdate:modelValue":c[0]||(c[0]=d=>a.modelValue.name=d),modelModifiers:{trim:!0},title:"Название группы",rules:[A(hl),i],"onUpdate:error":c[1]||(c[1]=d=>l("Название группы",d))},null,8,["modelValue","rules"]),B(pl,{modelValue:a.modelValue.color,"onUpdate:modelValue":c[2]||(c[2]=d=>a.modelValue.color=d),title:"Цвет группы"},null,8,["modelValue"]),B(Te,{modelValue:a.modelValue.height,"onUpdate:modelValue":c[3]||(c[3]=d=>a.modelValue.height=d),title:"Высота этажа в группе",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"]),B(qt,{class:"last-group-row",modelValue:a.modelValue.floorElevators,"onUpdate:modelValue":c[4]||(c[4]=d=>a.modelValue.floorElevators=d),title:"Группа лифтов",items:o.value},null,8,["modelValue","items"])]),_:1}),B(Ue,{title:"Кол-во этажей в группе"},{default:re(()=>[B(Te,{modelValue:a.modelValue.lower,"onUpdate:modelValue":c[5]||(c[5]=d=>a.modelValue.lower=d),title:"От","is-required":"",min:0,max:1e5,rules:[u.value]},null,8,["modelValue","rules"]),B(Te,{modelValue:a.modelValue.upper,"onUpdate:modelValue":c[6]||(c[6]=d=>a.modelValue.upper=d),title:"До","is-required":"",min:0,max:1e5,rules:[r,s.value],"onUpdate:error":c[7]||(c[7]=d=>l("Кол-во этажей в группе",d))},null,8,["modelValue","rules"])]),_:1}),B(Ue,{title:"Время нахождения посетителей в группе этажей"},{default:re(()=>[B(Te,{"is-required":"",min:0,measure:"мин",modelValue:a.modelValue.timeToVisitMin,"onUpdate:modelValue":c[8]||(c[8]=d=>a.modelValue.timeToVisitMin=d),title:"Минимальное"},null,8,["modelValue"]),B(Te,{"is-required":"",min:0,measure:"мин",modelValue:a.modelValue.timeToVisitProbably,"onUpdate:modelValue":c[9]||(c[9]=d=>a.modelValue.timeToVisitProbably=d),title:"Вероятное"},null,8,["modelValue"]),B(Te,{"is-required":"",min:0,measure:"мин",modelValue:a.modelValue.timeToVisitMax,"onUpdate:modelValue":c[10]||(c[10]=d=>a.modelValue.timeToVisitMax=d),title:"Максимальное"},null,8,["modelValue"])]),_:1}),a.canRemove?(F(),he(Xi,{key:0,title:"Удалить группу",onClick:c[11]||(c[11]=d=>t("remove",n.id))})):me("",!0)]),_:1}))}}),u$=ce({__name:"ParkingFloor",props:{id:{},canRemove:{type:Boolean},modelValue:{},intersactions:{},names:{}},emits:["remove","update:error"],setup(e,{emit:t}){const n=e,o=ne([{value:"ГЭ 1",color:"red"}]),l=(a,c)=>t("update:error",{id:n.id,point:`Группа этажей паркинга(${a})`,message:c}),i=a=>ml(a,n.id,n.names),r=a=>Gi(a,n.modelValue.lower),s=W(()=>qi(n.id,n.intersactions)),u=W(()=>Yi(n.id,n.intersactions));return(a,c)=>(F(),he(zt,{title:"Группа этажей паркинга"},{"title-icon-left":re(()=>[B(ji)]),default:re(()=>[B(Ue,{style:{"margin-top":"12px"}},{default:re(()=>[B(Ft,{modelValue:a.modelValue.name,"onUpdate:modelValue":c[0]||(c[0]=d=>a.modelValue.name=d),modelModifiers:{trim:!0},title:"Название группы",rules:[A(hl),i],"onUpdate:error":c[1]||(c[1]=d=>l("Название группы",d))},null,8,["modelValue","rules"]),B(pl,{modelValue:a.modelValue.color,"onUpdate:modelValue":c[2]||(c[2]=d=>a.modelValue.color=d),title:"Цвет группы"},null,8,["modelValue"]),B(Te,{modelValue:a.modelValue.height,"onUpdate:modelValue":c[3]||(c[3]=d=>a.modelValue.height=d),title:"Высота этажа в группе",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"]),B(qt,{class:"last-group-row",modelValue:a.modelValue.floorElevators,"onUpdate:modelValue":c[4]||(c[4]=d=>a.modelValue.floorElevators=d),title:"Группа лифтов",items:o.value},null,8,["modelValue","items"])]),_:1}),B(Ue,{title:"Кол-во этажей в группе"},{default:re(()=>[B(Te,{modelValue:a.modelValue.lower,"onUpdate:modelValue":c[5]||(c[5]=d=>a.modelValue.lower=d),title:"От","is-required":"",min:-5,max:5,rules:[s.value],"onUpdate:error":c[6]||(c[6]=d=>l("Кол-во этажей в группе",d))},null,8,["modelValue","rules"]),B(Te,{modelValue:a.modelValue.upper,"onUpdate:modelValue":c[7]||(c[7]=d=>a.modelValue.upper=d),title:"До","is-required":"",min:-5,max:5,rules:[r,u.value],"onUpdate:error":c[8]||(c[8]=d=>l("Кол-во этажей в группе",d))},null,8,["modelValue","rules"])]),_:1}),a.canRemove?(F(),he(Xi,{key:0,title:"Удалить группу",onClick:c[9]||(c[9]=d=>t("remove",n.id))})):me("",!0)]),_:1}))}}),c$=q("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32",class:"info-icon clickable"},[q("circle",{cx:"16",cy:"15.999",r:"13.333",fill:"#1F1F2B","fill-opacity":"0.64"}),q("circle",{cx:"2",cy:"2",r:"2",fill:"#fff",transform:"matrix(-1 0 0 1 18 8)"}),q("rect",{width:"3",height:"10.667",x:"14.5",y:"14.666",fill:"#fff",rx:"1"})],-1),d$=ce({__name:"Flow",setup(e){const t=qn(),n={stroke:"#fff"},o=[34,34],{findNode:l,addNodes:i,project:r,vueFlowRef:s,onPaneReady:u,removeNodes:a}=Ge({connectionMode:bn.Loose,connectionLineStyle:n,snapToGrid:!0,snapGrid:o});u(T=>T.fitView());function c(T){const R=T;R&&(R.preventDefault(),R.dataTransfer&&(R.dataTransfer.dropEffect="move"))}const d=(T,R)=>{const Y=t.building.data.floorHeight,j=t.trafic.data.buildingType=="business"?"office":"residential";switch(T){case"node-temp-floor":return t.createTempFloorElement(R.x,R.y,Y);case"node-parking-floor":return t.createParkingFloorElement(R.x,R.y,Y);case"node-elevator":return t.createElevatorElement(R.x,R.y);case"node-floor":return t.createFloorElement(R.x,R.y,Y,j)}},h=T=>{switch(T.type){case Be.SelectorNodeElevator:return t.registry.registryElevator(T);case Be.SelectorNodeFloor:return t.registry.registryFloor(T);case Be.SelectorNodeTempFloor:return t.registry.registryTempFloor(T);case Be.SelectorNodeParkingFloor:return t.registry.registryParkingFloor(T)}},f=T=>{switch(T.type){case Be.SelectorNodeElevator:return t.registry.unRegistryElevator(T);case Be.SelectorNodeFloor:return t.registry.unRegistryFloor(T);case Be.SelectorNodeTempFloor:return t.registry.unRegistryTempFloor(T);case Be.SelectorNodeParkingFloor:return t.registry.unRegistryParkingFloor(T)}};function p(T){h(T);const R=l(T.id.toString());if(R){const Y=xe(()=>R.dimensions,j=>{j.width>0&&j.height>0&&(R.position={x:R.position.x-R.dimensions.width/2,y:R.position.y-40},Y())},{deep:!0,flush:"post"})}}function m(T){var ee,se;const R=(ee=T.dataTransfer)==null?void 0:ee.getData("application/vueflow"),{left:Y,top:j}=((se=s==null?void 0:s.value)==null?void 0:se.getBoundingClientRect())||{left:0,top:0},ae=r({x:T.clientX-Y,y:T.clientY-j}),fe=d(R,ae);fe&&(i([fe]),et(()=>p(fe)))}function g(T){const R=l(T==null?void 0:T.toString());R&&(f(R),a([R]))}const _=W(()=>{var T;return(T=t.building.data.transferFloors)==null?void 0:T.map(R=>({text:R==null?void 0:R.toString(),value:R}))}),x=W(()=>t.elevators.map(T=>({text:T.data.name,value:T.id,color:T.data.color}))),k=W(()=>t.trafic.data.buildingType==="mixed"),w=W(()=>[...t.allFloorGroups.map(T=>({name:T.text,id:T.value})),...x.value.map(T=>({name:T.text,id:T.value}))]),M=W(()=>{const T=[],R=[],Y=t.allFloorGroups.toSorted((ae,fe)=>+fe.lower<+ae.lower?1:-1);let j=Y[0];for(let ae=1,fe=Y.length;ae<fe;ae++){const ee=Y[ae];j.upper+1>ee.lower&&(T.push(j.value),R.push(ee.value)),j=ee}return console.log(T,R),{uppers:T,lowers:R}}),b=W(()=>t.elevatorGroups.length>1),z=W(()=>t.elements.filter(T=>T.type==Be.SelectorNodeFloor).length>1),C=`node-${Be.SelectorNodeParkingFloor}`,L=`node-${Be.SelectorNodeFloor}`,H=`node-${Be.SelectorNodeTempFloor}`,Q=`node-${Be.SelectorNodeElevator}`,G=`node-${Be.SelectorNodeFirstFloor}`,le=`node-${Be.SelectorNodeBuilding}`,E=`node-${Be.SelectorNodeTrafic}`,X=T=>T.forEach(R=>t.elevatorGroups.forEach(Y=>Y.data.transferFloors=Y.data.transferFloors.filter(j=>j!=R))),V=()=>t.elevators.forEach(T=>T.data.hasTransferFloor=!1);xe(()=>t.building.data.hasTransferFloor,(T,R)=>Nf(T,R,V)),xe(()=>t.building.data.transferFloors,(T,R)=>i$(T,R,X));const O=T=>[...t.floorGroups,...t.tempFloorGroups,...t.parkingFloorGroups].forEach(R=>R.data.height=T);xe(()=>t.building.data.floorHeight,(T,R)=>l$(T,R,()=>O(T)));function I(T){const R=`${T.id} + ${T.point}`;if(T.message){const Y=`${T.point}: ${T.message}`;Y!=t.errorCenter.get(R)&&t.errorCenter.set(R,Y)}else t.errorCenter.has(R)&&t.errorCenter.delete(R)}return(T,R)=>(F(),K("div",{class:"main-flow flex-row relative",onDrop:m},[B(F2,{canAddFloor:A(t).canAddFloor,canAddTempFloor:A(t).canAddTempFloor,canAddParkingFloor:A(t).canAddParkingFloor,canAddElevator:A(t).canAddElevator},null,8,["canAddFloor","canAddTempFloor","canAddParkingFloor","canAddElevator"]),B(A(vx),{modelValue:A(t).elements,"onUpdate:modelValue":R[0]||(R[0]=Y=>A(t).elements=Y),"fit-view-on-init":!0,"snap-to-grid":!0,onDragover:c,style:{"border-radius":"16px"}},{[le]:re(Y=>[B(H3,Vt(Y,{modelValue:Y.data,"onUpdate:modelValue":j=>Y.data=j}),null,16,["modelValue","onUpdate:modelValue"])]),[E]:re(Y=>[B(W3,Vt(Y,{modelValue:Y.data,"onUpdate:modelValue":j=>Y.data=j}),null,16,["modelValue","onUpdate:modelValue"])]),[G]:re(Y=>[B($3,Vt(Y,{modelValue:Y.data,"onUpdate:modelValue":j=>Y.data=j,names:w.value,intersactions:M.value,"onUpdate:error":I}),null,16,["modelValue","onUpdate:modelValue","names","intersactions"])]),[Q]:re(Y=>[B(r$,Vt(Y,{modelValue:Y.data,"onUpdate:modelValue":j=>Y.data=j,"min-height":A(t).minHeight,floors:A(t).floors,names:w.value,onRemove:g,"can-remove":b.value,"transfer-floors":_.value,"onUpdate:error":I}),null,16,["modelValue","onUpdate:modelValue","min-height","floors","names","can-remove","transfer-floors"])]),[L]:re(Y=>[B(s$,Vt(Y,{modelValue:Y.data,"onUpdate:modelValue":j=>Y.data=j,floors:A(t).floors,onRemove:g,"can-remove":z.value,intersactions:M.value,names:w.value,elevators:x.value,"is-building-mixed-type":k.value,"onUpdate:error":I}),null,16,["modelValue","onUpdate:modelValue","floors","can-remove","intersactions","names","elevators","is-building-mixed-type"])]),[H]:re(Y=>[B(a$,Vt(Y,{modelValue:Y.data,"onUpdate:modelValue":j=>Y.data=j,onRemove:g,"can-remove":"",names:w.value,intersactions:M.value,"onUpdate:error":I}),null,16,["modelValue","onUpdate:modelValue","names","intersactions"])]),[C]:re(Y=>[B(u$,Vt(Y,{modelValue:Y.data,"onUpdate:modelValue":j=>Y.data=j,"can-remove":"",onRemove:g,names:w.value,intersactions:M.value,"onUpdate:error":I}),null,16,["modelValue","onUpdate:modelValue","names","intersactions"])]),default:re(()=>[B(A(l2)),B(A(Cx))]),_:2},1032,["modelValue"]),B(r3),c$],32))}});const f$={class:"progress-bar"},p$={class:"flex-row between gap8 centered-align"},h$={class:"progress-bar__line"},m$={class:"progress-bar__time"},g$=q("p",null,"Формирование дашбордов с прогонами занимает некоторое время. Пожалуйста, не закрывайте страницу.",-1),v$=ce({__name:"ProgressBar",props:{time:{}},setup(e){const t=e,n=W(()=>{var o;return(((o=t.time)==null?void 0:o.relativeTime)||0)*100});return(o,l)=>{var i;return F(),K("div",f$,[q("div",p$,[q("div",h$,[q("div",{class:"progress-bar__value",style:Ae(`width:${n.value}%`)},null,4)]),q("time",m$,De((i=t.time)==null?void 0:i.calendarTime),1)]),g$])}}});const y$={class:"layout flex-col",style:{height:"90vh"}},_$=ce({__name:"App",setup(e){const t=qn();return(n,o)=>(F(),K("div",y$,[B(a0),B(d$),A(t).time?(F(),he(v$,{key:0,time:A(t).time},null,8,["time"])):me("",!0)]))}});const w$=fm();Uc(_$).use(w$).use(xg,{themes:{error:{$extend:"tooltip",autoHide:!0}}}).mount("#app");
