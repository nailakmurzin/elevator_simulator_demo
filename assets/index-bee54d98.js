var Bf=Object.defineProperty;var Af=(e,t,n)=>t in e?Bf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ml=(e,t,n)=>(Af(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function qr(e,t){const n=Object.create(null),o=e.split(",");for(let l=0;l<o.length;l++)n[o[l]]=!0;return t?l=>!!n[l.toLowerCase()]:l=>!!n[l]}const ze={},oo=[],St=()=>{},If=()=>!1,Of=/^on[^a-z]/,ci=e=>Of.test(e),Zr=e=>e.startsWith("onUpdate:"),We=Object.assign,Kr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Df=Object.prototype.hasOwnProperty,Ne=(e,t)=>Df.call(e,t),_e=Array.isArray,lo=e=>di(e)==="[object Map]",Lu=e=>di(e)==="[object Set]",xe=e=>typeof e=="function",je=e=>typeof e=="string",Jr=e=>typeof e=="symbol",De=e=>e!==null&&typeof e=="object",Uu=e=>De(e)&&xe(e.then)&&xe(e.catch),ju=Object.prototype.toString,di=e=>ju.call(e),Rf=e=>di(e).slice(8,-1),Gu=e=>di(e)==="[object Object]",Qr=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Al=qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},zf=/-(\w)/g,Dt=fi(e=>e.replace(zf,(t,n)=>n?n.toUpperCase():"")),Hf=/\B([A-Z])/g,Gn=fi(e=>e.replace(Hf,"-$1").toLowerCase()),pi=fi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Xi=fi(e=>e?`on${pi(e)}`:""),Lo=(e,t)=>!Object.is(e,t),Wi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},jl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Lf=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Uf=e=>{const t=je(e)?Number(e):NaN;return isNaN(t)?e:t};let Us;const gr=()=>Us||(Us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Be(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],l=je(o)?Xf(o):Be(o);if(l)for(const i in l)t[i]=l[i]}return t}else{if(je(e))return e;if(De(e))return e}}const jf=/;(?![^(]*\))/g,Gf=/:([^]+)/,Yf=/\/\*[^]*?\*\//g;function Xf(e){const t={};return e.replace(Yf,"").split(jf).forEach(n=>{if(n){const o=n.split(Gf);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function we(e){let t="";if(je(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const o=we(e[n]);o&&(t+=o+" ")}else if(De(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Wf(e){if(!e)return null;let{class:t,style:n}=e;return t&&!je(t)&&(e.class=we(t)),n&&(e.style=Be(n)),e}const qf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zf=qr(qf);function Yu(e){return!!e||e===""}const Ie=e=>je(e)?e:e==null?"":_e(e)||De(e)&&(e.toString===ju||!xe(e.toString))?JSON.stringify(e,Xu,2):String(e),Xu=(e,t)=>t&&t.__v_isRef?Xu(e,t.value):lo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,l])=>(n[`${o} =>`]=l,n),{})}:Lu(t)?{[`Set(${t.size})`]:[...t.values()]}:De(t)&&!_e(t)&&!Gu(t)?String(t):t;let ct;class Wu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ct,!t&&ct&&(this.index=(ct.scopes||(ct.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ct;try{return ct=this,t()}finally{ct=n}}}on(){ct=this}off(){ct=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function hi(e){return new Wu(e)}function Kf(e,t=ct){t&&t.active&&t.effects.push(e)}function mi(){return ct}function No(e){ct&&ct.cleanups.push(e)}const es=e=>{const t=new Set(e);return t.w=0,t.n=0,t},qu=e=>(e.w&yn)>0,Zu=e=>(e.n&yn)>0,Jf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=yn},Qf=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const l=t[o];qu(l)&&!Zu(l)?l.delete(e):t[n++]=l,l.w&=~yn,l.n&=~yn}t.length=n}},Gl=new WeakMap;let ko=0,yn=1;const vr=30;let yt;const An=Symbol(""),yr=Symbol("");class ts{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Kf(this,o)}run(){if(!this.active)return this.fn();let t=yt,n=dn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=yt,yt=this,dn=!0,yn=1<<++ko,ko<=vr?Jf(this):js(this),this.fn()}finally{ko<=vr&&Qf(this),yn=1<<--ko,yt=this.parent,dn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){yt===this?this.deferStop=!0:this.active&&(js(this),this.onStop&&this.onStop(),this.active=!1)}}function js(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let dn=!0;const Ku=[];function _o(){Ku.push(dn),dn=!1}function wo(){const e=Ku.pop();dn=e===void 0?!0:e}function at(e,t,n){if(dn&&yt){let o=Gl.get(e);o||Gl.set(e,o=new Map);let l=o.get(n);l||o.set(n,l=es()),Ju(l)}}function Ju(e,t){let n=!1;ko<=vr?Zu(e)||(e.n|=yn,n=!qu(e)):n=!e.has(yt),n&&(e.add(yt),yt.deps.push(e))}function Zt(e,t,n,o,l,i){const r=Gl.get(e);if(!r)return;let s=[];if(t==="clear")s=[...r.values()];else if(n==="length"&&_e(e)){const a=Number(o);r.forEach((u,c)=>{(c==="length"||c>=a)&&s.push(u)})}else switch(n!==void 0&&s.push(r.get(n)),t){case"add":_e(e)?Qr(n)&&s.push(r.get("length")):(s.push(r.get(An)),lo(e)&&s.push(r.get(yr)));break;case"delete":_e(e)||(s.push(r.get(An)),lo(e)&&s.push(r.get(yr)));break;case"set":lo(e)&&s.push(r.get(An));break}if(s.length===1)s[0]&&_r(s[0]);else{const a=[];for(const u of s)u&&a.push(...u);_r(es(a))}}function _r(e,t){const n=_e(e)?e:[...e];for(const o of n)o.computed&&Gs(o);for(const o of n)o.computed||Gs(o)}function Gs(e,t){(e!==yt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function ep(e,t){var n;return(n=Gl.get(e))==null?void 0:n.get(t)}const tp=qr("__proto__,__v_isRef,__isVue"),Qu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Jr)),np=ns(),op=ns(!1,!0),lp=ns(!0),Ys=ip();function ip(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=Ve(this);for(let i=0,r=this.length;i<r;i++)at(o,"get",i+"");const l=o[t](...n);return l===-1||l===!1?o[t](...n.map(Ve)):l}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){_o();const o=Ve(this)[t].apply(this,n);return wo(),o}}),e}function rp(e){const t=Ve(this);return at(t,"has",e),t.hasOwnProperty(e)}function ns(e=!1,t=!1){return function(o,l,i){if(l==="__v_isReactive")return!e;if(l==="__v_isReadonly")return e;if(l==="__v_isShallow")return t;if(l==="__v_raw"&&i===(e?t?xp:lc:t?oc:nc).get(o))return o;const r=_e(o);if(!e){if(r&&Ne(Ys,l))return Reflect.get(Ys,l,i);if(l==="hasOwnProperty")return rp}const s=Reflect.get(o,l,i);return(Jr(l)?Qu.has(l):tp(l))||(e||at(o,"get",l),t)?s:He(s)?r&&Qr(l)?s:s.value:De(s)?e?vi(s):al(s):s}}const sp=ec(),ap=ec(!0);function ec(e=!1){return function(n,o,l,i){let r=n[o];if(co(r)&&He(r)&&!He(l))return!1;if(!e&&(!Yl(l)&&!co(l)&&(r=Ve(r),l=Ve(l)),!_e(n)&&He(r)&&!He(l)))return r.value=l,!0;const s=_e(n)&&Qr(o)?Number(o)<n.length:Ne(n,o),a=Reflect.set(n,o,l,i);return n===Ve(i)&&(s?Lo(l,r)&&Zt(n,"set",o,l):Zt(n,"add",o,l)),a}}function up(e,t){const n=Ne(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&Zt(e,"delete",t,void 0),o}function cp(e,t){const n=Reflect.has(e,t);return(!Jr(t)||!Qu.has(t))&&at(e,"has",t),n}function dp(e){return at(e,"iterate",_e(e)?"length":An),Reflect.ownKeys(e)}const tc={get:np,set:sp,deleteProperty:up,has:cp,ownKeys:dp},fp={get:lp,set(e,t){return!0},deleteProperty(e,t){return!0}},pp=We({},tc,{get:op,set:ap}),os=e=>e,gi=e=>Reflect.getPrototypeOf(e);function gl(e,t,n=!1,o=!1){e=e.__v_raw;const l=Ve(e),i=Ve(t);n||(t!==i&&at(l,"get",t),at(l,"get",i));const{has:r}=gi(l),s=o?os:n?rs:Uo;if(r.call(l,t))return s(e.get(t));if(r.call(l,i))return s(e.get(i));e!==l&&e.get(t)}function vl(e,t=!1){const n=this.__v_raw,o=Ve(n),l=Ve(e);return t||(e!==l&&at(o,"has",e),at(o,"has",l)),e===l?n.has(e):n.has(e)||n.has(l)}function yl(e,t=!1){return e=e.__v_raw,!t&&at(Ve(e),"iterate",An),Reflect.get(e,"size",e)}function Xs(e){e=Ve(e);const t=Ve(this);return gi(t).has.call(t,e)||(t.add(e),Zt(t,"add",e,e)),this}function Ws(e,t){t=Ve(t);const n=Ve(this),{has:o,get:l}=gi(n);let i=o.call(n,e);i||(e=Ve(e),i=o.call(n,e));const r=l.call(n,e);return n.set(e,t),i?Lo(t,r)&&Zt(n,"set",e,t):Zt(n,"add",e,t),this}function qs(e){const t=Ve(this),{has:n,get:o}=gi(t);let l=n.call(t,e);l||(e=Ve(e),l=n.call(t,e)),o&&o.call(t,e);const i=t.delete(e);return l&&Zt(t,"delete",e,void 0),i}function Zs(){const e=Ve(this),t=e.size!==0,n=e.clear();return t&&Zt(e,"clear",void 0,void 0),n}function _l(e,t){return function(o,l){const i=this,r=i.__v_raw,s=Ve(r),a=t?os:e?rs:Uo;return!e&&at(s,"iterate",An),r.forEach((u,c)=>o.call(l,a(u),a(c),i))}}function wl(e,t,n){return function(...o){const l=this.__v_raw,i=Ve(l),r=lo(i),s=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,u=l[e](...o),c=n?os:t?rs:Uo;return!t&&at(i,"iterate",a?yr:An),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:s?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function en(e){return function(...t){return e==="delete"?!1:this}}function hp(){const e={get(i){return gl(this,i)},get size(){return yl(this)},has:vl,add:Xs,set:Ws,delete:qs,clear:Zs,forEach:_l(!1,!1)},t={get(i){return gl(this,i,!1,!0)},get size(){return yl(this)},has:vl,add:Xs,set:Ws,delete:qs,clear:Zs,forEach:_l(!1,!0)},n={get(i){return gl(this,i,!0)},get size(){return yl(this,!0)},has(i){return vl.call(this,i,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:_l(!0,!1)},o={get(i){return gl(this,i,!0,!0)},get size(){return yl(this,!0)},has(i){return vl.call(this,i,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:_l(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=wl(i,!1,!1),n[i]=wl(i,!0,!1),t[i]=wl(i,!1,!0),o[i]=wl(i,!0,!0)}),[e,n,t,o]}const[mp,gp,vp,yp]=hp();function ls(e,t){const n=t?e?yp:vp:e?gp:mp;return(o,l,i)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?o:Reflect.get(Ne(n,l)&&l in o?n:o,l,i)}const _p={get:ls(!1,!1)},wp={get:ls(!1,!0)},bp={get:ls(!0,!1)},nc=new WeakMap,oc=new WeakMap,lc=new WeakMap,xp=new WeakMap;function Sp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(e){return e.__v_skip||!Object.isExtensible(e)?0:Sp(Rf(e))}function al(e){return co(e)?e:is(e,!1,tc,_p,nc)}function Ep(e){return is(e,!1,pp,wp,oc)}function vi(e){return is(e,!0,fp,bp,lc)}function is(e,t,n,o,l){if(!De(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=l.get(e);if(i)return i;const r=$p(e);if(r===0)return e;const s=new Proxy(e,r===2?o:n);return l.set(e,s),s}function fn(e){return co(e)?fn(e.__v_raw):!!(e&&e.__v_isReactive)}function co(e){return!!(e&&e.__v_isReadonly)}function Yl(e){return!!(e&&e.__v_isShallow)}function ic(e){return fn(e)||co(e)}function Ve(e){const t=e&&e.__v_raw;return t?Ve(t):e}function Bt(e){return jl(e,"__v_skip",!0),e}const Uo=e=>De(e)?al(e):e,rs=e=>De(e)?vi(e):e;function ss(e){dn&&yt&&(e=Ve(e),Ju(e.dep||(e.dep=es())))}function as(e,t){e=Ve(e);const n=e.dep;n&&_r(n)}function He(e){return!!(e&&e.__v_isRef===!0)}function ne(e){return kp(e,!1)}function kp(e,t){return He(e)?e:new Cp(e,t)}class Cp{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ve(t),this._value=n?t:Uo(t)}get value(){return ss(this),this._value}set value(t){const n=this.__v_isShallow||Yl(t)||co(t);t=n?t:Ve(t),Lo(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Uo(t),as(this))}}function N(e){return He(e)?e.value:e}const Vp={get:(e,t,n)=>N(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const l=e[t];return He(l)&&!He(n)?(l.value=n,!0):Reflect.set(e,t,n,o)}};function rc(e){return fn(e)?e:new Proxy(e,Vp)}class Tp{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:o}=t(()=>ss(this),()=>as(this));this._get=n,this._set=o}get value(){return this._get()}set value(t){this._set(t)}}function sc(e){return new Tp(e)}function ac(e){const t=_e(e)?new Array(e.length):{};for(const n in e)t[n]=uc(e,n);return t}class Np{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ep(Ve(this._object),this._key)}}class Pp{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ye(e,t,n){return He(e)?e:xe(e)?new Pp(e):De(e)&&arguments.length>1?uc(e,t,n):ne(e)}function uc(e,t,n){const o=e[t];return He(o)?o:new Np(e,t,n)}class Mp{constructor(t,n,o,l){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ts(t,()=>{this._dirty||(this._dirty=!0,as(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const t=Ve(this);return ss(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Fp(e,t,n=!1){let o,l;const i=xe(e);return i?(o=e,l=St):(o=e.get,l=e.set),new Mp(o,l,i||!l,n)}function pn(e,t,n,o){let l;try{l=o?e(...o):e()}catch(i){yi(i,t,n)}return l}function ht(e,t,n,o){if(xe(e)){const i=pn(e,t,n,o);return i&&Uu(i)&&i.catch(r=>{yi(r,t,n)}),i}const l=[];for(let i=0;i<e.length;i++)l.push(ht(e[i],t,n,o));return l}function yi(e,t,n,o=!0){const l=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,s=n;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,r,s)===!1)return}i=i.parent}const a=t.appContext.config.errorHandler;if(a){pn(a,null,10,[e,r,s]);return}}Bp(e,n,l,o)}function Bp(e,t,n,o=!0){console.error(e)}let jo=!1,wr=!1;const ot=[];let Ft=0;const io=[];let jt=null,Vn=0;const cc=Promise.resolve();let us=null;function nt(e){const t=us||cc;return e?t.then(this?e.bind(this):e):t}function Ap(e){let t=Ft+1,n=ot.length;for(;t<n;){const o=t+n>>>1;Go(ot[o])<e?t=o+1:n=o}return t}function cs(e){(!ot.length||!ot.includes(e,jo&&e.allowRecurse?Ft+1:Ft))&&(e.id==null?ot.push(e):ot.splice(Ap(e.id),0,e),dc())}function dc(){!jo&&!wr&&(wr=!0,us=cc.then(pc))}function Ip(e){const t=ot.indexOf(e);t>Ft&&ot.splice(t,1)}function Op(e){_e(e)?io.push(...e):(!jt||!jt.includes(e,e.allowRecurse?Vn+1:Vn))&&io.push(e),dc()}function Ks(e,t=jo?Ft+1:0){for(;t<ot.length;t++){const n=ot[t];n&&n.pre&&(ot.splice(t,1),t--,n())}}function fc(e){if(io.length){const t=[...new Set(io)];if(io.length=0,jt){jt.push(...t);return}for(jt=t,jt.sort((n,o)=>Go(n)-Go(o)),Vn=0;Vn<jt.length;Vn++)jt[Vn]();jt=null,Vn=0}}const Go=e=>e.id==null?1/0:e.id,Dp=(e,t)=>{const n=Go(e)-Go(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function pc(e){wr=!1,jo=!0,ot.sort(Dp);const t=St;try{for(Ft=0;Ft<ot.length;Ft++){const n=ot[Ft];n&&n.active!==!1&&pn(n,null,14)}}finally{Ft=0,ot.length=0,fc(),jo=!1,us=null,(ot.length||io.length)&&pc()}}function Rp(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||ze;let l=n;const i=t.startsWith("update:"),r=i&&t.slice(7);if(r&&r in o){const c=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:p}=o[c]||ze;p&&(l=n.map(f=>je(f)?f.trim():f)),d&&(l=n.map(Lf))}let s,a=o[s=Xi(t)]||o[s=Xi(Dt(t))];!a&&i&&(a=o[s=Xi(Gn(t))]),a&&ht(a,e,6,l);const u=o[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,ht(u,e,6,l)}}function hc(e,t,n=!1){const o=t.emitsCache,l=o.get(e);if(l!==void 0)return l;const i=e.emits;let r={},s=!1;if(!xe(e)){const a=u=>{const c=hc(u,t,!0);c&&(s=!0,We(r,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!s?(De(e)&&o.set(e,null),null):(_e(i)?i.forEach(a=>r[a]=null):We(r,i),De(e)&&o.set(e,r),r)}function _i(e,t){return!e||!ci(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Gn(t))||Ne(e,t))}let et=null,wi=null;function Xl(e){const t=et;return et=e,wi=e&&e.type.__scopeId||null,t}function zp(e){wi=e}function Hp(){wi=null}const Lp=e=>re;function re(e,t=et,n){if(!t||e._n)return e;const o=(...l)=>{o._d&&ca(-1);const i=Xl(t);let r;try{r=e(...l)}finally{Xl(i),o._d&&ca(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function qi(e){const{type:t,vnode:n,proxy:o,withProxy:l,props:i,propsOptions:[r],slots:s,attrs:a,emit:u,render:c,renderCache:d,data:p,setupState:f,ctx:m,inheritAttrs:h}=e;let _,v;const x=Xl(e);try{if(n.shapeFlag&4){const b=l||o;_=Mt(c.call(b,b,d,i,f,p,m)),v=a}else{const b=t;_=Mt(b.length>1?b(i,{attrs:a,slots:s,emit:u}):b(i,null)),v=t.props?a:Up(a)}}catch(b){Fo.length=0,yi(b,e,1),_=B(gt)}let C=_;if(v&&h!==!1){const b=Object.keys(v),{shapeFlag:A}=C;b.length&&A&7&&(r&&b.some(Zr)&&(v=jp(v,r)),C=_n(C,v))}return n.dirs&&(C=_n(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),_=C,Xl(x),_}const Up=e=>{let t;for(const n in e)(n==="class"||n==="style"||ci(n))&&((t||(t={}))[n]=e[n]);return t},jp=(e,t)=>{const n={};for(const o in e)(!Zr(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Gp(e,t,n){const{props:o,children:l,component:i}=e,{props:r,children:s,patchFlag:a}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return o?Js(o,r,u):!!r;if(a&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(r[p]!==o[p]&&!_i(u,p))return!0}}}else return(l||s)&&(!s||!s.$stable)?!0:o===r?!1:o?r?Js(o,r,u):!0:!!r;return!1}function Js(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let l=0;l<o.length;l++){const i=o[l];if(t[i]!==e[i]&&!_i(n,i))return!0}return!1}function Yp({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Xp=e=>e.__isSuspense;function Wp(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):Op(e)}function Qs(e,t){return ds(e,null,t)}const bl={};function $e(e,t,n){return ds(e,t,n)}function ds(e,t,{immediate:n,deep:o,flush:l,onTrack:i,onTrigger:r}=ze){var s;const a=mi()===((s=Ke)==null?void 0:s.scope)?Ke:null;let u,c=!1,d=!1;if(He(e)?(u=()=>e.value,c=Yl(e)):fn(e)?(u=()=>e,o=!0):_e(e)?(d=!0,c=e.some(b=>fn(b)||Yl(b)),u=()=>e.map(b=>{if(He(b))return b.value;if(fn(b))return Mn(b);if(xe(b))return pn(b,a,2)})):xe(e)?t?u=()=>pn(e,a,2):u=()=>{if(!(a&&a.isUnmounted))return p&&p(),ht(e,a,3,[f])}:u=St,t&&o){const b=u;u=()=>Mn(b())}let p,f=b=>{p=x.onStop=()=>{pn(b,a,4)}},m;if(Zo)if(f=St,t?n&&ht(t,a,3,[u(),d?[]:void 0,f]):u(),l==="sync"){const b=Oh();m=b.__watcherHandles||(b.__watcherHandles=[])}else return St;let h=d?new Array(e.length).fill(bl):bl;const _=()=>{if(x.active)if(t){const b=x.run();(o||c||(d?b.some((A,y)=>Lo(A,h[y])):Lo(b,h)))&&(p&&p(),ht(t,a,3,[b,h===bl?void 0:d&&h[0]===bl?[]:h,f]),h=b)}else x.run()};_.allowRecurse=!!t;let v;l==="sync"?v=_:l==="post"?v=()=>rt(_,a&&a.suspense):(_.pre=!0,a&&(_.id=a.uid),v=()=>cs(_));const x=new ts(u,v);t?n?_():h=x.run():l==="post"?rt(x.run.bind(x),a&&a.suspense):x.run();const C=()=>{x.stop(),a&&a.scope&&Kr(a.scope.effects,x)};return m&&m.push(C),C}function qp(e,t,n){const o=this.proxy,l=je(e)?e.includes(".")?mc(o,e):()=>o[e]:e.bind(o,o);let i;xe(t)?i=t:(i=t.handler,n=t);const r=Ke;po(this);const s=ds(l,i.bind(o),n);return r?po(r):In(),s}function mc(e,t){const n=t.split(".");return()=>{let o=e;for(let l=0;l<n.length&&o;l++)o=o[n[l]];return o}}function Mn(e,t){if(!De(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),He(e))Mn(e.value,t);else if(_e(e))for(let n=0;n<e.length;n++)Mn(e[n],t);else if(Lu(e)||lo(e))e.forEach(n=>{Mn(n,t)});else if(Gu(e))for(const n in e)Mn(e[n],t);return e}function fo(e,t){const n=et;if(n===null)return e;const o=Ci(n)||n.proxy,l=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,s,a,u=ze]=t[i];r&&(xe(r)&&(r={mounted:r,updated:r}),r.deep&&Mn(s),l.push({dir:r,instance:o,value:s,oldValue:void 0,arg:a,modifiers:u}))}return e}function Sn(e,t,n,o){const l=e.dirs,i=t&&t.dirs;for(let r=0;r<l.length;r++){const s=l[r];i&&(s.oldValue=i[r].value);let a=s.dir[o];a&&(_o(),ht(a,n,8,[e.el,s,e,t]),wo())}}function gc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ze(()=>{e.isMounted=!0}),Si(()=>{e.isUnmounting=!0}),e}const ft=[Function,Array],vc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ft,onEnter:ft,onAfterEnter:ft,onEnterCancelled:ft,onBeforeLeave:ft,onLeave:ft,onAfterLeave:ft,onLeaveCancelled:ft,onBeforeAppear:ft,onAppear:ft,onAfterAppear:ft,onAppearCancelled:ft},Zp={name:"BaseTransition",props:vc,setup(e,{slots:t}){const n=Yn(),o=gc();let l;return()=>{const i=t.default&&fs(t.default(),!0);if(!i||!i.length)return;let r=i[0];if(i.length>1){for(const h of i)if(h.type!==gt){r=h;break}}const s=Ve(e),{mode:a}=s;if(o.isLeaving)return Zi(r);const u=ea(r);if(!u)return Zi(r);const c=Yo(u,s,o,n);Xo(u,c);const d=n.subTree,p=d&&ea(d);let f=!1;const{getTransitionKey:m}=u.type;if(m){const h=m();l===void 0?l=h:h!==l&&(l=h,f=!0)}if(p&&p.type!==gt&&(!Tn(u,p)||f)){const h=Yo(p,s,o,n);if(Xo(p,h),a==="out-in")return o.isLeaving=!0,h.afterLeave=()=>{o.isLeaving=!1,n.update.active!==!1&&n.update()},Zi(r);a==="in-out"&&u.type!==gt&&(h.delayLeave=(_,v,x)=>{const C=yc(o,p);C[String(p.key)]=p,_._leaveCb=()=>{v(),_._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=x})}return r}}},Kp=Zp;function yc(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function Yo(e,t,n,o){const{appear:l,mode:i,persisted:r=!1,onBeforeEnter:s,onEnter:a,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:p,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:h,onAppear:_,onAfterAppear:v,onAppearCancelled:x}=t,C=String(e.key),b=yc(n,e),A=(S,z)=>{S&&ht(S,o,9,z)},y=(S,z)=>{const R=z[1];A(S,z),_e(S)?S.every(te=>te.length<=1)&&R():S.length<=1&&R()},V={mode:i,persisted:r,beforeEnter(S){let z=s;if(!n.isMounted)if(l)z=h||s;else return;S._leaveCb&&S._leaveCb(!0);const R=b[C];R&&Tn(e,R)&&R.el._leaveCb&&R.el._leaveCb(),A(z,[S])},enter(S){let z=a,R=u,te=c;if(!n.isMounted)if(l)z=_||a,R=v||u,te=x||c;else return;let G=!1;const ie=S._enterCb=k=>{G||(G=!0,k?A(te,[S]):A(R,[S]),V.delayedLeave&&V.delayedLeave(),S._enterCb=void 0)};z?y(z,[S,ie]):ie()},leave(S,z){const R=String(e.key);if(S._enterCb&&S._enterCb(!0),n.isUnmounting)return z();A(d,[S]);let te=!1;const G=S._leaveCb=ie=>{te||(te=!0,z(),ie?A(m,[S]):A(f,[S]),S._leaveCb=void 0,b[R]===e&&delete b[R])};b[R]=e,p?y(p,[S,G]):G()},clone(S){return Yo(S,t,n,o)}};return V}function Zi(e){if(bi(e))return e=_n(e),e.children=null,e}function ea(e){return bi(e)?e.children?e.children[0]:void 0:e}function Xo(e,t){e.shapeFlag&6&&e.component?Xo(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function fs(e,t=!1,n){let o=[],l=0;for(let i=0;i<e.length;i++){let r=e[i];const s=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===Pe?(r.patchFlag&128&&l++,o=o.concat(fs(r.children,t,s))):(t||r.type!==gt)&&o.push(s!=null?_n(r,{key:s}):r)}if(l>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function ue(e,t){return xe(e)?(()=>We({name:e.name},t,{setup:e}))():e}const Po=e=>!!e.type.__asyncLoader,bi=e=>e.type.__isKeepAlive;function Jp(e,t){_c(e,"a",t)}function Qp(e,t){_c(e,"da",t)}function _c(e,t,n=Ke){const o=e.__wdc||(e.__wdc=()=>{let l=n;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(xi(t,o,n),n){let l=n.parent;for(;l&&l.parent;)bi(l.parent.vnode)&&eh(o,t,n,l),l=l.parent}}function eh(e,t,n,o){const l=xi(t,e,o,!0);ps(()=>{Kr(o[t],l)},n)}function xi(e,t,n=Ke,o=!1){if(n){const l=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;_o(),po(n);const s=ht(t,n,e,r);return In(),wo(),s});return o?l.unshift(i):l.push(i),i}}const Jt=e=>(t,n=Ke)=>(!Zo||e==="sp")&&xi(e,(...o)=>t(...o),n),wc=Jt("bm"),Ze=Jt("m"),th=Jt("bu"),bc=Jt("u"),Si=Jt("bum"),ps=Jt("um"),nh=Jt("sp"),oh=Jt("rtg"),lh=Jt("rtc");function ih(e,t=Ke){xi("ec",e,t)}const hs="components",rh="directives";function zn(e,t){return ms(hs,e,!0,t)||e}const xc=Symbol.for("v-ndc");function Qn(e){return je(e)?ms(hs,e,!1)||e:e||xc}function $i(e){return ms(rh,e)}function ms(e,t,n=!0,o=!1){const l=et||Ke;if(l){const i=l.type;if(e===hs){const s=Bh(i,!1);if(s&&(s===t||s===Dt(t)||s===pi(Dt(t))))return i}const r=ta(l[e]||i[e],t)||ta(l.appContext[e],t);return!r&&o?i:r}}function ta(e,t){return e&&(e[t]||e[Dt(t)]||e[pi(Dt(t))])}function mt(e,t,n,o){let l;const i=n&&n[o];if(_e(e)||je(e)){l=new Array(e.length);for(let r=0,s=e.length;r<s;r++)l[r]=t(e[r],r,void 0,i&&i[r])}else if(typeof e=="number"){l=new Array(e);for(let r=0;r<e;r++)l[r]=t(r+1,r,void 0,i&&i[r])}else if(De(e))if(e[Symbol.iterator])l=Array.from(e,(r,s)=>t(r,s,void 0,i&&i[s]));else{const r=Object.keys(e);l=new Array(r.length);for(let s=0,a=r.length;s<a;s++){const u=r[s];l[s]=t(e[u],u,s,i&&i[s])}}else l=[];return n&&(n[o]=l),l}function Ee(e,t,n={},o,l){if(et.isCE||et.parent&&Po(et.parent)&&et.parent.isCE)return t!=="default"&&(n.name=t),B("slot",n,o&&o());let i=e[t];i&&i._c&&(i._d=!1),F();const r=i&&Sc(i(n)),s=pe(Pe,{key:n.key||r&&r.key||`_${t}`},r||(o?o():[]),r&&e._===1?64:-2);return!l&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function Sc(e){return e.some(t=>ql(t)?!(t.type===gt||t.type===Pe&&!Sc(t.children)):!0)?e:null}const br=e=>e?Ic(e)?Ci(e)||e.proxy:br(e.parent):null,Mo=We(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>br(e.parent),$root:e=>br(e.root),$emit:e=>e.emit,$options:e=>vs(e),$forceUpdate:e=>e.f||(e.f=()=>cs(e.update)),$nextTick:e=>e.n||(e.n=nt.bind(e.proxy)),$watch:e=>qp.bind(e)}),Ki=(e,t)=>e!==ze&&!e.__isScriptSetup&&Ne(e,t),sh={get({_:e},t){const{ctx:n,setupState:o,data:l,props:i,accessCache:r,type:s,appContext:a}=e;let u;if(t[0]!=="$"){const f=r[t];if(f!==void 0)switch(f){case 1:return o[t];case 2:return l[t];case 4:return n[t];case 3:return i[t]}else{if(Ki(o,t))return r[t]=1,o[t];if(l!==ze&&Ne(l,t))return r[t]=2,l[t];if((u=e.propsOptions[0])&&Ne(u,t))return r[t]=3,i[t];if(n!==ze&&Ne(n,t))return r[t]=4,n[t];xr&&(r[t]=0)}}const c=Mo[t];let d,p;if(c)return t==="$attrs"&&at(e,"get",t),c(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(n!==ze&&Ne(n,t))return r[t]=4,n[t];if(p=a.config.globalProperties,Ne(p,t))return p[t]},set({_:e},t,n){const{data:o,setupState:l,ctx:i}=e;return Ki(l,t)?(l[t]=n,!0):o!==ze&&Ne(o,t)?(o[t]=n,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:l,propsOptions:i}},r){let s;return!!n[r]||e!==ze&&Ne(e,r)||Ki(t,r)||(s=i[0])&&Ne(s,r)||Ne(o,r)||Ne(Mo,r)||Ne(l.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ne(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function gs(){return $c().slots}function ah(){return $c().attrs}function $c(){const e=Yn();return e.setupContext||(e.setupContext=Dc(e))}function na(e){return _e(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let xr=!0;function uh(e){const t=vs(e),n=e.proxy,o=e.ctx;xr=!1,t.beforeCreate&&oa(t.beforeCreate,e,"bc");const{data:l,computed:i,methods:r,watch:s,provide:a,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:f,updated:m,activated:h,deactivated:_,beforeDestroy:v,beforeUnmount:x,destroyed:C,unmounted:b,render:A,renderTracked:y,renderTriggered:V,errorCaptured:S,serverPrefetch:z,expose:R,inheritAttrs:te,components:G,directives:ie,filters:k}=t;if(u&&ch(u,o,null),r)for(const U in r){const Z=r[U];xe(Z)&&(o[U]=Z.bind(n))}if(l){const U=l.call(n,n);De(U)&&(e.data=al(U))}if(xr=!0,i)for(const U in i){const Z=i[U],ae=xe(Z)?Z.bind(n,n):xe(Z.get)?Z.get.bind(n,n):St,I=!xe(Z)&&xe(Z.set)?Z.set.bind(n):St,j=K({get:ae,set:I});Object.defineProperty(o,U,{enumerable:!0,configurable:!0,get:()=>j.value,set:O=>j.value=O})}if(s)for(const U in s)Ec(s[U],o,n,U);if(a){const U=xe(a)?a.call(n):a;Reflect.ownKeys(U).forEach(Z=>{Hn(Z,U[Z])})}c&&oa(c,e,"c");function P(U,Z){_e(Z)?Z.forEach(ae=>U(ae.bind(n))):Z&&U(Z.bind(n))}if(P(wc,d),P(Ze,p),P(th,f),P(bc,m),P(Jp,h),P(Qp,_),P(ih,S),P(lh,y),P(oh,V),P(Si,x),P(ps,b),P(nh,z),_e(R))if(R.length){const U=e.exposed||(e.exposed={});R.forEach(Z=>{Object.defineProperty(U,Z,{get:()=>n[Z],set:ae=>n[Z]=ae})})}else e.exposed||(e.exposed={});A&&e.render===St&&(e.render=A),te!=null&&(e.inheritAttrs=te),G&&(e.components=G),ie&&(e.directives=ie)}function ch(e,t,n=St){_e(e)&&(e=Sr(e));for(const o in e){const l=e[o];let i;De(l)?"default"in l?i=$t(l.from||o,l.default,!0):i=$t(l.from||o):i=$t(l),He(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function oa(e,t,n){ht(_e(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ec(e,t,n,o){const l=o.includes(".")?mc(n,o):()=>n[o];if(je(e)){const i=t[e];xe(i)&&$e(l,i)}else if(xe(e))$e(l,e.bind(n));else if(De(e))if(_e(e))e.forEach(i=>Ec(i,t,n,o));else{const i=xe(e.handler)?e.handler.bind(n):t[e.handler];xe(i)&&$e(l,i,e)}}function vs(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:l,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,s=i.get(t);let a;return s?a=s:!l.length&&!n&&!o?a=t:(a={},l.length&&l.forEach(u=>Wl(a,u,r,!0)),Wl(a,t,r)),De(t)&&i.set(t,a),a}function Wl(e,t,n,o=!1){const{mixins:l,extends:i}=t;i&&Wl(e,i,n,!0),l&&l.forEach(r=>Wl(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const s=dh[r]||n&&n[r];e[r]=s?s(e[r],t[r]):t[r]}return e}const dh={data:la,props:ia,emits:ia,methods:Co,computed:Co,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:Co,directives:Co,watch:ph,provide:la,inject:fh};function la(e,t){return t?e?function(){return We(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function fh(e,t){return Co(Sr(e),Sr(t))}function Sr(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function Co(e,t){return e?We(Object.create(null),e,t):t}function ia(e,t){return e?_e(e)&&_e(t)?[...new Set([...e,...t])]:We(Object.create(null),na(e),na(t??{})):t}function ph(e,t){if(!e)return t;if(!t)return e;const n=We(Object.create(null),e);for(const o in t)n[o]=it(e[o],t[o]);return n}function kc(){return{app:null,config:{isNativeTag:If,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hh=0;function mh(e,t){return function(o,l=null){xe(o)||(o=We({},o)),l!=null&&!De(l)&&(l=null);const i=kc(),r=new Set;let s=!1;const a=i.app={_uid:hh++,_component:o,_props:l,_container:null,_context:i,_instance:null,version:Dh,get config(){return i.config},set config(u){},use(u,...c){return r.has(u)||(u&&xe(u.install)?(r.add(u),u.install(a,...c)):xe(u)&&(r.add(u),u(a,...c))),a},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),a},component(u,c){return c?(i.components[u]=c,a):i.components[u]},directive(u,c){return c?(i.directives[u]=c,a):i.directives[u]},mount(u,c,d){if(!s){const p=B(o,l);return p.appContext=i,c&&t?t(p,u):e(p,u,d),s=!0,a._container=u,u.__vue_app__=a,Ci(p.component)||p.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide(u,c){return i.provides[u]=c,a},runWithContext(u){Wo=a;try{return u()}finally{Wo=null}}};return a}}let Wo=null;function Hn(e,t){if(Ke){let n=Ke.provides;const o=Ke.parent&&Ke.parent.provides;o===n&&(n=Ke.provides=Object.create(o)),n[e]=t}}function $t(e,t,n=!1){const o=Ke||et;if(o||Wo){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Wo._context.provides;if(l&&e in l)return l[e];if(arguments.length>1)return n&&xe(t)?t.call(o&&o.proxy):t}}function gh(){return!!(Ke||et||Wo)}function vh(e,t,n,o=!1){const l={},i={};jl(i,ki,1),e.propsDefaults=Object.create(null),Cc(e,t,l,i);for(const r in e.propsOptions[0])r in l||(l[r]=void 0);n?e.props=o?l:Ep(l):e.type.props?e.props=l:e.props=i,e.attrs=i}function yh(e,t,n,o){const{props:l,attrs:i,vnode:{patchFlag:r}}=e,s=Ve(l),[a]=e.propsOptions;let u=!1;if((o||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(_i(e.emitsOptions,p))continue;const f=t[p];if(a)if(Ne(i,p))f!==i[p]&&(i[p]=f,u=!0);else{const m=Dt(p);l[m]=$r(a,s,m,f,e,!1)}else f!==i[p]&&(i[p]=f,u=!0)}}}else{Cc(e,t,l,i)&&(u=!0);let c;for(const d in s)(!t||!Ne(t,d)&&((c=Gn(d))===d||!Ne(t,c)))&&(a?n&&(n[d]!==void 0||n[c]!==void 0)&&(l[d]=$r(a,s,d,void 0,e,!0)):delete l[d]);if(i!==s)for(const d in i)(!t||!Ne(t,d))&&(delete i[d],u=!0)}u&&Zt(e,"set","$attrs")}function Cc(e,t,n,o){const[l,i]=e.propsOptions;let r=!1,s;if(t)for(let a in t){if(Al(a))continue;const u=t[a];let c;l&&Ne(l,c=Dt(a))?!i||!i.includes(c)?n[c]=u:(s||(s={}))[c]=u:_i(e.emitsOptions,a)||(!(a in o)||u!==o[a])&&(o[a]=u,r=!0)}if(i){const a=Ve(n),u=s||ze;for(let c=0;c<i.length;c++){const d=i[c];n[d]=$r(l,a,d,u[d],e,!Ne(u,d))}}return r}function $r(e,t,n,o,l,i){const r=e[n];if(r!=null){const s=Ne(r,"default");if(s&&o===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&xe(a)){const{propsDefaults:u}=l;n in u?o=u[n]:(po(l),o=u[n]=a.call(null,t),In())}else o=a}r[0]&&(i&&!s?o=!1:r[1]&&(o===""||o===Gn(n))&&(o=!0))}return o}function Vc(e,t,n=!1){const o=t.propsCache,l=o.get(e);if(l)return l;const i=e.props,r={},s=[];let a=!1;if(!xe(e)){const c=d=>{a=!0;const[p,f]=Vc(d,t,!0);We(r,p),f&&s.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!a)return De(e)&&o.set(e,oo),oo;if(_e(i))for(let c=0;c<i.length;c++){const d=Dt(i[c]);ra(d)&&(r[d]=ze)}else if(i)for(const c in i){const d=Dt(c);if(ra(d)){const p=i[c],f=r[d]=_e(p)||xe(p)?{type:p}:We({},p);if(f){const m=ua(Boolean,f.type),h=ua(String,f.type);f[0]=m>-1,f[1]=h<0||m<h,(m>-1||Ne(f,"default"))&&s.push(d)}}}const u=[r,s];return De(e)&&o.set(e,u),u}function ra(e){return e[0]!=="$"}function sa(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function aa(e,t){return sa(e)===sa(t)}function ua(e,t){return _e(t)?t.findIndex(n=>aa(n,e)):xe(t)&&aa(t,e)?0:-1}const Tc=e=>e[0]==="_"||e==="$stable",ys=e=>_e(e)?e.map(Mt):[Mt(e)],_h=(e,t,n)=>{if(t._n)return t;const o=re((...l)=>ys(t(...l)),n);return o._c=!1,o},Nc=(e,t,n)=>{const o=e._ctx;for(const l in e){if(Tc(l))continue;const i=e[l];if(xe(i))t[l]=_h(l,i,o);else if(i!=null){const r=ys(i);t[l]=()=>r}}},Pc=(e,t)=>{const n=ys(t);e.slots.default=()=>n},wh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ve(t),jl(t,"_",n)):Nc(t,e.slots={})}else e.slots={},t&&Pc(e,t);jl(e.slots,ki,1)},bh=(e,t,n)=>{const{vnode:o,slots:l}=e;let i=!0,r=ze;if(o.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:(We(l,t),!n&&s===1&&delete l._):(i=!t.$stable,Nc(t,l)),r=t}else t&&(Pc(e,t),r={default:1});if(i)for(const s in l)!Tc(s)&&!(s in r)&&delete l[s]};function Er(e,t,n,o,l=!1){if(_e(e)){e.forEach((p,f)=>Er(p,t&&(_e(t)?t[f]:t),n,o,l));return}if(Po(o)&&!l)return;const i=o.shapeFlag&4?Ci(o.component)||o.component.proxy:o.el,r=l?null:i,{i:s,r:a}=e,u=t&&t.r,c=s.refs===ze?s.refs={}:s.refs,d=s.setupState;if(u!=null&&u!==a&&(je(u)?(c[u]=null,Ne(d,u)&&(d[u]=null)):He(u)&&(u.value=null)),xe(a))pn(a,s,12,[r,c]);else{const p=je(a),f=He(a);if(p||f){const m=()=>{if(e.f){const h=p?Ne(d,a)?d[a]:c[a]:a.value;l?_e(h)&&Kr(h,i):_e(h)?h.includes(i)||h.push(i):p?(c[a]=[i],Ne(d,a)&&(d[a]=c[a])):(a.value=[i],e.k&&(c[e.k]=a.value))}else p?(c[a]=r,Ne(d,a)&&(d[a]=r)):f&&(a.value=r,e.k&&(c[e.k]=r))};r?(m.id=-1,rt(m,n)):m()}}}const rt=Wp;function xh(e){return Sh(e)}function Sh(e,t){const n=gr();n.__VUE__=!0;const{insert:o,remove:l,patchProp:i,createElement:r,createText:s,createComment:a,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:f=St,insertStaticContent:m}=e,h=(g,w,E,T=null,$=null,H=null,X=!1,q=null,oe=!!w.dynamicChildren)=>{if(g===w)return;g&&!Tn(g,w)&&(T=le(g),O(g,$,H,!0),g=null),w.patchFlag===-2&&(oe=!1,w.dynamicChildren=null);const{type:Q,ref:ge,shapeFlag:fe}=w;switch(Q){case Ei:_(g,w,E,T);break;case gt:v(g,w,E,T);break;case Il:g==null&&x(w,E,T,X);break;case Pe:G(g,w,E,T,$,H,X,q,oe);break;default:fe&1?A(g,w,E,T,$,H,X,q,oe):fe&6?ie(g,w,E,T,$,H,X,q,oe):(fe&64||fe&128)&&Q.process(g,w,E,T,$,H,X,q,oe,Se)}ge!=null&&$&&Er(ge,g&&g.ref,H,w||g,!w)},_=(g,w,E,T)=>{if(g==null)o(w.el=s(w.children),E,T);else{const $=w.el=g.el;w.children!==g.children&&u($,w.children)}},v=(g,w,E,T)=>{g==null?o(w.el=a(w.children||""),E,T):w.el=g.el},x=(g,w,E,T)=>{[g.el,g.anchor]=m(g.children,w,E,T,g.el,g.anchor)},C=({el:g,anchor:w},E,T)=>{let $;for(;g&&g!==w;)$=p(g),o(g,E,T),g=$;o(w,E,T)},b=({el:g,anchor:w})=>{let E;for(;g&&g!==w;)E=p(g),l(g),g=E;l(w)},A=(g,w,E,T,$,H,X,q,oe)=>{X=X||w.type==="svg",g==null?y(w,E,T,$,H,X,q,oe):z(g,w,$,H,X,q,oe)},y=(g,w,E,T,$,H,X,q)=>{let oe,Q;const{type:ge,props:fe,shapeFlag:ye,transition:be,dirs:ke}=g;if(oe=g.el=r(g.type,H,fe&&fe.is,fe),ye&8?c(oe,g.children):ye&16&&S(g.children,oe,null,T,$,H&&ge!=="foreignObject",X,q),ke&&Sn(g,null,T,"created"),V(oe,g,g.scopeId,X,T),fe){for(const Ae in fe)Ae!=="value"&&!Al(Ae)&&i(oe,Ae,null,fe[Ae],H,g.children,T,$,se);"value"in fe&&i(oe,"value",null,fe.value),(Q=fe.onVnodeBeforeMount)&&Vt(Q,T,g)}ke&&Sn(g,null,T,"beforeMount");const Oe=(!$||$&&!$.pendingBranch)&&be&&!be.persisted;Oe&&be.beforeEnter(oe),o(oe,w,E),((Q=fe&&fe.onVnodeMounted)||Oe||ke)&&rt(()=>{Q&&Vt(Q,T,g),Oe&&be.enter(oe),ke&&Sn(g,null,T,"mounted")},$)},V=(g,w,E,T,$)=>{if(E&&f(g,E),T)for(let H=0;H<T.length;H++)f(g,T[H]);if($){let H=$.subTree;if(w===H){const X=$.vnode;V(g,X,X.scopeId,X.slotScopeIds,$.parent)}}},S=(g,w,E,T,$,H,X,q,oe=0)=>{for(let Q=oe;Q<g.length;Q++){const ge=g[Q]=q?an(g[Q]):Mt(g[Q]);h(null,ge,w,E,T,$,H,X,q)}},z=(g,w,E,T,$,H,X)=>{const q=w.el=g.el;let{patchFlag:oe,dynamicChildren:Q,dirs:ge}=w;oe|=g.patchFlag&16;const fe=g.props||ze,ye=w.props||ze;let be;E&&$n(E,!1),(be=ye.onVnodeBeforeUpdate)&&Vt(be,E,w,g),ge&&Sn(w,g,E,"beforeUpdate"),E&&$n(E,!0);const ke=$&&w.type!=="foreignObject";if(Q?R(g.dynamicChildren,Q,q,E,T,ke,H):X||Z(g,w,q,null,E,T,ke,H,!1),oe>0){if(oe&16)te(q,w,fe,ye,E,T,$);else if(oe&2&&fe.class!==ye.class&&i(q,"class",null,ye.class,$),oe&4&&i(q,"style",fe.style,ye.style,$),oe&8){const Oe=w.dynamicProps;for(let Ae=0;Ae<Oe.length;Ae++){const qe=Oe[Ae],vt=fe[qe],Wn=ye[qe];(Wn!==vt||qe==="value")&&i(q,qe,vt,Wn,$,g.children,E,T,se)}}oe&1&&g.children!==w.children&&c(q,w.children)}else!X&&Q==null&&te(q,w,fe,ye,E,T,$);((be=ye.onVnodeUpdated)||ge)&&rt(()=>{be&&Vt(be,E,w,g),ge&&Sn(w,g,E,"updated")},T)},R=(g,w,E,T,$,H,X)=>{for(let q=0;q<w.length;q++){const oe=g[q],Q=w[q],ge=oe.el&&(oe.type===Pe||!Tn(oe,Q)||oe.shapeFlag&70)?d(oe.el):E;h(oe,Q,ge,null,T,$,H,X,!0)}},te=(g,w,E,T,$,H,X)=>{if(E!==T){if(E!==ze)for(const q in E)!Al(q)&&!(q in T)&&i(g,q,E[q],null,X,w.children,$,H,se);for(const q in T){if(Al(q))continue;const oe=T[q],Q=E[q];oe!==Q&&q!=="value"&&i(g,q,Q,oe,X,w.children,$,H,se)}"value"in T&&i(g,"value",E.value,T.value)}},G=(g,w,E,T,$,H,X,q,oe)=>{const Q=w.el=g?g.el:s(""),ge=w.anchor=g?g.anchor:s("");let{patchFlag:fe,dynamicChildren:ye,slotScopeIds:be}=w;be&&(q=q?q.concat(be):be),g==null?(o(Q,E,T),o(ge,E,T),S(w.children,E,ge,$,H,X,q,oe)):fe>0&&fe&64&&ye&&g.dynamicChildren?(R(g.dynamicChildren,ye,E,$,H,X,q),(w.key!=null||$&&w===$.subTree)&&Mc(g,w,!0)):Z(g,w,E,ge,$,H,X,q,oe)},ie=(g,w,E,T,$,H,X,q,oe)=>{w.slotScopeIds=q,g==null?w.shapeFlag&512?$.ctx.activate(w,E,T,X,oe):k(w,E,T,$,H,X,oe):Y(g,w,oe)},k=(g,w,E,T,$,H,X)=>{const q=g.component=Nh(g,T,$);if(bi(g)&&(q.ctx.renderer=Se),Ph(q),q.asyncDep){if($&&$.registerDep(q,P),!g.el){const oe=q.subTree=B(gt);v(null,oe,w,E)}return}P(q,g,w,E,$,H,X)},Y=(g,w,E)=>{const T=w.component=g.component;if(Gp(g,w,E))if(T.asyncDep&&!T.asyncResolved){U(T,w,E);return}else T.next=w,Ip(T.update),T.update();else w.el=g.el,T.vnode=w},P=(g,w,E,T,$,H,X)=>{const q=()=>{if(g.isMounted){let{next:ge,bu:fe,u:ye,parent:be,vnode:ke}=g,Oe=ge,Ae;$n(g,!1),ge?(ge.el=ke.el,U(g,ge,X)):ge=ke,fe&&Wi(fe),(Ae=ge.props&&ge.props.onVnodeBeforeUpdate)&&Vt(Ae,be,ge,ke),$n(g,!0);const qe=qi(g),vt=g.subTree;g.subTree=qe,h(vt,qe,d(vt.el),le(vt),g,$,H),ge.el=qe.el,Oe===null&&Yp(g,qe.el),ye&&rt(ye,$),(Ae=ge.props&&ge.props.onVnodeUpdated)&&rt(()=>Vt(Ae,be,ge,ke),$)}else{let ge;const{el:fe,props:ye}=w,{bm:be,m:ke,parent:Oe}=g,Ae=Po(w);if($n(g,!1),be&&Wi(be),!Ae&&(ge=ye&&ye.onVnodeBeforeMount)&&Vt(ge,Oe,w),$n(g,!0),fe&&D){const qe=()=>{g.subTree=qi(g),D(fe,g.subTree,g,$,null)};Ae?w.type.__asyncLoader().then(()=>!g.isUnmounted&&qe()):qe()}else{const qe=g.subTree=qi(g);h(null,qe,E,T,g,$,H),w.el=qe.el}if(ke&&rt(ke,$),!Ae&&(ge=ye&&ye.onVnodeMounted)){const qe=w;rt(()=>Vt(ge,Oe,qe),$)}(w.shapeFlag&256||Oe&&Po(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&g.a&&rt(g.a,$),g.isMounted=!0,w=E=T=null}},oe=g.effect=new ts(q,()=>cs(Q),g.scope),Q=g.update=()=>oe.run();Q.id=g.uid,$n(g,!0),Q()},U=(g,w,E)=>{w.component=g;const T=g.vnode.props;g.vnode=w,g.next=null,yh(g,w.props,T,E),bh(g,w.children,E),_o(),Ks(),wo()},Z=(g,w,E,T,$,H,X,q,oe=!1)=>{const Q=g&&g.children,ge=g?g.shapeFlag:0,fe=w.children,{patchFlag:ye,shapeFlag:be}=w;if(ye>0){if(ye&128){I(Q,fe,E,T,$,H,X,q,oe);return}else if(ye&256){ae(Q,fe,E,T,$,H,X,q,oe);return}}be&8?(ge&16&&se(Q,$,H),fe!==Q&&c(E,fe)):ge&16?be&16?I(Q,fe,E,T,$,H,X,q,oe):se(Q,$,H,!0):(ge&8&&c(E,""),be&16&&S(fe,E,T,$,H,X,q,oe))},ae=(g,w,E,T,$,H,X,q,oe)=>{g=g||oo,w=w||oo;const Q=g.length,ge=w.length,fe=Math.min(Q,ge);let ye;for(ye=0;ye<fe;ye++){const be=w[ye]=oe?an(w[ye]):Mt(w[ye]);h(g[ye],be,E,null,$,H,X,q,oe)}Q>ge?se(g,$,H,!0,!1,fe):S(w,E,T,$,H,X,q,oe,fe)},I=(g,w,E,T,$,H,X,q,oe)=>{let Q=0;const ge=w.length;let fe=g.length-1,ye=ge-1;for(;Q<=fe&&Q<=ye;){const be=g[Q],ke=w[Q]=oe?an(w[Q]):Mt(w[Q]);if(Tn(be,ke))h(be,ke,E,null,$,H,X,q,oe);else break;Q++}for(;Q<=fe&&Q<=ye;){const be=g[fe],ke=w[ye]=oe?an(w[ye]):Mt(w[ye]);if(Tn(be,ke))h(be,ke,E,null,$,H,X,q,oe);else break;fe--,ye--}if(Q>fe){if(Q<=ye){const be=ye+1,ke=be<ge?w[be].el:T;for(;Q<=ye;)h(null,w[Q]=oe?an(w[Q]):Mt(w[Q]),E,ke,$,H,X,q,oe),Q++}}else if(Q>ye)for(;Q<=fe;)O(g[Q],$,H,!0),Q++;else{const be=Q,ke=Q,Oe=new Map;for(Q=ke;Q<=ye;Q++){const ut=w[Q]=oe?an(w[Q]):Mt(w[Q]);ut.key!=null&&Oe.set(ut.key,Q)}let Ae,qe=0;const vt=ye-ke+1;let Wn=!1,zs=0;const bo=new Array(vt);for(Q=0;Q<vt;Q++)bo[Q]=0;for(Q=be;Q<=fe;Q++){const ut=g[Q];if(qe>=vt){O(ut,$,H,!0);continue}let Ct;if(ut.key!=null)Ct=Oe.get(ut.key);else for(Ae=ke;Ae<=ye;Ae++)if(bo[Ae-ke]===0&&Tn(ut,w[Ae])){Ct=Ae;break}Ct===void 0?O(ut,$,H,!0):(bo[Ct-ke]=Q+1,Ct>=zs?zs=Ct:Wn=!0,h(ut,w[Ct],E,null,$,H,X,q,oe),qe++)}const Hs=Wn?$h(bo):oo;for(Ae=Hs.length-1,Q=vt-1;Q>=0;Q--){const ut=ke+Q,Ct=w[ut],Ls=ut+1<ge?w[ut+1].el:T;bo[Q]===0?h(null,Ct,E,Ls,$,H,X,q,oe):Wn&&(Ae<0||Q!==Hs[Ae]?j(Ct,E,Ls,2):Ae--)}}},j=(g,w,E,T,$=null)=>{const{el:H,type:X,transition:q,children:oe,shapeFlag:Q}=g;if(Q&6){j(g.component.subTree,w,E,T);return}if(Q&128){g.suspense.move(w,E,T);return}if(Q&64){X.move(g,w,E,Se);return}if(X===Pe){o(H,w,E);for(let fe=0;fe<oe.length;fe++)j(oe[fe],w,E,T);o(g.anchor,w,E);return}if(X===Il){C(g,w,E);return}if(T!==2&&Q&1&&q)if(T===0)q.beforeEnter(H),o(H,w,E),rt(()=>q.enter(H),$);else{const{leave:fe,delayLeave:ye,afterLeave:be}=q,ke=()=>o(H,w,E),Oe=()=>{fe(H,()=>{ke(),be&&be()})};ye?ye(H,ke,Oe):Oe()}else o(H,w,E)},O=(g,w,E,T=!1,$=!1)=>{const{type:H,props:X,ref:q,children:oe,dynamicChildren:Q,shapeFlag:ge,patchFlag:fe,dirs:ye}=g;if(q!=null&&Er(q,null,E,g,!0),ge&256){w.ctx.deactivate(g);return}const be=ge&1&&ye,ke=!Po(g);let Oe;if(ke&&(Oe=X&&X.onVnodeBeforeUnmount)&&Vt(Oe,w,g),ge&6)ee(g.component,E,T);else{if(ge&128){g.suspense.unmount(E,T);return}be&&Sn(g,null,w,"beforeUnmount"),ge&64?g.type.remove(g,w,E,$,Se,T):Q&&(H!==Pe||fe>0&&fe&64)?se(Q,w,E,!1,!0):(H===Pe&&fe&384||!$&&ge&16)&&se(oe,w,E),T&&J(g)}(ke&&(Oe=X&&X.onVnodeUnmounted)||be)&&rt(()=>{Oe&&Vt(Oe,w,g),be&&Sn(g,null,w,"unmounted")},E)},J=g=>{const{type:w,el:E,anchor:T,transition:$}=g;if(w===Pe){he(E,T);return}if(w===Il){b(g);return}const H=()=>{l(E),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(g.shapeFlag&1&&$&&!$.persisted){const{leave:X,delayLeave:q}=$,oe=()=>X(E,H);q?q(g.el,H,oe):oe()}else H()},he=(g,w)=>{let E;for(;g!==w;)E=p(g),l(g),g=E;l(w)},ee=(g,w,E)=>{const{bum:T,scope:$,update:H,subTree:X,um:q}=g;T&&Wi(T),$.stop(),H&&(H.active=!1,O(X,g,w,E)),q&&rt(q,w),rt(()=>{g.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},se=(g,w,E,T=!1,$=!1,H=0)=>{for(let X=H;X<g.length;X++)O(g[X],w,E,T,$)},le=g=>g.shapeFlag&6?le(g.component.subTree):g.shapeFlag&128?g.suspense.next():p(g.anchor||g.el),de=(g,w,E)=>{g==null?w._vnode&&O(w._vnode,null,null,!0):h(w._vnode||null,g,w,null,null,null,E),Ks(),fc(),w._vnode=g},Se={p:h,um:O,m:j,r:J,mt:k,mc:S,pc:Z,pbc:R,n:le,o:e};let M,D;return t&&([M,D]=t(Se)),{render:de,hydrate:M,createApp:mh(de,M)}}function $n({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Mc(e,t,n=!1){const o=e.children,l=t.children;if(_e(o)&&_e(l))for(let i=0;i<o.length;i++){const r=o[i];let s=l[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=l[i]=an(l[i]),s.el=r.el),n||Mc(r,s)),s.type===Ei&&(s.el=r.el)}}function $h(e){const t=e.slice(),n=[0];let o,l,i,r,s;const a=e.length;for(o=0;o<a;o++){const u=e[o];if(u!==0){if(l=n[n.length-1],e[l]<u){t[o]=l,n.push(o);continue}for(i=0,r=n.length-1;i<r;)s=i+r>>1,e[n[s]]<u?i=s+1:r=s;u<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}const Eh=e=>e.__isTeleport,Pe=Symbol.for("v-fgt"),Ei=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),Il=Symbol.for("v-stc"),Fo=[];let xt=null;function F(e=!1){Fo.push(xt=e?null:[])}function kh(){Fo.pop(),xt=Fo[Fo.length-1]||null}let qo=1;function ca(e){qo+=e}function Fc(e){return e.dynamicChildren=qo>0?xt||oo:null,kh(),qo>0&&xt&&xt.push(e),e}function W(e,t,n,o,l,i){return Fc(L(e,t,n,o,l,i,!0))}function pe(e,t,n,o,l){return Fc(B(e,t,n,o,l,!0))}function ql(e){return e?e.__v_isVNode===!0:!1}function Tn(e,t){return e.type===t.type&&e.key===t.key}const ki="__vInternal",Bc=({key:e})=>e??null,Ol=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||He(e)||xe(e)?{i:et,r:e,k:t,f:!!n}:e:null);function L(e,t=null,n=null,o=0,l=null,i=e===Pe?0:1,r=!1,s=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bc(t),ref:t&&Ol(t),scopeId:wi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:et};return s?(_s(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=je(n)?8:16),qo>0&&!r&&xt&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&xt.push(a),a}const B=Ch;function Ch(e,t=null,n=null,o=0,l=null,i=!1){if((!e||e===xc)&&(e=gt),ql(e)){const s=_n(e,t,!0);return n&&_s(s,n),qo>0&&!i&&xt&&(s.shapeFlag&6?xt[xt.indexOf(e)]=s:xt.push(s)),s.patchFlag|=-2,s}if(Ah(e)&&(e=e.__vccOpts),t){t=Ac(t);let{class:s,style:a}=t;s&&!je(s)&&(t.class=we(s)),De(a)&&(ic(a)&&!_e(a)&&(a=We({},a)),t.style=Be(a))}const r=je(e)?1:Xp(e)?128:Eh(e)?64:De(e)?4:xe(e)?2:0;return L(e,t,n,o,l,r,i,!0)}function Ac(e){return e?ic(e)||ki in e?We({},e):e:null}function _n(e,t,n=!1){const{props:o,ref:l,patchFlag:i,children:r}=e,s=t?Tt(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Bc(s),ref:t&&t.ref?n&&l?_e(l)?l.concat(Ol(t)):[l,Ol(t)]:Ol(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_n(e.ssContent),ssFallback:e.ssFallback&&_n(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ul(e=" ",t=0){return B(Ei,null,e,t)}function lt(e,t){const n=B(Il,null,e);return n.staticCount=t,n}function me(e="",t=!1){return t?(F(),pe(gt,null,e)):B(gt,null,e)}function Mt(e){return e==null||typeof e=="boolean"?B(gt):_e(e)?B(Pe,null,e.slice()):typeof e=="object"?an(e):B(Ei,null,String(e))}function an(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_n(e)}function _s(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(o&65){const l=t.default;l&&(l._c&&(l._d=!1),_s(e,l()),l._c&&(l._d=!0));return}else{n=32;const l=t._;!l&&!(ki in t)?t._ctx=et:l===3&&et&&(et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:et},n=32):(t=String(t),o&64?(n=16,t=[ul(t)]):n=8);e.children=t,e.shapeFlag|=n}function Tt(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const l in o)if(l==="class")t.class!==o.class&&(t.class=we([t.class,o.class]));else if(l==="style")t.style=Be([t.style,o.style]);else if(ci(l)){const i=t[l],r=o[l];r&&i!==r&&!(_e(i)&&i.includes(r))&&(t[l]=i?[].concat(i,r):r)}else l!==""&&(t[l]=o[l])}return t}function Vt(e,t,n,o=null){ht(e,t,7,[n,o])}const Vh=kc();let Th=0;function Nh(e,t,n){const o=e.type,l=(t?t.appContext:e.appContext)||Vh,i={uid:Th++,vnode:e,type:o,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vc(o,l),emitsOptions:hc(o,l),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:o.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Rp.bind(null,i),e.ce&&e.ce(i),i}let Ke=null;const Yn=()=>Ke||et;let ws,qn,da="__VUE_INSTANCE_SETTERS__";(qn=gr()[da])||(qn=gr()[da]=[]),qn.push(e=>Ke=e),ws=e=>{qn.length>1?qn.forEach(t=>t(e)):qn[0](e)};const po=e=>{ws(e),e.scope.on()},In=()=>{Ke&&Ke.scope.off(),ws(null)};function Ic(e){return e.vnode.shapeFlag&4}let Zo=!1;function Ph(e,t=!1){Zo=t;const{props:n,children:o}=e.vnode,l=Ic(e);vh(e,n,l,t),wh(e,o);const i=l?Mh(e,t):void 0;return Zo=!1,i}function Mh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Bt(new Proxy(e.ctx,sh));const{setup:o}=n;if(o){const l=e.setupContext=o.length>1?Dc(e):null;po(e),_o();const i=pn(o,e,0,[e.props,l]);if(wo(),In(),Uu(i)){if(i.then(In,In),t)return i.then(r=>{fa(e,r,t)}).catch(r=>{yi(r,e,0)});e.asyncDep=i}else fa(e,i,t)}else Oc(e,t)}function fa(e,t,n){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:De(t)&&(e.setupState=rc(t)),Oc(e,n)}let pa;function Oc(e,t,n){const o=e.type;if(!e.render){if(!t&&pa&&!o.render){const l=o.template||vs(e).template;if(l){const{isCustomElement:i,compilerOptions:r}=e.appContext.config,{delimiters:s,compilerOptions:a}=o,u=We(We({isCustomElement:i,delimiters:s},r),a);o.render=pa(l,u)}}e.render=o.render||St}po(e),_o(),uh(e),wo(),In()}function Fh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return at(e,"get","$attrs"),t[n]}}))}function Dc(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Fh(e)},slots:e.slots,emit:e.emit,expose:t}}function Ci(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(rc(Bt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Mo)return Mo[n](e)},has(t,n){return n in t||n in Mo}}))}function Bh(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function Ah(e){return xe(e)&&"__vccOpts"in e}const K=(e,t)=>Fp(e,t,Zo);function Me(e,t,n){const o=arguments.length;return o===2?De(t)&&!_e(t)?ql(t)?B(e,null,[t]):B(e,t):B(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&ql(n)&&(n=[n]),B(e,t,n))}const Ih=Symbol.for("v-scx"),Oh=()=>$t(Ih),Dh="3.3.4",Rh="http://www.w3.org/2000/svg",Nn=typeof document<"u"?document:null,ha=Nn&&Nn.createElement("template"),zh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const l=t?Nn.createElementNS(Rh,e):Nn.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:e=>Nn.createTextNode(e),createComment:e=>Nn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,l,i){const r=n?n.previousSibling:t.lastChild;if(l&&(l===i||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),n),!(l===i||!(l=l.nextSibling)););else{ha.innerHTML=o?`<svg>${e}</svg>`:e;const s=ha.content;if(o){const a=s.firstChild;for(;a.firstChild;)s.appendChild(a.firstChild);s.removeChild(a)}t.insertBefore(s,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Hh(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Lh(e,t,n){const o=e.style,l=je(n);if(n&&!l){if(t&&!je(t))for(const i in t)n[i]==null&&kr(o,i,"");for(const i in n)kr(o,i,n[i])}else{const i=o.display;l?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=i)}}const ma=/\s*!important$/;function kr(e,t,n){if(_e(n))n.forEach(o=>kr(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Uh(e,t);ma.test(n)?e.setProperty(Gn(o),n.replace(ma,""),"important"):e[o]=n}}const ga=["Webkit","Moz","ms"],Ji={};function Uh(e,t){const n=Ji[t];if(n)return n;let o=Dt(t);if(o!=="filter"&&o in e)return Ji[t]=o;o=pi(o);for(let l=0;l<ga.length;l++){const i=ga[l]+o;if(i in e)return Ji[t]=i}return t}const va="http://www.w3.org/1999/xlink";function jh(e,t,n,o,l){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(va,t.slice(6,t.length)):e.setAttributeNS(va,t,n);else{const i=Zf(t);n==null||i&&!Yu(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Gh(e,t,n,o,l,i,r){if(t==="innerHTML"||t==="textContent"){o&&r(o,l,i),e[t]=n??"";return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=n;const u=s==="OPTION"?e.getAttribute("value"):e.value,c=n??"";u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Yu(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function Yh(e,t,n,o){e.addEventListener(t,n,o)}function Xh(e,t,n,o){e.removeEventListener(t,n,o)}function Wh(e,t,n,o,l=null){const i=e._vei||(e._vei={}),r=i[t];if(o&&r)r.value=o;else{const[s,a]=qh(t);if(o){const u=i[t]=Jh(o,l);Yh(e,s,u,a)}else r&&(Xh(e,s,r,a),i[t]=void 0)}}const ya=/(?:Once|Passive|Capture)$/;function qh(e){let t;if(ya.test(e)){t={};let o;for(;o=e.match(ya);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gn(e.slice(2)),t]}let Qi=0;const Zh=Promise.resolve(),Kh=()=>Qi||(Zh.then(()=>Qi=0),Qi=Date.now());function Jh(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;ht(Qh(o,n.value),t,5,[o])};return n.value=e,n.attached=Kh(),n}function Qh(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>l=>!l._stopped&&o&&o(l))}else return t}const _a=/^on[a-z]/,em=(e,t,n,o,l=!1,i,r,s,a)=>{t==="class"?Hh(e,o,l):t==="style"?Lh(e,n,o):ci(t)?Zr(t)||Wh(e,t,n,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):tm(e,t,o,l))?Gh(e,t,o,i,r,s,a):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),jh(e,t,o,l))};function tm(e,t,n,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&_a.test(t)&&xe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||_a.test(t)&&je(n)?!1:t in e}const tn="transition",xo="animation",bs=(e,{slots:t})=>Me(Kp,zc(e),t);bs.displayName="Transition";const Rc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nm=bs.props=We({},vc,Rc),En=(e,t=[])=>{_e(e)?e.forEach(n=>n(...t)):e&&e(...t)},wa=e=>e?_e(e)?e.some(t=>t.length>1):e.length>1:!1;function zc(e){const t={};for(const G in e)G in Rc||(t[G]=e[G]);if(e.css===!1)return t;const{name:n="v",type:o,duration:l,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:u=r,appearToClass:c=s,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=om(l),h=m&&m[0],_=m&&m[1],{onBeforeEnter:v,onEnter:x,onEnterCancelled:C,onLeave:b,onLeaveCancelled:A,onBeforeAppear:y=v,onAppear:V=x,onAppearCancelled:S=C}=t,z=(G,ie,k)=>{on(G,ie?c:s),on(G,ie?u:r),k&&k()},R=(G,ie)=>{G._isLeaving=!1,on(G,d),on(G,f),on(G,p),ie&&ie()},te=G=>(ie,k)=>{const Y=G?V:x,P=()=>z(ie,G,k);En(Y,[ie,P]),ba(()=>{on(ie,G?a:i),Ut(ie,G?c:s),wa(Y)||xa(ie,o,h,P)})};return We(t,{onBeforeEnter(G){En(v,[G]),Ut(G,i),Ut(G,r)},onBeforeAppear(G){En(y,[G]),Ut(G,a),Ut(G,u)},onEnter:te(!1),onAppear:te(!0),onLeave(G,ie){G._isLeaving=!0;const k=()=>R(G,ie);Ut(G,d),Lc(),Ut(G,p),ba(()=>{G._isLeaving&&(on(G,d),Ut(G,f),wa(b)||xa(G,o,_,k))}),En(b,[G,k])},onEnterCancelled(G){z(G,!1),En(C,[G])},onAppearCancelled(G){z(G,!0),En(S,[G])},onLeaveCancelled(G){R(G),En(A,[G])}})}function om(e){if(e==null)return null;if(De(e))return[er(e.enter),er(e.leave)];{const t=er(e);return[t,t]}}function er(e){return Uf(e)}function Ut(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function on(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function ba(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let lm=0;function xa(e,t,n,o){const l=e._endId=++lm,i=()=>{l===e._endId&&o()};if(n)return setTimeout(i,n);const{type:r,timeout:s,propCount:a}=Hc(e,t);if(!r)return o();const u=r+"end";let c=0;const d=()=>{e.removeEventListener(u,p),i()},p=f=>{f.target===e&&++c>=a&&d()};setTimeout(()=>{c<a&&d()},s+1),e.addEventListener(u,p)}function Hc(e,t){const n=window.getComputedStyle(e),o=m=>(n[m]||"").split(", "),l=o(`${tn}Delay`),i=o(`${tn}Duration`),r=Sa(l,i),s=o(`${xo}Delay`),a=o(`${xo}Duration`),u=Sa(s,a);let c=null,d=0,p=0;t===tn?r>0&&(c=tn,d=r,p=i.length):t===xo?u>0&&(c=xo,d=u,p=a.length):(d=Math.max(r,u),c=d>0?r>u?tn:xo:null,p=c?c===tn?i.length:a.length:0);const f=c===tn&&/\b(transform|all)(,|$)/.test(o(`${tn}Property`).toString());return{type:c,timeout:d,propCount:p,hasTransform:f}}function Sa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>$a(n)+$a(e[o])))}function $a(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Lc(){return document.body.offsetHeight}const Uc=new WeakMap,jc=new WeakMap,Gc={name:"TransitionGroup",props:We({},nm,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Yn(),o=gc();let l,i;return bc(()=>{if(!l.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!cm(l[0].el,n.vnode.el,r))return;l.forEach(sm),l.forEach(am);const s=l.filter(um);Lc(),s.forEach(a=>{const u=a.el,c=u.style;Ut(u,r),c.transform=c.webkitTransform=c.transitionDuration="";const d=u._moveCb=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,on(u,r))};u.addEventListener("transitionend",d)})}),()=>{const r=Ve(e),s=zc(r);let a=r.tag||Pe;l=i,i=t.default?fs(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Xo(c,Yo(c,s,o,n))}if(l)for(let u=0;u<l.length;u++){const c=l[u];Xo(c,Yo(c,s,o,n)),Uc.set(c,c.el.getBoundingClientRect())}return B(a,null,i)}}},im=e=>delete e.mode;Gc.props;const rm=Gc;function sm(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function am(e){jc.set(e,e.el.getBoundingClientRect())}function um(e){const t=Uc.get(e),n=jc.get(e),o=t.left-n.left,l=t.top-n.top;if(o||l){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${o}px,${l}px)`,i.transitionDuration="0s",e}}function cm(e,t,n){const o=e.cloneNode();e._vtc&&e._vtc.forEach(r=>{r.split(/\s+/).forEach(s=>s&&o.classList.remove(s))}),n.split(/\s+/).forEach(r=>r&&o.classList.add(r)),o.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(o);const{hasTransform:i}=Hc(o);return l.removeChild(o),i}const dm=["ctrl","shift","alt","meta"],fm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>dm.some(n=>e[`${n}Key`]&&!t.includes(n))},Ko=(e,t)=>(n,...o)=>{for(let l=0;l<t.length;l++){const i=fm[t[l]];if(i&&i(n,t))return}return e(n,...o)},pm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hm=(e,t)=>n=>{if(!("key"in n))return;const o=Gn(n.key);if(t.some(l=>l===o||pm[l]===o))return e(n)},Ea={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):So(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),So(e,!0),o.enter(e)):o.leave(e,()=>{So(e,!1)}):So(e,t))},beforeUnmount(e,{value:t}){So(e,t)}};function So(e,t){e.style.display=t?e._vod:"none"}const mm=We({patchProp:em},zh);let ka;function gm(){return ka||(ka=xh(mm))}const Yc=(...e)=>{const t=gm().createApp(...e),{mount:n}=t;return t.mount=o=>{const l=vm(o);if(!l)return;const i=t._component;!xe(i)&&!i.render&&!i.template&&(i.template=l.innerHTML),l.innerHTML="";const r=n(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),r},t};function vm(e){return je(e)?document.querySelector(e):e}var ym=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Xc;const Vi=e=>Xc=e,Wc=Symbol();function Cr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Bo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Bo||(Bo={}));function _m(){const e=hi(!0),t=e.run(()=>ne({}));let n=[],o=[];const l=Bt({install(i){Vi(l),l._a=i,i.provide(Wc,l),i.config.globalProperties.$pinia=l,o.forEach(r=>n.push(r)),o=[]},use(i){return!this._a&&!ym?o.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return l}const qc=()=>{};function Ca(e,t,n,o=qc){e.push(t);const l=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),o())};return!n&&mi()&&No(l),l}function Zn(e,...t){e.slice().forEach(n=>{n(...t)})}const wm=e=>e();function Vr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],l=e[n];Cr(l)&&Cr(o)&&e.hasOwnProperty(n)&&!He(o)&&!fn(o)?e[n]=Vr(l,o):e[n]=o}return e}const bm=Symbol();function xm(e){return!Cr(e)||!e.hasOwnProperty(bm)}const{assign:ln}=Object;function Sm(e){return!!(He(e)&&e.effect)}function $m(e,t,n,o){const{state:l,actions:i,getters:r}=t,s=n.state.value[e];let a;function u(){s||(n.state.value[e]=l?l():{});const c=ac(n.state.value[e]);return ln(c,i,Object.keys(r||{}).reduce((d,p)=>(d[p]=Bt(K(()=>{Vi(n);const f=n._s.get(e);return r[p].call(f,f)})),d),{}))}return a=Zc(e,u,t,n,o,!0),a}function Zc(e,t,n={},o,l,i){let r;const s=ln({actions:{}},n),a={deep:!0};let u,c,d=[],p=[],f;const m=o.state.value[e];!i&&!m&&(o.state.value[e]={}),ne({});let h;function _(S){let z;u=c=!1,typeof S=="function"?(S(o.state.value[e]),z={type:Bo.patchFunction,storeId:e,events:f}):(Vr(o.state.value[e],S),z={type:Bo.patchObject,payload:S,storeId:e,events:f});const R=h=Symbol();nt().then(()=>{h===R&&(u=!0)}),c=!0,Zn(d,z,o.state.value[e])}const v=i?function(){const{state:z}=n,R=z?z():{};this.$patch(te=>{ln(te,R)})}:qc;function x(){r.stop(),d=[],p=[],o._s.delete(e)}function C(S,z){return function(){Vi(o);const R=Array.from(arguments),te=[],G=[];function ie(P){te.push(P)}function k(P){G.push(P)}Zn(p,{args:R,name:S,store:A,after:ie,onError:k});let Y;try{Y=z.apply(this&&this.$id===e?this:A,R)}catch(P){throw Zn(G,P),P}return Y instanceof Promise?Y.then(P=>(Zn(te,P),P)).catch(P=>(Zn(G,P),Promise.reject(P))):(Zn(te,Y),Y)}}const b={_p:o,$id:e,$onAction:Ca.bind(null,p),$patch:_,$reset:v,$subscribe(S,z={}){const R=Ca(d,S,z.detached,()=>te()),te=r.run(()=>$e(()=>o.state.value[e],G=>{(z.flush==="sync"?c:u)&&S({storeId:e,type:Bo.direct,events:f},G)},ln({},a,z)));return R},$dispose:x},A=al(b);o._s.set(e,A);const y=o._a&&o._a.runWithContext||wm,V=o._e.run(()=>(r=hi(),y(()=>r.run(t))));for(const S in V){const z=V[S];if(He(z)&&!Sm(z)||fn(z))i||(m&&xm(z)&&(He(z)?z.value=m[S]:Vr(z,m[S])),o.state.value[e][S]=z);else if(typeof z=="function"){const R=C(S,z);V[S]=R,s.actions[S]=z}}return ln(A,V),ln(Ve(A),V),Object.defineProperty(A,"$state",{get:()=>o.state.value[e],set:S=>{_(z=>{ln(z,S)})}}),o._p.forEach(S=>{ln(A,r.run(()=>S({store:A,app:o._a,pinia:o,options:s})))}),m&&i&&n.hydrate&&n.hydrate(A.$state,m),u=!0,c=!0,A}function Em(e,t,n){let o,l;const i=typeof t=="function";typeof e=="string"?(o=e,l=i?n:t):(l=e,o=e.id);function r(s,a){const u=gh();return s=s||(u?$t(Wc,null):null),s&&Vi(s),s=Xc,s._s.has(o)||(i?Zc(o,t,l,s):$m(o,l,s)),s._s.get(o)}return r.$id=o,r}const km=["top","right","bottom","left"],Va=["start","end"],Ta=km.reduce((e,t)=>e.concat(t,t+"-"+Va[0],t+"-"+Va[1]),[]),Jo=Math.min,Cn=Math.max,Cm={left:"right",right:"left",bottom:"top",top:"bottom"},Vm={start:"end",end:"start"};function Tr(e,t,n){return Cn(e,Jo(t,n))}function Xn(e,t){return typeof e=="function"?e(t):e}function Rt(e){return e.split("-")[0]}function Et(e){return e.split("-")[1]}function Kc(e){return e==="x"?"y":"x"}function xs(e){return e==="y"?"height":"width"}function cl(e){return["top","bottom"].includes(Rt(e))?"y":"x"}function Ss(e){return Kc(cl(e))}function Jc(e,t,n){n===void 0&&(n=!1);const o=Et(e),l=Ss(e),i=xs(l);let r=l==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(r=Kl(r)),[r,Kl(r)]}function Tm(e){const t=Kl(e);return[Zl(e),t,Zl(t)]}function Zl(e){return e.replace(/start|end/g,t=>Vm[t])}function Nm(e,t,n){const o=["left","right"],l=["right","left"],i=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?l:o:t?o:l;case"left":case"right":return t?i:r;default:return[]}}function Pm(e,t,n,o){const l=Et(e);let i=Nm(Rt(e),n==="start",o);return l&&(i=i.map(r=>r+"-"+l),t&&(i=i.concat(i.map(Zl)))),i}function Kl(e){return e.replace(/left|right|bottom|top/g,t=>Cm[t])}function Mm(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qc(e){return typeof e!="number"?Mm(e):{top:e,right:e,bottom:e,left:e}}function Ao(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Na(e,t,n){let{reference:o,floating:l}=e;const i=cl(t),r=Ss(t),s=xs(r),a=Rt(t),u=i==="y",c=o.x+o.width/2-l.width/2,d=o.y+o.height/2-l.height/2,p=o[s]/2-l[s]/2;let f;switch(a){case"top":f={x:c,y:o.y-l.height};break;case"bottom":f={x:c,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:d};break;case"left":f={x:o.x-l.width,y:d};break;default:f={x:o.x,y:o.y}}switch(Et(t)){case"start":f[r]-=p*(n&&u?-1:1);break;case"end":f[r]+=p*(n&&u?-1:1);break}return f}const Fm=async(e,t,n)=>{const{placement:o="bottom",strategy:l="absolute",middleware:i=[],platform:r}=n,s=i.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(t));let u=await r.getElementRects({reference:e,floating:t,strategy:l}),{x:c,y:d}=Na(u,o,a),p=o,f={},m=0;for(let h=0;h<s.length;h++){const{name:_,fn:v}=s[h],{x,y:C,data:b,reset:A}=await v({x:c,y:d,initialPlacement:o,placement:p,strategy:l,middlewareData:f,rects:u,platform:r,elements:{reference:e,floating:t}});if(c=x??c,d=C??d,f={...f,[_]:{...f[_],...b}},A&&m<=50){m++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(u=A.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:l}):A.rects),{x:c,y:d}=Na(u,p,a)),h=-1;continue}}return{x:c,y:d,placement:p,strategy:l,middlewareData:f}};async function Ti(e,t){var n;t===void 0&&(t={});const{x:o,y:l,platform:i,rects:r,elements:s,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=Xn(t,e),m=Qc(f),_=s[p?d==="floating"?"reference":"floating":d],v=Ao(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:a})),x=d==="floating"?{...r.floating,x:o,y:l}:r.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),b=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},A=Ao(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:C,strategy:a}):x);return{top:(v.top-A.top+m.top)/b.y,bottom:(A.bottom-v.bottom+m.bottom)/b.y,left:(v.left-A.left+m.left)/b.x,right:(A.right-v.right+m.right)/b.x}}const Bm=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:l,rects:i,platform:r,elements:s,middlewareData:a}=t,{element:u,padding:c=0}=Xn(e,t)||{};if(u==null)return{};const d=Qc(c),p={x:n,y:o},f=Ss(l),m=xs(f),h=await r.getDimensions(u),_=f==="y",v=_?"top":"left",x=_?"bottom":"right",C=_?"clientHeight":"clientWidth",b=i.reference[m]+i.reference[f]-p[f]-i.floating[m],A=p[f]-i.reference[f],y=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u));let V=y?y[C]:0;(!V||!await(r.isElement==null?void 0:r.isElement(y)))&&(V=s.floating[C]||i.floating[m]);const S=b/2-A/2,z=V/2-h[m]/2-1,R=Jo(d[v],z),te=Jo(d[x],z),G=R,ie=V-h[m]-te,k=V/2-h[m]/2+S,Y=Tr(G,k,ie),P=!a.arrow&&Et(l)!=null&&k!=Y&&i.reference[m]/2-(k<G?R:te)-h[m]/2<0,U=P?k<G?k-G:k-ie:0;return{[f]:p[f]+U,data:{[f]:Y,centerOffset:k-Y-U,...P&&{alignmentOffset:U}},reset:P}}});function Am(e,t,n){return(e?[...n.filter(l=>Et(l)===e),...n.filter(l=>Et(l)!==e)]:n.filter(l=>Rt(l)===l)).filter(l=>e?Et(l)===e||(t?Zl(l)!==l:!1):!0)}const Im=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,l;const{rects:i,middlewareData:r,placement:s,platform:a,elements:u}=t,{crossAxis:c=!1,alignment:d,allowedPlacements:p=Ta,autoAlignment:f=!0,...m}=Xn(e,t),h=d!==void 0||p===Ta?Am(d||null,f,p):p,_=await Ti(t,m),v=((n=r.autoPlacement)==null?void 0:n.index)||0,x=h[v];if(x==null)return{};const C=Jc(x,i,await(a.isRTL==null?void 0:a.isRTL(u.floating)));if(s!==x)return{reset:{placement:h[0]}};const b=[_[Rt(x)],_[C[0]],_[C[1]]],A=[...((o=r.autoPlacement)==null?void 0:o.overflows)||[],{placement:x,overflows:b}],y=h[v+1];if(y)return{data:{index:v+1,overflows:A},reset:{placement:y}};const V=A.map(R=>{const te=Et(R.placement);return[R.placement,te&&c?R.overflows.slice(0,2).reduce((G,ie)=>G+ie,0):R.overflows[0],R.overflows]}).sort((R,te)=>R[1]-te[1]),z=((l=V.filter(R=>R[2].slice(0,Et(R[0])?2:3).every(te=>te<=0))[0])==null?void 0:l[0])||V[0][0];return z!==s?{data:{index:v+1,overflows:A},reset:{placement:z}}:{}}}},Om=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:l,middlewareData:i,rects:r,initialPlacement:s,platform:a,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,..._}=Xn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Rt(l),x=Rt(s)===s,C=await(a.isRTL==null?void 0:a.isRTL(u.floating)),b=p||(x||!h?[Kl(s)]:Tm(s));!p&&m!=="none"&&b.push(...Pm(s,h,m,C));const A=[s,...b],y=await Ti(t,_),V=[];let S=((o=i.flip)==null?void 0:o.overflows)||[];if(c&&V.push(y[v]),d){const G=Jc(l,r,C);V.push(y[G[0]],y[G[1]])}if(S=[...S,{placement:l,overflows:V}],!V.every(G=>G<=0)){var z,R;const G=(((z=i.flip)==null?void 0:z.index)||0)+1,ie=A[G];if(ie)return{data:{index:G,overflows:S},reset:{placement:ie}};let k=(R=S.filter(Y=>Y.overflows[0]<=0).sort((Y,P)=>Y.overflows[1]-P.overflows[1])[0])==null?void 0:R.placement;if(!k)switch(f){case"bestFit":{var te;const Y=(te=S.map(P=>[P.placement,P.overflows.filter(U=>U>0).reduce((U,Z)=>U+Z,0)]).sort((P,U)=>P[1]-U[1])[0])==null?void 0:te[0];Y&&(k=Y);break}case"initialPlacement":k=s;break}if(l!==k)return{reset:{placement:k}}}return{}}}};async function Dm(e,t){const{placement:n,platform:o,elements:l}=e,i=await(o.isRTL==null?void 0:o.isRTL(l.floating)),r=Rt(n),s=Et(n),a=cl(n)==="y",u=["left","top"].includes(r)?-1:1,c=i&&a?-1:1,d=Xn(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&typeof m=="number"&&(f=s==="end"?m*-1:m),a?{x:f*c,y:p*u}:{x:p*u,y:f*c}}const Rm=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:o}=t,l=await Dm(t,e);return{x:n+l.x,y:o+l.y,data:l}}}},zm=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:l}=t,{mainAxis:i=!0,crossAxis:r=!1,limiter:s={fn:_=>{let{x:v,y:x}=_;return{x:v,y:x}}},...a}=Xn(e,t),u={x:n,y:o},c=await Ti(t,a),d=cl(Rt(l)),p=Kc(d);let f=u[p],m=u[d];if(i){const _=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=f+c[_],C=f-c[v];f=Tr(x,f,C)}if(r){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=m+c[_],C=m-c[v];m=Tr(x,m,C)}const h=s.fn({...t,[p]:f,[d]:m});return{...h,data:{x:h.x-n,y:h.y-o}}}}},Hm=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:o,platform:l,elements:i}=t,{apply:r=()=>{},...s}=Xn(e,t),a=await Ti(t,s),u=Rt(n),c=Et(n),d=cl(n)==="y",{width:p,height:f}=o.floating;let m,h;u==="top"||u==="bottom"?(m=u,h=c===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(h=u,m=c==="end"?"top":"bottom");const _=f-a[m],v=p-a[h],x=!t.middlewareData.shift;let C=_,b=v;if(d){const y=p-a.left-a.right;b=c||x?Jo(v,y):y}else{const y=f-a.top-a.bottom;C=c||x?Jo(_,y):y}if(x&&!c){const y=Cn(a.left,0),V=Cn(a.right,0),S=Cn(a.top,0),z=Cn(a.bottom,0);d?b=p-2*(y!==0||V!==0?y+V:Cn(a.left,a.right)):C=f-2*(S!==0||z!==0?S+z:Cn(a.top,a.bottom))}await r({...t,availableWidth:b,availableHeight:C});const A=await l.getDimensions(i.floating);return p!==A.width||f!==A.height?{reset:{rects:!0}}:{}}}};function pt(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function At(e){return pt(e).getComputedStyle(e)}const Pa=Math.min,Io=Math.max,Jl=Math.round;function ed(e){const t=At(e);let n=parseFloat(t.width),o=parseFloat(t.height);const l=e.offsetWidth,i=e.offsetHeight,r=Jl(n)!==l||Jl(o)!==i;return r&&(n=l,o=i),{width:n,height:o,fallback:r}}function wn(e){return nd(e)?(e.nodeName||"").toLowerCase():""}let xl;function td(){if(xl)return xl;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(xl=e.brands.map(t=>t.brand+"/"+t.version).join(" "),xl):navigator.userAgent}function It(e){return e instanceof pt(e).HTMLElement}function hn(e){return e instanceof pt(e).Element}function nd(e){return e instanceof pt(e).Node}function Ma(e){return typeof ShadowRoot>"u"?!1:e instanceof pt(e).ShadowRoot||e instanceof ShadowRoot}function Ni(e){const{overflow:t,overflowX:n,overflowY:o,display:l}=At(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(l)}function Lm(e){return["table","td","th"].includes(wn(e))}function Nr(e){const t=/firefox/i.test(td()),n=At(e),o=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!o&&o!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(l=>n.willChange.includes(l))||["paint","layout","strict","content"].some(l=>{const i=n.contain;return i!=null&&i.includes(l)})}function od(){return!/^((?!chrome|android).)*safari/i.test(td())}function $s(e){return["html","body","#document"].includes(wn(e))}function ld(e){return hn(e)?e:e.contextElement}const id={x:1,y:1};function ro(e){const t=ld(e);if(!It(t))return id;const n=t.getBoundingClientRect(),{width:o,height:l,fallback:i}=ed(t);let r=(i?Jl(n.width):n.width)/o,s=(i?Jl(n.height):n.height)/l;return r&&Number.isFinite(r)||(r=1),s&&Number.isFinite(s)||(s=1),{x:r,y:s}}function Qo(e,t,n,o){var l,i;t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=ld(e);let a=id;t&&(o?hn(o)&&(a=ro(o)):a=ro(e));const u=s?pt(s):window,c=!od()&&n;let d=(r.left+(c&&((l=u.visualViewport)==null?void 0:l.offsetLeft)||0))/a.x,p=(r.top+(c&&((i=u.visualViewport)==null?void 0:i.offsetTop)||0))/a.y,f=r.width/a.x,m=r.height/a.y;if(s){const h=pt(s),_=o&&hn(o)?pt(o):o;let v=h.frameElement;for(;v&&o&&_!==h;){const x=ro(v),C=v.getBoundingClientRect(),b=getComputedStyle(v);C.x+=(v.clientLeft+parseFloat(b.paddingLeft))*x.x,C.y+=(v.clientTop+parseFloat(b.paddingTop))*x.y,d*=x.x,p*=x.y,f*=x.x,m*=x.y,d+=C.x,p+=C.y,v=pt(v).frameElement}}return{width:f,height:m,top:p,right:d+f,bottom:p+m,left:d,x:d,y:p}}function mn(e){return((nd(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pi(e){return hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function rd(e){return Qo(mn(e)).left+Pi(e).scrollLeft}function el(e){if(wn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ma(e)&&e.host||mn(e);return Ma(t)?t.host:t}function sd(e){const t=el(e);return $s(t)?t.ownerDocument.body:It(t)&&Ni(t)?t:sd(t)}function Ql(e,t){var n;t===void 0&&(t=[]);const o=sd(e),l=o===((n=e.ownerDocument)==null?void 0:n.body),i=pt(o);return l?t.concat(i,i.visualViewport||[],Ni(o)?o:[]):t.concat(o,Ql(o))}function Fa(e,t,n){return t==="viewport"?Ao(function(o,l){const i=pt(o),r=mn(o),s=i.visualViewport;let a=r.clientWidth,u=r.clientHeight,c=0,d=0;if(s){a=s.width,u=s.height;const p=od();(p||!p&&l==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:a,height:u,x:c,y:d}}(e,n)):hn(t)?Ao(function(o,l){const i=Qo(o,!0,l==="fixed"),r=i.top+o.clientTop,s=i.left+o.clientLeft,a=It(o)?ro(o):{x:1,y:1};return{width:o.clientWidth*a.x,height:o.clientHeight*a.y,x:s*a.x,y:r*a.y}}(t,n)):Ao(function(o){const l=mn(o),i=Pi(o),r=o.ownerDocument.body,s=Io(l.scrollWidth,l.clientWidth,r.scrollWidth,r.clientWidth),a=Io(l.scrollHeight,l.clientHeight,r.scrollHeight,r.clientHeight);let u=-i.scrollLeft+rd(o);const c=-i.scrollTop;return At(r).direction==="rtl"&&(u+=Io(l.clientWidth,r.clientWidth)-s),{width:s,height:a,x:u,y:c}}(mn(e)))}function Ba(e){return It(e)&&At(e).position!=="fixed"?e.offsetParent:null}function Aa(e){const t=pt(e);let n=Ba(e);for(;n&&Lm(n)&&At(n).position==="static";)n=Ba(n);return n&&(wn(n)==="html"||wn(n)==="body"&&At(n).position==="static"&&!Nr(n))?t:n||function(o){let l=el(o);for(;It(l)&&!$s(l);){if(Nr(l))return l;l=el(l)}return null}(e)||t}function Um(e,t,n){const o=It(t),l=mn(t),i=Qo(e,!0,n==="fixed",t);let r={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(o||!o&&n!=="fixed")if((wn(t)!=="body"||Ni(l))&&(r=Pi(t)),It(t)){const a=Qo(t,!0);s.x=a.x+t.clientLeft,s.y=a.y+t.clientTop}else l&&(s.x=rd(l));return{x:i.left+r.scrollLeft-s.x,y:i.top+r.scrollTop-s.y,width:i.width,height:i.height}}const jm={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:l}=e;const i=n==="clippingAncestors"?function(u,c){const d=c.get(u);if(d)return d;let p=Ql(u).filter(_=>hn(_)&&wn(_)!=="body"),f=null;const m=At(u).position==="fixed";let h=m?el(u):u;for(;hn(h)&&!$s(h);){const _=At(h),v=Nr(h);(m?v||f:v||_.position!=="static"||!f||!["absolute","fixed"].includes(f.position))?f=_:p=p.filter(x=>x!==h),h=el(h)}return c.set(u,p),p}(t,this._c):[].concat(n),r=[...i,o],s=r[0],a=r.reduce((u,c)=>{const d=Fa(t,c,l);return u.top=Io(d.top,u.top),u.right=Pa(d.right,u.right),u.bottom=Pa(d.bottom,u.bottom),u.left=Io(d.left,u.left),u},Fa(t,s,l));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:o}=e;const l=It(n),i=mn(n);if(n===i)return t;let r={scrollLeft:0,scrollTop:0},s={x:1,y:1};const a={x:0,y:0};if((l||!l&&o!=="fixed")&&((wn(n)!=="body"||Ni(i))&&(r=Pi(n)),It(n))){const u=Qo(n);s=ro(n),a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-r.scrollLeft*s.x+a.x,y:t.y*s.y-r.scrollTop*s.y+a.y}},isElement:hn,getDimensions:function(e){return It(e)?ed(e):e.getBoundingClientRect()},getOffsetParent:Aa,getDocumentElement:mn,getScale:ro,async getElementRects(e){let{reference:t,floating:n,strategy:o}=e;const l=this.getOffsetParent||Aa,i=this.getDimensions;return{reference:Um(t,await l(n),o),floating:{x:0,y:0,...await i(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>At(e).direction==="rtl"},Gm=(e,t,n)=>{const o=new Map,l={platform:jm,...n},i={...l.platform,_c:o};return Fm(e,t,{...l,platform:i})};function ad(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&e[n]?ad(e[n],t[n]):e[n]=t[n])}const qt={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function tl(e,t){let n=qt.themes[e]||{},o;do o=n[t],typeof o>"u"?n.$extend?n=qt.themes[n.$extend]||{}:(n=null,o=qt[t]):n=null;while(n);return o}function Ym(e){const t=[e];let n=qt.themes[e]||{};do n.$extend&&!n.$resetCss?(t.push(n.$extend),n=qt.themes[n.$extend]||{}):n=null;while(n);return t.map(o=>`v-popper--theme-${o}`)}function Ia(e){const t=[e];let n=qt.themes[e]||{};do n.$extend?(t.push(n.$extend),n=qt.themes[n.$extend]||{}):n=null;while(n);return t}let Ln=!1;if(typeof window<"u"){Ln=!1;try{const e=Object.defineProperty({},"passive",{get(){Ln=!0}});window.addEventListener("test",null,e)}catch{}}let ud=!1;typeof window<"u"&&typeof navigator<"u"&&(ud=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const cd=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),Oa={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},Da={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function Ra(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function tr(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const _t=[];let kn=null;const za={};function Ha(e){let t=za[e];return t||(t=za[e]=[]),t}let Pr=function(){};typeof window<"u"&&(Pr=window.Element);function Te(e){return function(t){return tl(t.theme,e)}}const nr="__floating-vue__popper",dd=()=>ue({name:"VPopper",provide(){return{[nr]:{parentPopper:this}}},inject:{[nr]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:Te("disabled")},positioningDisabled:{type:Boolean,default:Te("positioningDisabled")},placement:{type:String,default:Te("placement"),validator:e=>cd.includes(e)},delay:{type:[String,Number,Object],default:Te("delay")},distance:{type:[Number,String],default:Te("distance")},skidding:{type:[Number,String],default:Te("skidding")},triggers:{type:Array,default:Te("triggers")},showTriggers:{type:[Array,Function],default:Te("showTriggers")},hideTriggers:{type:[Array,Function],default:Te("hideTriggers")},popperTriggers:{type:Array,default:Te("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:Te("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:Te("popperHideTriggers")},container:{type:[String,Object,Pr,Boolean],default:Te("container")},boundary:{type:[String,Pr],default:Te("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:Te("strategy")},autoHide:{type:[Boolean,Function],default:Te("autoHide")},handleResize:{type:Boolean,default:Te("handleResize")},instantMove:{type:Boolean,default:Te("instantMove")},eagerMount:{type:Boolean,default:Te("eagerMount")},popperClass:{type:[String,Array,Object],default:Te("popperClass")},computeTransformOrigin:{type:Boolean,default:Te("computeTransformOrigin")},autoMinSize:{type:Boolean,default:Te("autoMinSize")},autoSize:{type:[Boolean,String],default:Te("autoSize")},autoMaxSize:{type:Boolean,default:Te("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:Te("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:Te("preventOverflow")},overflowPadding:{type:[Number,String],default:Te("overflowPadding")},arrowPadding:{type:[Number,String],default:Te("arrowPadding")},arrowOverflow:{type:Boolean,default:Te("arrowOverflow")},flip:{type:Boolean,default:Te("flip")},shift:{type:Boolean,default:Te("shift")},shiftCrossAxis:{type:Boolean,default:Te("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:Te("noAutoFocus")},disposeTimeout:{type:Number,default:Te("disposeTimeout")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[nr])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},...["triggers","positioningDisabled"].reduce((e,t)=>(e[t]="$_refreshListeners",e),{}),...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})},created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:n=!1}={}){var o,l;(o=this.parentPopper)!=null&&o.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((l=this.parentPopper)==null?void 0:l.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var e;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((e=this.referenceNode)==null?void 0:e.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(t=>t.nodeType===t.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.$_isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(Rm({mainAxis:this.distance,crossAxis:this.skidding}));const t=this.placement.startsWith("auto");if(t?e.middleware.push(Im({alignment:this.placement.split("-")[1]??""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(zm({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!t&&this.flip&&e.middleware.push(Om({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(Bm({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:o,rects:l,middlewareData:i})=>{let r;const{centerOffset:s}=i.arrow;return o.startsWith("top")||o.startsWith("bottom")?r=Math.abs(s)>l.reference.width/2:r=Math.abs(s)>l.reference.height/2,{data:{overflow:r}}}}),this.autoMinSize||this.autoSize){const o=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:l,placement:i,middlewareData:r})=>{var s;if((s=r.autoSize)!=null&&s.skip)return{};let a,u;return i.startsWith("top")||i.startsWith("bottom")?a=l.reference.width:u=l.reference.height,this.$_innerNode.style[o==="min"?"minWidth":o==="max"?"maxWidth":"width"]=a!=null?`${a}px`:null,this.$_innerNode.style[o==="min"?"minHeight":o==="max"?"maxHeight":"height"]=u!=null?`${u}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(Hm({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:o,availableHeight:l})=>{this.$_innerNode.style.maxWidth=o!=null?`${o}px`:null,this.$_innerNode.style.maxHeight=l!=null?`${l}px`:null}})));const n=await Gm(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:n.x,y:n.y,placement:n.placement,strategy:n.strategy,arrow:{...n.middlewareData.arrow,...n.middlewareData.arrowOverflow}})},$_scheduleShow(e=null,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),kn&&this.instantMove&&kn.instantMove&&kn!==this.parentPopper){kn.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e=null,t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(kn=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await tr(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...Ql(this.$_referenceNode),...Ql(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),o=n.parentNode.getBoundingClientRect(),l=t.x+t.width/2-(o.left+n.offsetLeft),i=t.y+t.height/2-(o.top+n.offsetTop);this.result.transformOrigin=`${l}px ${i}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let n=0;n<_t.length;n++)t=_t[n],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}_t.push(this),document.body.classList.add("v-popper--some-open");for(const t of Ia(this.theme))Ha(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await tr(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,Ra(_t,this),_t.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of Ia(this.theme)){const o=Ha(n);Ra(o,this),o.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}kn===this&&(kn=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=this.disposeTimeout;t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await tr(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,Oa,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],Oa,this.popperTriggers,this.popperShowTriggers,e);const t=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,Da,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],Da,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,n){this.$_events.push({targetNodes:e,eventType:t,handler:n}),e.forEach(o=>o.addEventListener(t,n,Ln?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,n,o,l){let i=n;o!=null&&(i=typeof o=="function"?o(i):o),i.forEach(r=>{const s=t[r];s&&this.$_registerEventListeners(e,s,l)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(n=>{const{targetNodes:o,eventType:l,handler:i}=n;!e||e===l?o.forEach(r=>r.removeEventListener(l,i)):t.push(n)}),this.$_events=t},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const n of this.$_targetNodes){const o=n.getAttribute(e);o&&(n.removeAttribute(e),n.setAttribute(t,o))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const n in e){const o=e[n];o==null?t.removeAttribute(n):t.setAttribute(n,o)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.$_pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(Oo>=e.left&&Oo<=e.right&&Do>=e.top&&Do<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),n=Oo-rn,o=Do-sn,l=t.left+t.width/2-rn+(t.top+t.height/2)-sn+t.width+t.height,i=rn+n*l,r=sn+o*l;return Sl(rn,sn,i,r,t.left,t.top,t.left,t.bottom)||Sl(rn,sn,i,r,t.left,t.top,t.right,t.top)||Sl(rn,sn,i,r,t.right,t.top,t.right,t.bottom)||Sl(rn,sn,i,r,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document<"u"&&typeof window<"u"&&(ud?(document.addEventListener("touchstart",La,Ln?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",Wm,Ln?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",La,!0),window.addEventListener("click",Xm,!0)),window.addEventListener("resize",Km));function La(e){for(let t=0;t<_t.length;t++){const n=_t[t];try{const o=n.popperNode();n.$_mouseDownContains=o.contains(e.target)}catch{}}}function Xm(e){fd(e)}function Wm(e){fd(e,!0)}function fd(e,t=!1){const n={};for(let o=_t.length-1;o>=0;o--){const l=_t[o];try{const i=l.$_containsGlobalTarget=qm(l,e);l.$_pendingHide=!1,requestAnimationFrame(()=>{if(l.$_pendingHide=!1,!n[l.randomId]&&Ua(l,i,e)){if(l.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&i){let s=l.parentPopper;for(;s;)n[s.randomId]=!0,s=s.parentPopper;return}let r=l.parentPopper;for(;r&&Ua(r,r.$_containsGlobalTarget,e);)r.$_handleGlobalClose(e,t),r=r.parentPopper}})}catch{}}}function qm(e,t){const n=e.popperNode();return e.$_mouseDownContains||n.contains(t.target)}function Ua(e,t,n){return n.closeAllPopover||n.closePopover&&t||Zm(e,n)&&!t}function Zm(e,t){if(typeof e.autoHide=="function"){const n=e.autoHide(t);return e.lastAutoHide=n,n}return e.autoHide}function Km(e){for(let t=0;t<_t.length;t++)_t[t].$_computePosition(e)}let rn=0,sn=0,Oo=0,Do=0;typeof window<"u"&&window.addEventListener("mousemove",e=>{rn=Oo,sn=Do,Oo=e.clientX,Do=e.clientY},Ln?{passive:!0}:void 0);function Sl(e,t,n,o,l,i,r,s){const a=((r-l)*(t-i)-(s-i)*(e-l))/((s-i)*(n-e)-(r-l)*(o-t)),u=((n-e)*(t-i)-(o-t)*(e-l))/((s-i)*(n-e)-(r-l)*(o-t));return a>=0&&a<=1&&u>=0&&u<=1}const Jm={extends:dd()},Mi=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n};function Qm(e,t,n,o,l,i){return F(),W("div",{ref:"reference",class:we(["v-popper",{"v-popper--shown":e.slotData.isShown}])},[Ee(e.$slots,"default",Wf(Ac(e.slotData)))],2)}const eg=Mi(Jm,[["render",Qm]]);function tg(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}var l=e.indexOf("Edge/");return l>0?parseInt(e.substring(l+5,e.indexOf(".",l)),10):-1}let Dl;function Mr(){Mr.init||(Mr.init=!0,Dl=tg()!==-1)}var Fi={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){Mr(),nt(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Dl&&this.$el.appendChild(e),e.data="about:blank",Dl||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Dl&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const ng=Lp();zp("data-v-b329ee4c");const og={class:"resize-observer",tabindex:"-1"};Hp();const lg=ng((e,t,n,o,l,i)=>(F(),pe("div",og)));Fi.render=lg;Fi.__scopeId="data-v-b329ee4c";Fi.__file="src/components/ResizeObserver.vue";const pd=(e="theme")=>({computed:{themeClass(){return Ym(this[e])}}}),ig=ue({name:"VPopperContent",components:{ResizeObserver:Fi},mixins:[pd()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),rg=["id","aria-hidden","tabindex","data-popper-placement"],sg={ref:"inner",class:"v-popper__inner"},ag=L("div",{class:"v-popper__arrow-outer"},null,-1),ug=L("div",{class:"v-popper__arrow-inner"},null,-1),cg=[ag,ug];function dg(e,t,n,o,l,i){const r=zn("ResizeObserver");return F(),W("div",{id:e.popperId,ref:"popover",class:we(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:Be(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=hm(s=>e.autoHide&&e.$emit("hide"),["esc"]))},[L("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=s=>e.autoHide&&e.$emit("hide"))}),L("div",{class:"v-popper__wrapper",style:Be(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[L("div",sg,[e.mounted?(F(),W(Pe,{key:0},[L("div",null,[Ee(e.$slots,"default")]),e.handleResize?(F(),pe(r,{key:0,onNotify:t[1]||(t[1]=s=>e.$emit("resize",s))})):me("",!0)],64)):me("",!0)],512),L("div",{ref:"arrow",class:"v-popper__arrow-container",style:Be(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},cg,4)],4)],46,rg)}const hd=Mi(ig,[["render",dg]]),md={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}},fg=ue({name:"VPopperWrapper",components:{Popper:eg,PopperContent:hd},mixins:[md,pd("finalTheme")],props:{theme:{type:String,default:null}},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function pg(e,t,n,o,l,i){const r=zn("PopperContent"),s=zn("Popper");return F(),pe(s,{ref:"popper",theme:e.finalTheme,"target-nodes":e.getTargetNodes,"popper-node":()=>e.$refs.popperContent.$el,class:we([e.themeClass])},{default:re(({popperId:a,isShown:u,shouldMountContent:c,skipTransition:d,autoHide:p,show:f,hide:m,handleResize:h,onResize:_,classes:v,result:x})=>[Ee(e.$slots,"default",{shown:u,show:f,hide:m}),B(r,{ref:"popperContent","popper-id":a,theme:e.finalTheme,shown:u,mounted:c,"skip-transition":d,"auto-hide":p,"handle-resize":h,classes:v,result:x,onHide:m,onResize:_},{default:re(()=>[Ee(e.$slots,"popper",{shown:u,hide:m})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},8,["theme","target-nodes","popper-node","class"])}const Es=Mi(fg,[["render",pg]]),hg={...Es,name:"VDropdown",vPopperTheme:"dropdown"},mg={...Es,name:"VMenu",vPopperTheme:"menu"},gg={...Es,name:"VTooltip",vPopperTheme:"tooltip"},vg=ue({name:"VTooltipDirective",components:{Popper:dd(),PopperContent:hd},mixins:[md],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>tl(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>tl(e.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,n=this.content(this);n.then?n.then(o=>this.onResult(t,o)):this.onResult(t,n)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),yg=["innerHTML"],_g=["textContent"];function wg(e,t,n,o,l,i){const r=zn("PopperContent"),s=zn("Popper");return F(),pe(s,Tt({ref:"popper"},e.$attrs,{theme:e.theme,"target-nodes":e.targetNodes,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:re(({popperId:a,isShown:u,shouldMountContent:c,skipTransition:d,autoHide:p,hide:f,handleResize:m,onResize:h,classes:_,result:v})=>[B(r,{ref:"popperContent",class:we({"v-popper--tooltip-loading":e.loading}),"popper-id":a,theme:e.theme,shown:u,mounted:c,"skip-transition":d,"auto-hide":p,"handle-resize":m,classes:_,result:v,onHide:f,onResize:h},{default:re(()=>[e.html?(F(),W("div",{key:0,innerHTML:e.finalContent},null,8,yg)):(F(),W("div",{key:1,textContent:Ie(e.finalContent)},null,8,_g))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const bg=Mi(vg,[["render",wg]]),gd="v-popper--has-tooltip";function xg(e,t){let n=e.placement;if(!n&&t)for(const o of cd)t[o]&&(n=o);return n||(n=tl(e.theme||"tooltip","placement")),n}function vd(e,t,n){let o;const l=typeof t;return l==="string"?o={content:t}:t&&l==="object"?o=t:o={content:!1},o.placement=xg(o,n),o.targetNodes=()=>[e],o.referenceNode=()=>e,o}let or,nl,Sg=0;function $g(){if(or)return;nl=ne([]),or=Yc({name:"VTooltipDirectiveApp",setup(){return{directives:nl}},render(){return this.directives.map(t=>Me(bg,{...t.options,shown:t.shown||t.options.shown,key:t.id}))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),or.mount(e)}function Eg(e,t,n){$g();const o=ne(vd(e,t,n)),l=ne(!1),i={id:Sg++,options:o,shown:l};return nl.value.push(i),e.classList&&e.classList.add(gd),e.$_popper={options:o,item:i,show(){l.value=!0},hide(){l.value=!1}}}function yd(e){if(e.$_popper){const t=nl.value.indexOf(e.$_popper.item);t!==-1&&nl.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(gd)}function ja(e,{value:t,modifiers:n}){const o=vd(e,t,n);if(!o.content||tl(o.theme||"tooltip","disabled"))yd(e);else{let l;e.$_popper?(l=e.$_popper,l.options.value=o):l=Eg(e,t,n),typeof t.shown<"u"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?l.show():l.hide())}}const kg={beforeMount:ja,updated:ja,beforeUnmount(e){yd(e)}};function Ga(e){e.addEventListener("click",_d),e.addEventListener("touchstart",wd,Ln?{passive:!0}:!1)}function Ya(e){e.removeEventListener("click",_d),e.removeEventListener("touchstart",wd),e.removeEventListener("touchend",bd),e.removeEventListener("touchcancel",xd)}function _d(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function wd(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",bd),t.addEventListener("touchcancel",xd)}}function bd(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const n=e.changedTouches[0],o=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-o.screenY)<20&&Math.abs(n.screenX-o.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function xd(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}const Cg={beforeMount(e,{value:t,modifiers:n}){e.$_closePopoverModifiers=n,(typeof t>"u"||t)&&Ga(e)},updated(e,{value:t,oldValue:n,modifiers:o}){e.$_closePopoverModifiers=o,t!==n&&(typeof t>"u"||t?Ga(e):Ya(e))},beforeUnmount(e){Ya(e)}};function Vg(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,ad(qt,t),e.directive("tooltip",kg),e.directive("close-popper",Cg),e.component("VTooltip",gg),e.component("VDropdown",hg),e.component("VMenu",mg))}const Tg={version:"2.0.0-beta.24",install:Vg,options:qt};var Fe=(e=>(e.SelectorNodeParkingFloor="SelectorNodeParkingFloor",e.SelectorNodeFloor="SelectorNodeFloor",e.SelectorNodeTempFloor="SelectorNodeTempFloor",e.SelectorNodeElevator="SelectorNodeElevator",e.SelectorNodeFirstFloor="SelectorNodeFirstFloor",e.SelectorNodeBuilding="SelectorNodeBuilding",e.SelectorNodeTrafic="SelectorNodeTrafic",e))(Fe||{});const ei=["#cc2024","#e85859","#e75c0d","#ff9356","#e4bd31","#fbd44b","#cf8900","#eeb443","#974a12","#b9723e","#654dcb","#8b73ef","#0d6edf","#56a4ff","#00b9c5","#63f6ff","#15767d","#2fafb9","#128c71","#28bf9d","#b1cd0b","#d2ea42","#587b0d","#81a631","#cf2260","#ff75b7","#d925b1","#f567d6","#527588","#98b6c6"];function Ng(e){const t=[];for(;t.length<e;){const n=Math.floor(Math.random()*e);t.includes(n)||t.push(n)}return t}const Pg=Ng(ei.length).map(e=>ei[e]),Mg=()=>{const e=ne(0),t=ne(1),n=ne(1),o=ne(1),l=ne(1),i=()=>e.value++,r=()=>Pg[e.value%ei.length],s=()=>`ГЭ ${t.value++}`,a=()=>`ГЭП ${n.value++}`,u=()=>`ГЭВП ${o.value++}`,c=()=>`ГЛ ${l.value++}`,d=(C,b,A,y)=>({id:i().toString(),type:C,position:{x:b,y:A},data:y});return{createElement:d,createTraficElement:(C,b)=>d(Fe.SelectorNodeTrafic,C,b,{formFill:"group",groups:[],buildingType:"residential",floors:new Map}),createFirstFloorElement:(C,b)=>d(Fe.SelectorNodeFirstFloor,C,b,{name:"Лобби",color:r(),height:6,lower:1,upper:1,elevatorCallType:"simple",role:"gate"}),createBuildingElement:(C,b)=>d(Fe.SelectorNodeBuilding,C,b,{hasParking:!1,hasTemporaryFloors:!1,isDivideIntoFloorGroups:!0,hasTransferFloor:!1,hasTechnicalFloors:!1,floorHeight:3,technicalFloorHeight:3,technicalFloors:[],transferFloors:[],name:"Новый проект",floorsCount:30,morningStart:"08:30",morningPeak:"09:00",morningFinish:"09:30",eveningStart:"17:30",eveningPeak:"18:00",eveningFinish:"18:30",gradationGood:30,gradationMedium:60,gradationBad:120,autoreturn:!0}),createParkingFloorElement:(C,b,A=3)=>d(Fe.SelectorNodeParkingFloor,C,b,{name:a(),color:r(),height:A,floorElevators:[],lower:-2,upper:-1,role:"parking"}),createFloorElement:(C,b,A=3,y="residential")=>d(Fe.SelectorNodeFloor,C,b,{name:s(),color:r(),height:A,baseFloorNumber:4,floorElevators:[],lower:2,upper:3,distribution:"uniform",elevatorCallType:"simple",role:y}),createTempFloorElement:(C,b,A=3)=>d(Fe.SelectorNodeTempFloor,C,b,{name:u(),color:r(),height:A,floorElevators:[],lower:2,upper:3,timeToVisitMin:30,timeToVisitProbably:60,timeToVisitMax:120,role:"visited"}),createElevatorElement:(C,b)=>d(Fe.SelectorNodeElevator,C,b,{elevatorType:"single",color:r(),name:c(),quantity:1,height:2.5,enabledFloors:[],hasTransferFloor:!1,transferFloors:[],capacityNominal:18,capacityRate:80,doorOperationTime:2.5,doorCapacity:1,positioningTime:5,approachDistance:5,approachSpeed:2,acceleration:2,maxSpeed:4,idleStayTime:120,parkingAreaMorning:[],parkingAreaEvening:[]})}},Fg=({id:e,data:t})=>({id:e,name:t.name,color:t.color,value:"0"}),Bg=(e,t,n,o,l)=>({registryElevator:f=>{l.value=[...l.value,f]},unRegistryElevator:f=>{l.value=l.value.filter(m=>m.id!=f.id)},registryFloor:f=>{t.value=[...t.value,f],e.value.data.groups.push(Fg(f))},unRegistryFloor:f=>{t.value=t.value.filter(m=>m.id!=f.id),e.value.data.groups=e.value.data.groups.filter(m=>m.id!=f.id)},registryTempFloor:f=>{n.value=[...n.value,f]},unRegistryTempFloor:f=>{n.value=n.value.filter(m=>m.id!=f.id)},registryParkingFloor:f=>{o.value=[...o.value,f]},unRegistryParkingFloor:f=>{o.value=o.value.filter(m=>m.id!=f.id)}});class Ag{constructor(t,n,o){this.api=t,this.url=n,this.modelId=o}async run(t,n){if(console.log(JSON.stringify(n)),window.CloudClient){const o=window.CloudClient.create(this.api,this.url),l=await o.getModelById(this.modelId),i=await o.getLatestModelVersion(l);let r=o.createDefaultInputs(i);r.setInput("timeOfDay",n.others.day_time),r.setInput("runsCount",1),r.setInput("maxBadPassWaitingTime",n.others.global_settings.gradation.bad),r.setInput("maxGoodPassWaitingTime",n.others.global_settings.gradation.good),r.setInput("maxMediumPassWaitingTime",n.others.global_settings.gradation.medium),r.setInput("allowElevatorsSelfReturn",n.others.global_settings.autoreturn),r.setInput("statsCalculationPeriod",2);const s=JSON.stringify(n);return r.setInput("variant",s),await o.startAnimation(r,t)}}}const Qe={period:"Значения периода моделирования должны быть указаны в формате ЧЧ:ММ, в 12-ти часовом формате! Пиковое время не должно наступать раньше начального, конечное раньше пикового и т.д.",gradation:"Хорошее время ожидания должно быть меньше среднего, а среднее меньше плохого",dublicate_name:"Каждая группа (этажей или лифтов) должна иметь уникальное название",lift_without_group:"Каждая группа лифтов должна относиться хотя бы к одной группе этажей",dublicate_color:"Цвет группы лифтов не должен совпадать с цветом обслуживаемой группы этажей",transfer:"Вы отметили, что необходима пересадка на этаже, но не указали ни одного этажа пересадки. Выберите этажи пересадки",no_traffic:'Вы не заполнили форму в панели "Пассажиропоток". Населенность должна быть больше 0.',cross_floors:"Группы этажей должны включать уникальные наборы этажей. Один этаж не может находиться в разных группах этажей",wrongTo:'Значение "до" не может быть меньше значения "от". Проверьте значения в диапазонах этажей групп и пассажиропотока.',wrongToCommon:'Значение "до" не может быть меньше значения "от".',techFloorError:"Исключите технический этаж из группы этажей",visiting_time:"Минимальное время нахождения посетителей должно быть меньше вероятного, а вероятное меньше максимального",traffic_range_from_to:'Значение диапазона пассажиропотока "От" не может быть больше значения "До"',traffic_range_group_from_to:"Диапазон пассажиропотока выходит за пределы диапазона соответствующей группы этажей",traffic_range_cross:"Диапазоны пассажиропотока не должны иметь пересечений с другими диапазонами",no_parking:"Вы указали наличие паркинга, но не создали ни одной группы этажей паркинга.",no_temp:"Вы указали наличие этажей временного посещения, но не создали ни одной группы этажей временного посещения.",too_many_floors:"Количество этажей в группе этажей не может превышать количество этажей в здании",wrong_cabin_height:"Высота кабины не может быть больше высоты этажа в здании",incorrect:"Введено некорректное значение",not_used_floors:"Существующие группы этажей обслуживают не все этажи здания",dublicate_lift:e=>`Группа лифтов с названием "${e}" уже есть. Все группы должны иметь уникальные названия, иначе сервис будет работать некорректно!`,dublicate_floor:e=>`Группа этажей с названием "${e}" уже есть. Все группы должны иметь уникальные названия, иначе сервис будет работать некорректно!`},$l=({id:e,data:t})=>({id:`${e}`,name:t.name,color:t.color,ceiling_height:t.height,floor_numbers:{"План 1":{lower:+t.lower,upper:+t.upper}},role:t.role,visit_delay_time:{},export_stats:!1}),Ig=({id:e,data:t})=>({id:e,color:t.color,enabled_floors:[...t.enabledFloors,...t.transferFloors],parking_floors:[1,4],idle_stay_time:+t.idleStayTime,quantity:+t.quantity,capacity_nominal:+t.capacityNominal,capacity_rate:+t.capacityRate/100,door_operation_time:+t.doorOperationTime,door_capacity:+t.doorCapacity,positioning_time:+t.positioningTime,approach_distance:+t.approachDistance,approach_speed:+t.approachSpeed,acceleration:+t.acceleration,max_speed:+t.maxSpeed}),lr=e=>({floors:[e.id],distribution:[{floors:[1],rate:1}],number:+e.value}),Og=(e,t)=>{const n=(o,l,i)=>({id:o,name:o,color:"#ebebeb",ceiling_height:t,floor_numbers:{"План 1":{lower:l,upper:i}},role:"special",visit_delay_time:{},export_stats:!1});return e.sort().map((o,l)=>n(`ТЭ ${l+1}`,+o,+o))};function Dg(e){return!e.every(({lower:t,upper:n})=>t<=n)}function Rg(e){console.log("floorsNumbers",JSON.stringify(e.map(o=>[o.lower,o.upper])));const t=e.some(o=>o.lower===0||o.upper===0);let n=e[0];for(let o=1;o<e.length;o++){const l=e[o];if(console.log(`getIntersactions ${o}: `,n.upper,l.lower,n.upper+1>l.lower),(n.upper+1||t?0:1)>l.lower)return l;n=l}}function zg(e,t){return e[e.length-1].upper>t}function Hg(e,t){const n=e.some(i=>i.lower===0||i.upper===0);let o=e[0];const l=o.lower;for(let i=1;i<e.length;i++){const r=e[i],a=o.upper+1||(n?0:1);if(console.log(`getSkipFloor ${i}: `,o.upper,r.lower,n,a,a<r.lower),a<r.lower)return r;o=r}return l<=1&&o.upper===t?void 0:o}function Lg(e){return e.find(t=>{var n;return!((n=t.data.enabledFloors)!=null&&n.length)})}function Ug(e,t,n){const o=e.map(l=>({...l.floor_numbers["План 1"],id:l.id})).toSorted((l,i)=>+i.lower<+l.lower?1:-1);if(Dg(o))throw new Error(Qe.wrongTo);if(zg(o,+t.data.floorsCount))throw new Error(Qe.too_many_floors);if(Rg(o))throw new Error(Qe.cross_floors);if(Hg(o,+t.data.floorsCount))throw new Error(Qe.not_used_floors);if(Lg(n))throw new Error(Qe.lift_without_group)}function jg(e,t,n){return[lr({id:e.id,name:e.data.name,value:"0"}),...t.data.groups.map(o=>lr(o)),...n.map(o=>lr({id:o.id||"",name:o.name||"",value:"0"}))]}function Gg(e,t){return[...e.data.floors.entries()].filter(([n,o])=>t.some(([l,i])=>l<=n&&n<=i)&&+o).map(([n,o])=>({floors:[n],number:+o||0,distribution:[{floors:[1],rate:1}]}))}class Xa{static create(t,n,o,l,i,r,s,a){const u={start:o.value.data.eveningStart,peak:o.value.data.eveningPeak,finish:o.value.data.eveningFinish},c={start:o.value.data.morningStart,peak:o.value.data.morningPeak,finish:o.value.data.morningFinish},d=Og(o.value.data.technicalFloors,o.value.data.technicalFloorHeight),p=[$l(l.value),...i.value.map(m=>$l(m)),...r.value.map(m=>$l(m)),...d,...s.value.map(m=>$l(m))];Ug(p,o.value,a.value);const f=n.value.data.formFill=="group"?jg(l.value,n.value,d):n.value.data.formFill=="floor"?Gg(n.value,i.value.map(m=>[m.data.lower,m.data.upper])):[];return{format_version:.6,simulation_time:t.value?{evening:u}:{morning:c},floor_plans:["План 1"],floor_groups:p.map(m=>({anytime:m})),elevator_groups:a.value.map(m=>({anytime:Ig(m),morning:{parking_floors:m.data.parkingAreaMorning},evening:{parking_floors:m.data.parkingAreaEvening}})),traffic:{anytime:{building_type:n.value.data.buildingType,transfer_floors:o.value.data.transferFloors,total_rate:1,capacitive:f},morning:{},evening:{}},others:{id:new Date().toLocaleDateString(),name:o.value.data.name,floors_amount:+o.value.data.floorsCount,day_time:t.value?"evening":"morning",global_settings:{time:10,iter_amount:1,gradation:{good:o.value.data.gradationGood,medium:o.value.data.gradationMedium,bad:o.value.data.gradationBad},autoreturn:o.value.data.autoreturn}}}}}const Yg=(e,t,n,o,l,i,r,s,a)=>{const u="2bd464a3-c9be-4d7d-a5ef-3c4dc2d65737",c="8decc25a-8b24-4bbc-ae0a-7870a8f90834",d="https://anylogic.vostokgosplan.ru/",p=new Ag(c,d,u),f=[.002,.004,.01,.02,.1,.2,1,2,5,Number.POSITIVE_INFINITY],m=ne(f[0]),h=I=>{const j=f.findIndex(J=>J==m.value),O=I<0?Math.max(j-1,0):Math.min(j+1,f.length-2);return f[O]},_=ne(null),v=ne(null),x=K(()=>_.value!="RUN"||m.value==f[0]),C=K(()=>_.value!="RUN"||m.value==f[f.length-2]),b=K(()=>_.value!="RUN"||m.value==f[f.length-1]),A=ne(!1),y=ne(!0),V=ne(!0);let S,z;const R=()=>{clearInterval(z),m.value=f[0],A.value=!1,y.value=!0,V.value=!0,_.value=null,v.value=null},te=()=>{var I;(I=S==null?void 0:S.getState())==null||I.then(j=>{y.value=j!="RUNNING",V.value=j!="PAUSED",j=="FINISHED"&&clearInterval(z)}),S==null||S.callFunction("experiment.root.getCurrentTime",[]).then(j=>v.value=j)},G=()=>Xa.create(t,n,o,l,i,r,s,a),ie=async I=>{const j=JSON.parse(I);_.value="RUNNING",e.value=!1,console.log(JSON.stringify(j));try{A.value=!1,m.value=.002,S=await p.run("animation-container",j),z=setInterval(te,1e3),setTimeout(()=>_.value="RUN",1e3),await(S==null?void 0:S.waitForCompletion()),console.log("STOPED")}catch(O){console.error(O)}finally{R()}},k=async()=>{const I=Xa.create(t,n,o,l,i,r,s,a);_.value="RUNNING",e.value=!1;try{A.value=!1,m.value=.002,S=await p.run("animation-container",I),z=setInterval(te,1e3),setTimeout(()=>_.value="RUN",1e3),await(S==null?void 0:S.waitForCompletion()),console.log("STOPED")}catch(j){console.error(j)}finally{R()}},Y=async()=>{console.log("STOP"),S&&(await S.stop(),e.value=!0,R())},P=async()=>{console.log("PAUSE"),S&&await S.pause()},U=async()=>{console.log("RESUME"),S&&await S.resume()},Z=async I=>{if(console.log("SET_SPEED"),!S)return;const j=h(I);m.value=j,await S.setSpeed(j)};return{isDisabledRunBtn:A,isRun:_,time:v,getJson:G,runSimulationByJson:ie,runSimulation:k,stopSimulation:Y,isDisabledPauseBtn:y,isDisabledResumeBtn:V,resumeSimulation:U,pauseSimulation:P,minusSpeed:()=>Z(-1),plusSpeed:()=>Z(1),setMaxSpeed:async()=>{if(console.log("SET_MAX_SPEED"),!S)return;const I=f[f.length-1];m.value=I,await S.setSpeed(I)},simulationSpeed:m,isDisabledMinusBtn:x,isDisabledPlusBtn:C,isDisabledMaxSpeedBtn:b}},{createTraficElement:Xg,createFirstFloorElement:Wg,createBuildingElement:qg,createParkingFloorElement:Zg,createFloorElement:Wa,createTempFloorElement:Kg,createElevatorElement:qa}=Mg(),xn=Em("store",()=>{const e=Xg(0,0),t=qg(360,0),n=Wg(360,400),o=Wa(750,0),l=qa(1120,0),i=ne([e,t,n,o,l]),r=g=>i.value.find(w=>w.id==g),s=K(()=>r(t.id)),a=K(()=>r(e.id)),u=K(()=>r(n.id)),c=K(()=>{var g;return(g=s.value)==null?void 0:g.data.isDivideIntoFloorGroups}),d=K(()=>{var g,w;return(w=(g=s.value)==null?void 0:g.data)==null?void 0:w.hasTemporaryFloors}),p=K(()=>{var g,w;return(w=(g=s.value)==null?void 0:g.data)==null?void 0:w.hasParking}),f=ne(!0),m=K(()=>i.value.filter(g=>g.type==Fe.SelectorNodeFirstFloor||g.type==Fe.SelectorNodeFloor||g.type==Fe.SelectorNodeTempFloor||g.type==Fe.SelectorNodeParkingFloor).map(g=>g)),h=K(()=>i.value.filter(g=>g.type==Fe.SelectorNodeElevator).map(g=>g)),_=K(()=>h.value.flatMap(g=>g.data.enabledFloors)),v=K(()=>m.value.filter(g=>!_.value.includes(g.id))),x=ne([]),C=ne([]),b=ne([]),A=ne([]),y=K(()=>[u.value,...x.value,...C.value,...b.value].map(g=>({text:g.data.name,value:g.id,color:g.data.color}))),V=Bg(a,x,C,b,A);l.data.enabledFloors=[n.id,o.id],V.registryFloor(o),V.registryElevator(l);const S=K(()=>!0),z=ne(!0),R=ne(!1),te=ne(new Map),G=K(()=>new Set(te.value.values())),ie=K(()=>Math.min(s.value.data.floorHeight,...m.value.map(g=>g.data.height))),{isDisabledRunBtn:k,isRun:Y,time:P,getJson:U,runSimulationByJson:Z,runSimulation:ae,stopSimulation:I,minusSpeed:j,plusSpeed:O,setMaxSpeed:J,simulationSpeed:he,isDisabledPauseBtn:ee,isDisabledResumeBtn:se,resumeSimulation:le,pauseSimulation:de,isDisabledMinusBtn:Se,isDisabledPlusBtn:M,isDisabledMaxSpeedBtn:D}=Yg(z,R,a,s,u,x,C,b,A);return{elements:i,building:s,trafic:a,firstFloor:u,canAddFloor:c,canAddTempFloor:d,canAddParkingFloor:p,canAddElevator:f,createFloorElement:Wa,createParkingFloorElement:Zg,createTempFloorElement:Kg,createElevatorElement:qa,registry:V,floors:m,elevators:h,availableFloors:v,floorGroups:x,tempFloorGroups:C,parkingFloorGroups:b,elevatorGroups:A,allFloorGroups:y,isDisabledRunBtn:k,isRun:Y,time:P,canRunSimulation:S,getJson:U,runSimulationByJson:Z,runSimulation:ae,stopSimulation:I,minusSpeed:j,plusSpeed:O,setMaxSpeed:J,simulationSpeed:he,isEverning:R,isHideSimulationPanel:z,isDisabledPauseBtn:ee,isDisabledResumeBtn:se,resumeSimulation:le,pauseSimulation:de,isDisabledMinusBtn:Se,isDisabledPlusBtn:M,isDisabledMaxSpeedBtn:D,errorMessages:G,errorCenter:te,minHeight:ie}}),Jg="/elevator_simulator_demo/assets/logo-b1663915.png",Qg=lt('<g filter="url(#a)"><rect width="40" height="40" fill="#15767D" rx="20"></rect><path fill="#fff" d="M27.548 20.788a.913.913 0 0 0 0-1.576l-12.193-7.089a.903.903 0 0 0-1.355.788v14.178c0 .7.753 1.138 1.355.788l12.193-7.09Z"></path></g><defs><filter id="a" width="60" height="60" x="-10" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1712_61068"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1712_61068" result="shape"></feBlend></filter></defs>',2),ev=[Qg],tv=ue({__name:"StartBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",disabled:"",class:we(t.disabled?"disabled":"clickable")},ev,2))}}),nv=lt('<g filter="url(#a)"><rect width="40" height="40" fill="#15767D" fill-opacity="1" rx="20"></rect><rect width="16" height="16" x="12" y="12" fill="#fff" rx="2"></rect></g><defs><filter id="a" width="60" height="60" x="-10" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1712_61004"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1712_61004" result="shape"></feBlend></filter></defs>',2),ov=[nv],lv=ue({__name:"StopBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",class:we(t.disabled?"disabled":"clickable")},ov,2))}}),iv={class:"time-btn"},rv={class:"flex-row between centered-align"},sv=L("p",{class:"time-btn_text"},"Утро",-1),av=L("p",{class:"time-btn_text"},"Вечер",-1),uv=ue({__name:"TimeBtn",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=()=>t("update:modelValue",!n.modelValue),l=i=>i?"time-btn_select-morning":"time-btn_select-everning";return(i,r)=>(F(),W("div",iv,[L("div",rv,[sv,L("div",{class:"time-btn_select flex-row between",onClick:o},[L("div",{class:we(l(n.modelValue))},null,2),L("div",{class:we(l(!n.modelValue))},null,2)]),av])]))}});const Qt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},cv={},dv={class:"flex-row gap24"},fv=lt('<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" viewBox="0 0 24 24" class="clickable"><rect width="14.4" height="6" x="4.8" y="4.801" fill="#15767D" rx="3"></rect><rect width="14.4" height="6" x="4.8" y="13.199" fill="#15767D" fill-opacity="0.6" rx="3"></rect><circle cx="16.2" cy="7.8" r="1.8" fill="#E1ECF2"></circle><circle cx="7.8" cy="16.198" r="1.8" fill="#E1ECF2"></circle></svg>',1),pv=[fv];function hv(e,t){return F(),W("div",dv,pv)}const mv=Qt(cv,[["render",hv]]),gv=L("g",{stroke:"#15767D","stroke-width":"1.5"},[L("path",{fill:"#E1ECF2","stroke-linecap":"round","stroke-linejoin":"round",d:"m19.668 7.94-.066-.115a2 2 0 0 1-.268-1.034l.03-1.779a1 1 0 0 0-.5-.883l-2.737-1.577a1 1 0 0 0-1.013.009l-1.52.91a2 2 0 0 1-1.027.283h-.132a2 2 0 0 1-1.029-.285L9.88 2.553a1 1 0 0 0-1.017-.008L6.135 4.13a1 1 0 0 0-.498.881l.03 1.781A2 2 0 0 1 5.4 7.825l-.064.113a2 2 0 0 1-.763.749l-1.555.861a1 1 0 0 0-.515.877l.007 3.152a1 1 0 0 0 .514.871l1.547.861a2 2 0 0 1 .764.755l.07.121a2 2 0 0 1 .263 1.027l-.03 1.773a1 1 0 0 0 .501.884l2.737 1.577a1 1 0 0 0 1.013-.009l1.519-.91a2 2 0 0 1 1.027-.283h.132c.362 0 .718.098 1.03.285l1.525.916a1 1 0 0 0 1.017.008l2.728-1.584a1 1 0 0 0 .498-.881l-.03-1.781a2 2 0 0 1 .268-1.034l.065-.113a2 2 0 0 1 .762-.749l1.555-.861a1 1 0 0 0 .515-.877l-.007-3.152a1 1 0 0 0-.514-.872l-1.55-.863a2 2 0 0 1-.76-.747Z"}),L("path",{fill:"#fff",d:"M12.5 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"})],-1),vv=[gv],yv=ue({__name:"ProjectSettingsBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",fill:"none",viewBox:"0 0 25 24",class:we(t.disabled?"disabled":"chamomile clickable")},vv,2))}}),Rl=ue({__name:"Modal",emits:["click-outside"],setup(e,{emit:t}){const n=ne(null),o=l=>n.value===l.target&&t("click-outside");return(l,i)=>(F(),W("div",{ref_key:"modal",ref:n,class:"flex centered modal",onClick:o},[Ee(l.$slots,"default")],512))}});const _v={class:"flex-row between centered-align"},wv={class:"flex-row"},bv=L("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13 7 7 1 1 7"},null,-1),xv=[bv],Sv={key:0,class:"flex-col gap24 main-block-container_content"},zt=ue({__name:"MainBlock",props:{title:{},color:{},isInSight:{type:Boolean}},setup(e){const t=ne(!1),n=K(()=>t.value?"rotated":"unrotated"),o=gs(),l=K(()=>o["title-icon-left"]?"margin-right: 8px":"");return(i,r)=>(F(),W("div",{class:"main-block-container",style:Be(`border: 1px solid ${i.color?i.color:"rgb(159, 187, 189)"};border-radius: 12px`)},[L("div",_v,[L("div",wv,[Ee(i.$slots,"title-icon-left"),L("h3",{class:"modal-title",style:Be(l.value)},Ie(i.title),5)]),i.isInSight?me("",!0):(F(),W("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",fill:"none",viewBox:"0 0 14 8",class:we(`clickable ${n.value}`),onClick:r[0]||(r[0]=s=>t.value=!t.value)},xv,2))]),B(bs,{name:"main-block-content"},{default:re(()=>[t.value?me("",!0):(F(),W("div",Sv,[Ee(i.$slots,"default")]))]),_:3})],4))}});const $v={class:"flex-col gap8"},Ev={class:"flex-row"},kv={class:"block-title"},Cv={key:0,class:"block_help-text flex centered clickable",textContent:"?"},Vv={key:0,class:"flex-col gap8"},gn=ue({__name:"Block",props:{title:{},helpText:{}},setup(e){const{title:t,helpText:n}=e,o=gs(),l=K(()=>`<div class="tooltip-block-super">${n}</div>`);return(i,r)=>{const s=$i("tooltip");return F(),W("div",$v,[L("div",Ev,[L("h4",kv,Ie(i.title),1),i.helpText?fo((F(),W("p",Cv,null,512)),[[s,{content:l.value,html:!0},void 0,{right:!0}]]):me("",!0)]),N(o).default?(F(),W("div",Vv,[Ee(i.$slots,"default")])):me("",!0)])}}});const Tv=["value","checked","onInput"],Nv={key:0,class:"radio-label-checked flex centered"},Pv=L("div",{class:"radio-label-checked-point"},null,-1),Mv=[Pv],Fv={key:1,class:"radio-label-unchecked flex centered"},On=ue({__name:"BlockRadio",props:{modelValue:{},items:{}},emits:["update:modelValue"],setup(e){return(t,n)=>(F(!0),W(Pe,null,mt(t.items,o=>(F(),W("label",{class:"radio-label",key:o.value},[L("input",{type:"radio",value:t.modelValue,checked:t.modelValue==o.value,onInput:l=>t.$emit("update:modelValue",o.value)},null,40,Tv),t.modelValue==o.value?(F(),W("div",Nv,Mv)):(F(),W("div",Fv)),ul(" "+Ie(o.text),1)]))),128))}});const Bv=["disabled","placeholder","value"],Sd=ue({__name:"NumberInput",props:{placeholder:{},disabled:{type:Boolean},modelValue:{},min:{},max:{},isFloat:{type:Boolean},isRequired:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=K(()=>n.min||0),l=K(()=>n.max||100),i=K(()=>Math.min(o.value,l.value)),r=K(()=>Math.max(o.value,l.value)),s=K(()=>i.value<0&&!n.isFloat||Math.floor(i.value)<0&&n.isFloat),a=K(()=>i.value<1&&!n.isFloat||Math.floor(i.value)<1&&n.isFloat),u=ne(""),c=ne(""),d=y=>{var V;return((V=y.target)==null?void 0:V.value)||""},p=y=>[...y].reduce((V,S)=>[...V,V.length?V[V.length-1]+S:S],[]),f=y=>{if(y){if(y==="-")return y;if(!Number.isNaN(+y))return+y==0?"0":(+y).toString()}return""};$e(()=>n.modelValue,y=>u.value=c.value=y,{immediate:!0});const m=y=>{(!n.isRequired||y)&&nt(()=>t("update:modelValue",y))},h=y=>{const V=d(y);c.value=f(V)},_=y=>n.isFloat?i.value<=y&&r.value>=y:Math.floor(i.value)<=y&&Math.floor(r.value)>=y,v=y=>y?Number.isNaN(+y)&&s.value?p("-0.00").includes(y):+y==0&&a.value?p("0.00").includes(y):_(+y):!1,x=(y,V,S,z)=>{const R=y.substring(0,S)+V+y.substring(z);return v(R)},C=y=>{const V=y.key,S=y.target;if(!y.ctrlKey&&S&&V.length===1){const z=S.selectionStart||0,R=S.selectionEnd||0;x(S.value,V,z,R)||y.preventDefault()}},b=y=>{const V=d(y),S=n.isRequired&&V===""?u.value:c.value;S==n.modelValue&&(c.value=S),m(S)},A=y=>{var z;const V=(z=y.clipboardData)==null?void 0:z.getData("text"),S=y.target;if(V){const R=S.selectionStart||0,te=S.selectionEnd||0;x(S.value,V,R,te)||y.preventDefault()}};return(y,V)=>(F(),W("input",{disabled:!!n.disabled,placeholder:y.placeholder,type:"text",value:c.value,onInput:V[0]||(V[0]=S=>h(S)),onKeydown:C,onBlur:b,onPaste:A},null,40,Bv))}}),Av=["disabled","placeholder","value"],Iv=ue({__name:"TextInput",props:{placeholder:{},disabled:{type:Boolean},modelValue:{},isRequired:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ne(""),l=ne(""),i=u=>{var c;return((c=u.target)==null?void 0:c.value)||""};$e(()=>n.modelValue,u=>o.value=l.value=u,{immediate:!0});const r=u=>{(!n.isRequired||u)&&nt(()=>t("update:modelValue",u))},s=u=>l.value=i(u),a=u=>{const c=i(u),d=n.isRequired&&c===""?o.value:l.value;d==n.modelValue&&(l.value=d),r(d)};return(u,c)=>(F(),W("input",{disabled:!!n.disabled,placeholder:u.placeholder,type:"text",value:l.value,onInput:c[0]||(c[0]=d=>s(d)),onBlur:a},null,40,Av))}}),Ov={class:"flex-col gap12",style:{"margin-top":"24px"}},Dv=L("p",{class:"project-settings_label"},"Название проекта",-1),Rv=L("p",{class:"project-settings_label"},"Общее количество этажей",-1),zv=L("p",{class:"gCWdMI"},[L("span",null,"Внимание!"),ul(" Возможность изменять тип здания и этажность будет доступна только в течении 24 часов после создания проекта!")],-1),Hv=ue({__name:"ProjectSettings",emits:["cancel"],setup(e,{emit:t}){const n=xn(),o=[{text:"Жилое",value:"residential"},{text:"Бизнес",value:"business"},{text:"Смешанное",value:"mixed"}],l=()=>{n.building.data.name=r.value,n.building.data.floorsCount=s.value,n.trafic.data.buildingType=a.value,t("cancel")},i=()=>{t("cancel")},r=ne(n.building.data.name),s=ne(n.building.data.floorsCount),a=ne(n.trafic.data.buildingType);return Ze(()=>{r.value=n.building.data.name,s.value=n.building.data.floorsCount,a.value=n.trafic.data.buildingType}),(u,c)=>(F(),pe(zt,{title:"Новый проект",class:"project-settings","is-in-sight":""},{default:re(()=>[L("div",Ov,[L("div",null,[Dv,B(Iv,{placeholder:"Новый проект",class:"project-settings_input",modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d)},null,8,["modelValue"])]),L("div",null,[Rv,B(Sd,{min:1,max:100,class:"project-settings_input",placeholder:"30",modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d)},null,8,["modelValue"])])]),B(gn,{title:"Тип здания",style:{"margin-top":"12px"}},{default:re(()=>[B(On,{items:o,modelValue:a.value,"onUpdate:modelValue":c[2]||(c[2]=d=>a.value=d)},null,8,["modelValue"])]),_:1}),L("div",{class:"flex-row between"},[L("button",{class:"project-settings_btn project-settings_btn-apply",onClick:l},"Сохранить"),L("button",{class:"project-settings_btn project-settings_btn-cancel",onClick:i},"Отмена")]),zv]),_:1}))}});const Lv={key:0,class:"flex-row centered-align",style:{"margin-bottom":"8px"}},Uv={class:"modal-subtitle"},Ue=ue({__name:"GroupBox",props:{title:{},color:{},isTitleMode:{type:Boolean}},setup(e){return(t,n)=>(F(),W("div",null,[t.title?(F(),W("div",Lv,[t.color?(F(),W("div",{key:0,class:"group-box_title_color-box",style:Be({backgroundColor:t.color})},null,4)):me("",!0),L("h4",Uv,Ie(t.title),1)])):me("",!0),L("div",{class:we(`${t.isTitleMode?"flex-col gap8":"input-block"} modal-subtitle_content`)},[Ee(t.$slots,"default")],2)]))}});const jv=["disabled","value"],Gv=ue({__name:"TextMaskInput",props:{placeholder:{},disabled:{type:Boolean},modelValue:{},isRequired:{type:Boolean},behavior:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ne(""),l=ne(""),i=f=>{var m;return((m=f.target)==null?void 0:m.value)||""},r=f=>{var m;return f&&((m=n.behavior)!=null&&m.isValid(f))?f:""};$e(()=>n.modelValue,f=>{o.value=l.value=f,console.log("watch",f)},{immediate:!0});const s=f=>{(!n.isRequired||f)&&(console.log("updateValue",n.isRequired,f),nt(()=>t("update:modelValue",f)))},a=f=>{const m=i(f);console.log("onInput",m,f,r(m)),l.value=r(m)},u=(f,m,h,_)=>f.substring(0,h)+m+f.substring(_),c=f=>{var _,v,x;const m=f.key,h=f.target;if(!f.ctrlKey&&h&&m.length===1){console.log("onKeyDown",f);const C=h.selectionStart||0,b=h.selectionEnd||0,A=u(h.value,m,C,b),y=(_=n.behavior)==null?void 0:_.toTransform(A);console.log("tranformValue",A,y),y?((v=n.behavior)!=null&&v.isValid(y)&&(l.value=y),f.preventDefault()):(x=n.behavior)!=null&&x.isValid(A)||f.preventDefault(),console.log("GOOD",A,y)}},d=f=>{var _,v;console.log("onPaste",f);const m=(_=f.clipboardData)==null?void 0:_.getData("text"),h=f.target;if(m){const x=h.selectionStart||0,C=h.selectionEnd||0,b=u(h.value,m,x,C);(v=n.behavior)!=null&&v.isValid(b)||f.preventDefault()}},p=f=>{var _,v;const m=i(f);console.log("onBlur",(_=n.behavior)==null?void 0:_.isValidFinal(m),!n.isRequired,l.value,o.value);const h=(v=n.behavior)!=null&&v.isValidFinal(m)?l.value:o.value;h==n.modelValue&&l.value!=h&&(l.value=h),s(h)};return(f,m)=>(F(),W("input",{disabled:!!n.disabled,class:"input-row_value-input",placeholder:"ЧЧ:ММ",type:"text",value:l.value,onInput:m[0]||(m[0]=h=>a(h)),onKeydown:c,onBlur:p,onPaste:d},null,40,jv))}}),Yv={class:"input-row_value-measure"},Kn=ue({__name:"InputRowTime",props:{title:{},measure:{},placeholder:{default:""},color:{},disabled:{type:Boolean},modelValue:{},bgColor:{},isFlight:{type:Boolean},min:{},max:{},isFloat:{type:Boolean},rules:{},isRequired:{type:Boolean},behavior:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=K(()=>n.bgColor),l=ne(!1),i=K(()=>l.value&&n.isFlight?"input-row_is-borned":"input-row_is-borned-already"),r=K(()=>{for(const c of(n==null?void 0:n.rules)||[]){const d=c(n.modelValue);if(d)return d}return!1}),s=K(()=>r.value?"input-row_is-not-valid":i.value),a=K(()=>typeof r.value=="string"?{content:`<div class="tooltip-block-error">${r.value}</div>`,html:!0,theme:"error"}:null);Ze(()=>{n.isFlight&&(l.value=!0)});const u=c=>t("update:modelValue",c||"");return(c,d)=>{const p=$i("tooltip");return fo((F(),W("div",{class:we(`input-row input relative ${s.value}`),style:Be({backgroundColor:o.value})},[L("div",{class:we(`input-row_title flex-row centered-align ${n.disabled?"disabled":""}`)},[n.color?(F(),W("div",{key:0,class:"input-row_title-color-point",style:Be(`background-color: ${n.color}`)},null,4)):me("",!0),L("p",null,Ie(n.title),1)],2),L("div",{class:we(`nodrag input-row_value flex-row centered-align end ${n.disabled?"disabled":""}`),style:{"padding-right":"8px"}},[B(Gv,{disabled:!!n.disabled,class:"input-row_value-input","is-required":n.isRequired,"model-value":n.modelValue,"onUpdate:modelValue":u,behavior:c.behavior},null,8,["disabled","is-required","model-value","behavior"]),L("span",Yv,Ie(n.measure),1)],2)],6)),[[p,a.value,void 0,{top:!0}]])}}});const Xv={class:"input-row_value-measure"},Xe=ue({__name:"InputRowNumber",props:{title:{},measure:{},placeholder:{default:""},color:{},disabled:{type:Boolean},modelValue:{},bgColor:{},isFlight:{type:Boolean},min:{},max:{},isFloat:{type:Boolean},rules:{},isRequired:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=K(()=>n.bgColor),l=ne(!1),i=K(()=>l.value&&n.isFlight?"input-row_is-borned":"input-row_is-borned-already"),r=K(()=>{for(const c of(n==null?void 0:n.rules)||[]){const d=c(n.modelValue);if(d)return d}return!1}),s=K(()=>r.value?"input-row_is-not-valid":i.value),a=K(()=>typeof r.value=="string"?{content:`<div class="tooltip-block-error">${r.value}</div>`,html:!0,theme:"error"}:null);Ze(()=>{n.isFlight&&(l.value=!0)});const u=c=>t("update:modelValue",c||"");return(c,d)=>{const p=$i("tooltip");return fo((F(),W("div",{class:we(`input-row input relative ${s.value}`),style:Be({backgroundColor:o.value})},[L("div",{class:we(`input-row_title flex-row centered-align ${n.disabled?"disabled":""}`)},[n.color?(F(),W("div",{key:0,class:"input-row_title-color-point",style:Be(`background-color: ${n.color}`)},null,4)):me("",!0),L("p",null,Ie(n.title),1)],2),L("div",{class:we(`nodrag input-row_value flex-row centered-align end ${n.disabled?"disabled":""}`),style:{"padding-right":"8px"}},[B(Sd,{min:c.min,max:c.max,disabled:!!n.disabled,class:"input-row_value-input","is-required":n.isRequired,placeholder:c.placeholder,"model-value":n.modelValue,"is-float":c.isFloat,"onUpdate:modelValue":u,onClick:d[0]||(d[0]=f=>l.value=!1)},null,8,["min","max","disabled","is-required","placeholder","model-value","is-float"]),L("span",Xv,Ie(n.measure),1)],2)],6)),[[p,a.value,void 0,{top:!0}]])}}});const Wv={class:"flex-col gap20",style:{"margin-top":"12px"}},qv={class:"error-modal__ErrorText-sc-16w5a5p-2 iihrIs"},$d=ue({__name:"ErrorModal",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;return(o,l)=>n.modelValue?(F(),pe(Rl,{key:0,onClickOutside:l[1]||(l[1]=i=>t("update:modelValue",null))},{default:re(()=>[B(zt,{title:"Ошибка заполнения форм",class:"project-error","is-in-sight":""},{default:re(()=>[L("div",Wv,[L("div",null,[L("p",qv,Ie(n.modelValue),1)]),L("div",null,[L("button",{class:"project-settings_btn project-settings_btn-cancel",onClick:l[0]||(l[0]=i=>t("update:modelValue",null))},"Закрыть")])])]),_:1})]),_:1})):me("",!0)}});class Za{inDiapazone(t,n,o){return n<=t&&t<=o}isValidForLen2(t){return this.inDiapazone(+t,0,23)}isValidForLen3(t){return this.isValidForLen2(t.substring(0,2))&&t[2]===":"}isValidForLen4(t){return this.isValidForLen3(t.substring(0,3))&&this.inDiapazone(+t[3],0,5)}isValidForLen5(t){return this.isValidForLen4(t.substring(0,4))&&this.inDiapazone(+t[4],0,59)}isValid(t){switch(t==null?void 0:t.length){case 1:return this.inDiapazone(+t,0,2);case 2:return this.isValidForLen2(t);case 3:return this.isValidForLen3(t);case 4:return this.isValidForLen4(t);case 5:return this.isValidForLen5(t)}return!1}isValidFinal(t){return(t==null?void 0:t.length)===5?this.isValidForLen5(t):!1}toTransform(t){if(t&&(t.length===3||t.length===4)&&this.isValidForLen2(t.substring(0,2))&&this.inDiapazone(+t[2],0,5))return console.log("toTransform",`${t.substring(0,2)}:${t.substring(2)}`),`${t.substring(0,2)}:${t.substring(2)}`}}const Zv=L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"8",fill:"none",viewBox:"0 0 12 8"},[L("path",{stroke:"#fff","stroke-linecap":"round","stroke-width":"2",d:"m1.833 4 3.333 2.5 5-5"})],-1),Kv=[Zv],Pn=ue({__name:"CheckBox",props:{title:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;return(o,l)=>(F(),W("div",{class:"checkbox_container undefined flex-row clickable centered-align",onClick:l[0]||(l[0]=i=>t("update:modelValue",!n.modelValue))},[L("div",{class:we(`${n.modelValue?"checkbox_box-clicked":"checkbox_box"} flex centered`)},Kv,2),L("span",null,Ie(n.title),1)]))}});const Jv={class:"flex-col gap8",style:{"margin-top":"12px"}},Qv={class:"flex-col gap8"},e0="Поскольку у вас есть возможность переключаться между утренним и вечерним периодом, время должно быть указано в 12-часовом диапазоне",t0=ue({__name:"Settings",emits:["cancel"],setup(e,{emit:t}){const n=new Za,o=new Za,l=xn(),i=ne(l.building.data.morningStart),r=ne(l.building.data.morningPeak),s=ne(l.building.data.morningFinish),a=ne(l.building.data.eveningStart),u=ne(l.building.data.eveningPeak),c=ne(l.building.data.eveningFinish),d=ne(l.building.data.gradationGood),p=ne(l.building.data.gradationMedium),f=ne(l.building.data.gradationBad),m=ne(l.building.data.autoreturn);Ze(()=>{i.value=l.building.data.morningStart,r.value=l.building.data.morningPeak,s.value=l.building.data.morningFinish,a.value=l.building.data.eveningStart,u.value=l.building.data.eveningPeak,c.value=l.building.data.eveningFinish,d.value=l.building.data.gradationGood,p.value=l.building.data.gradationMedium,f.value=l.building.data.gradationBad,m.value=l.building.data.autoreturn});function h(){l.building.data.morningStart=i.value,l.building.data.morningPeak=r.value,l.building.data.morningFinish=s.value,l.building.data.eveningStart=a.value,l.building.data.eveningPeak=u.value,l.building.data.eveningFinish=c.value,l.building.data.gradationGood=d.value,l.building.data.gradationMedium=p.value,l.building.data.gradationBad=f.value,l.building.data.autoreturn=m.value}const _=ne(null),v=y=>{if(y&&/\d\d[:]\d\d/.test(y)){const[V,S]=y.split(":");return+V*60+ +S}return 0},x=()=>{const y=v(i.value),V=v(r.value),S=v(s.value),z=v(a.value),R=v(u.value),te=v(c.value);console.log(y>V,y,V,V>S,V,S,z>R,z,R,R>te),y>V||V>S||z>R||R>te?_.value=Qe.period:(h(),t("cancel"))},C=()=>{t("cancel")};function b(y){return y!=null&&y!=""&&+p.value<=+y?"Хорошее время ожидания должно быть меньше среднего.":!1}function A(y){return y!=null&&y!=""&&+f.value<=+y?"Среднее время ожидания должно быть меньше среднего.":!1}return(y,V)=>(F(),W(Pe,null,[B(zt,{title:"Глобальные параметры эксперимента",class:"project-settings","is-in-sight":""},{default:re(()=>[L("div",Jv,[B(gn,{title:"Период моделирования","help-text":e0}),B(Ue,{title:"Утро"},{default:re(()=>[B(Kn,{title:"Начальное",color:"#15767D",modelValue:i.value,"onUpdate:modelValue":V[0]||(V[0]=S=>i.value=S),behavior:N(n)},null,8,["modelValue","behavior"]),B(Kn,{title:"Пиковое",color:"#CC2024",modelValue:r.value,"onUpdate:modelValue":V[1]||(V[1]=S=>r.value=S),behavior:N(n)},null,8,["modelValue","behavior"]),B(Kn,{title:"Конечное",color:"#E4BD31",modelValue:s.value,"onUpdate:modelValue":V[2]||(V[2]=S=>s.value=S),behavior:N(n)},null,8,["modelValue","behavior"])]),_:1}),B(Ue,{title:"Вечер"},{default:re(()=>[B(Kn,{title:"Начальное",color:"#15767D",modelValue:a.value,"onUpdate:modelValue":V[3]||(V[3]=S=>a.value=S),behavior:N(o)},null,8,["modelValue","behavior"]),B(Kn,{title:"Пиковое",color:"#CC2024",modelValue:u.value,"onUpdate:modelValue":V[4]||(V[4]=S=>u.value=S),behavior:N(o)},null,8,["modelValue","behavior"]),B(Kn,{title:"Конечное",color:"#E4BD31",modelValue:c.value,"onUpdate:modelValue":V[5]||(V[5]=S=>c.value=S),behavior:N(o)},null,8,["modelValue","behavior"])]),_:1})]),L("div",Qv,[B(Ue,{title:"Градация времени ожидания"},{default:re(()=>[B(Xe,{title:"Хорошее «до»",measure:"сек",modelValue:d.value,"onUpdate:modelValue":V[6]||(V[6]=S=>d.value=S),rules:[S=>!S,S=>b(S)],min:0,max:1e3},null,8,["modelValue","rules"]),B(Xe,{title:"Среднее «до»",measure:"сек",modelValue:p.value,"onUpdate:modelValue":V[7]||(V[7]=S=>p.value=S),rules:[S=>!S,S=>A(S)],min:0,max:1e3},null,8,["modelValue","rules"]),B(Xe,{title:"Плохое «до»",measure:"сек",modelValue:f.value,"onUpdate:modelValue":V[8]||(V[8]=S=>f.value=S),rules:[S=>!S],min:0,max:1e3},null,8,["modelValue","rules"])]),_:1})]),B(Pn,{title:"Разрешить автовозврат лифтов",modelValue:m.value,"onUpdate:modelValue":V[9]||(V[9]=S=>m.value=S)},null,8,["modelValue"]),L("div",{class:"flex-row between"},[L("button",{class:"project-settings_btn project-settings_btn-apply",onClick:x},"Сохранить"),L("button",{class:"project-settings_btn project-settings_btn-cancel",onClick:C},"Отмена")])]),_:1}),B($d,{modelValue:_.value,"onUpdate:modelValue":V[10]||(V[10]=S=>_.value=S)},null,8,["modelValue"])],64))}});const n0={class:"project-header flex-row between centered-align"},o0={class:"flex-row centered-align"},l0={class:"project-header_logo flex-row centered-align"},i0=["src"],r0=lt('<div class="project-header_scale-dropdown-menu flex-row gap12 centered-align clickable" data-tooltip-id="scale-tooltip"><p>25%</p><svg xmlns="http://www.w3.org/2000/svg" width="10" height="6" fill="none" viewBox="0 0 10 6"><path stroke="#1F1F2B" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 1 5 5 1 1"></path></svg></div><div class="project-header_auto-scale flex-row"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="#15767D" fill-opacity="0.6" d="M9 12a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"></path><path fill="#15767D" fill-rule="evenodd" d="M12 2.398c.332 0 .6.323.6.72V4.48a7.544 7.544 0 0 1 6.92 6.92h1.36c.398 0 .72.268.72.6 0 .33-.322.6-.72.6h-1.36a7.544 7.544 0 0 1-6.92 6.919v1.36c0 .398-.268.72-.6.72-.331 0-.6-.322-.6-.72v-1.36a7.544 7.544 0 0 1-6.919-6.92h-1.36c-.398 0-.72-.268-.72-.6 0-.33.322-.6.72-.6h1.36a7.544 7.544 0 0 1 6.92-6.919V3.12c0-.398.268-.72.6-.72Zm6.143 9A6.173 6.173 0 0 0 12.6 5.856V7.84a4.203 4.203 0 0 1 3.558 3.557h1.985Zm-1.985 1.2h1.985a6.173 6.173 0 0 1-5.543 5.543v-1.985a4.203 4.203 0 0 0 3.558-3.558Zm-1.214-1.181c-.312.065-.544.3-.544.581 0 .281.232.517.544.582a3.003 3.003 0 0 1-2.362 2.362c-.065-.312-.301-.544-.582-.544-.28 0-.516.232-.582.544a3.003 3.003 0 0 1-2.361-2.362c.312-.065.543-.3.543-.582 0-.28-.23-.516-.543-.581a3.003 3.003 0 0 1 2.361-2.362c.066.312.302.543.582.543.281 0 .517-.23.582-.543a3.003 3.003 0 0 1 2.362 2.362ZM11.4 18.14a6.173 6.173 0 0 1-5.542-5.543h1.985a4.203 4.203 0 0 0 3.557 3.558v1.985Zm-5.542-6.743h1.985A4.203 4.203 0 0 1 11.4 7.841V5.856a6.173 6.173 0 0 0-5.542 5.542Z" clip-rule="evenodd"></path></svg></div>',2),s0={class:"project-header_info flex-col centered-align relative"},a0={class:"project-header_info-name"},u0={class:"project-header_info-type"},c0={class:"hfKqse flex-row centered-align"},d0={style:{width:"640px",padding:"12px 12px 12px !important"}},f0={class:"flex-row between centered-align main-block-container_content"},p0={class:"flex-row"},h0=["value"],m0={class:"flex-row between"},g0=["onClick"],v0=ue({__name:"ProjectHeader",setup(e){const t=xn(),n=ne(!1),o=ne(!1),l=ne(!1),i=ne(null),r=ne(""),s=()=>{l.value=!0,r.value=JSON.stringify(t.getJson(),null,5)},a=()=>{l.value=!1,t.runSimulationByJson(r.value)},u=async()=>{try{await t.runSimulation()}catch(m){m instanceof Error&&(i.value=m.message)}},c=m=>{var h;return((h=m.target)==null?void 0:h.value)||""},d=m=>{const h=c(m);r.value=h},p=[{text:"Жилое",value:"residential"},{text:"Бизнес",value:"business"},{text:"Смешанное",value:"mixed"}],f=K(()=>{var m;return(m=p.find(h=>h.value===t.trafic.data.buildingType))==null?void 0:m.text});return(m,h)=>(F(),W("div",n0,[L("div",o0,[L("div",l0,[L("img",{alt:"logo",loading:"lazy",height:"40",decoding:"async","data-nimg":"1",src:N(Jg)},null,8,i0)]),r0]),L("div",s0,[B(yv,{onClick:h[0]||(h[0]=_=>n.value=!n.value)}),L("div",a0,Ie(N(t).building.data.name),1),L("p",u0,[ul("Тип здания: "+Ie(f.value)+" ",1),L("span",null,"Кол-во этажей: "+Ie(N(t).building.data.floorsCount),1)])]),L("div",c0,[L("div",{onClick:s,class:"clickable"},"_"),B(mv,{onClick:h[1]||(h[1]=_=>o.value=!o.value)}),B(uv,{modelValue:N(t).isEverning,"onUpdate:modelValue":h[2]||(h[2]=_=>N(t).isEverning=_)},null,8,["modelValue"]),!N(t).isRun||N(t).isRun=="RUNNING"?(F(),pe(tv,{key:0,disabled:!!N(t).errorMessages.size||N(t).isRun==="RUNNING",onClick:u},null,8,["disabled"])):(F(),pe(lv,{key:1,onClick:h[3]||(h[3]=_=>N(t).stopSimulation())}))]),n.value?(F(),pe(Rl,{key:0,onClickOutside:h[5]||(h[5]=_=>n.value=!1)},{default:re(()=>[B(Hv,{onCancel:h[4]||(h[4]=_=>n.value=!n.value)})]),_:1})):me("",!0),o.value?(F(),pe(Rl,{key:1,onClickOutside:h[7]||(h[7]=_=>o.value=!1)},{default:re(()=>[B(t0,{onCancel:h[6]||(h[6]=_=>o.value=!o.value)})]),_:1})):me("",!0),l.value?(F(),pe(Rl,{key:2,onClickOutside:h[9]||(h[9]=_=>l.value=!1)},{default:re(()=>[L("div",d0,[L("div",f0,[L("div",p0,[L("textarea",{name:"Json",cols:"100",rows:"40",value:r.value,onChange:d},`\r
\r
                        `,40,h0)])]),L("div",m0,[L("button",{class:"project-settings_btn project-settings_btn-apply",onClick:Ko(a,["stop"])},"Запустить",8,g0),L("button",{class:"project-settings_btn project-settings_btn-cancel",onClick:h[8]||(h[8]=Ko(_=>l.value=!1,["stop"]))},"Отмена")])])]),_:1})):me("",!0),B($d,{modelValue:i.value,"onUpdate:modelValue":h[10]||(h[10]=_=>i.value=_)},null,8,["modelValue"])]))}});function dl(e){return mi()?(No(e),!0):!1}function Ce(e){return typeof e=="function"?e():N(e)}const Ed=typeof window<"u",y0=e=>typeof e<"u",kd=()=>{};function _0(e,t){function n(...o){return new Promise((l,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(l).catch(i)})}return n}const Cd=e=>e();function w0(e=Cd){const t=ne(!0);function n(){t.value=!1}function o(){t.value=!0}const l=(...i)=>{t.value&&e(...i)};return{isActive:vi(t),pause:n,resume:o,eventFilter:l}}function Ka(e,t=!1,n="Timeout"){return new Promise((o,l)=>{setTimeout(t?()=>l(n):o,e)})}function Fr(...e){if(e.length!==1)return Ye(...e);const t=e[0];return typeof t=="function"?vi(sc(()=>({get:t,set:kd}))):ne(t)}var b0=Object.defineProperty,x0=Object.defineProperties,S0=Object.getOwnPropertyDescriptors,Ja=Object.getOwnPropertySymbols,$0=Object.prototype.hasOwnProperty,E0=Object.prototype.propertyIsEnumerable,Qa=(e,t,n)=>t in e?b0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k0=(e,t)=>{for(var n in t||(t={}))$0.call(t,n)&&Qa(e,n,t[n]);if(Ja)for(var n of Ja(t))E0.call(t,n)&&Qa(e,n,t[n]);return e},C0=(e,t)=>x0(e,S0(t));function V0(e){if(!He(e))return ac(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const n in e.value)t[n]=sc(()=>({get(){return e.value[n]},set(o){if(Array.isArray(e.value)){const l=[...e.value];l[n]=o,e.value=l}else{const l=C0(k0({},e.value),{[n]:o});Object.setPrototypeOf(l,e.value),e.value=l}}}));return t}function Br(e,t=!1){function n(d,{flush:p="sync",deep:f=!1,timeout:m,throwOnTimeout:h}={}){let _=null;const v=[new Promise(x=>{_=$e(e,C=>{d(C)!==t&&(_==null||_(),x(C))},{flush:p,deep:f,immediate:!0})})];return m!=null&&v.push(Ka(m,h).then(()=>Ce(e)).finally(()=>_==null?void 0:_())),Promise.race(v)}function o(d,p){if(!He(d))return n(C=>C===d,p);const{flush:f="sync",deep:m=!1,timeout:h,throwOnTimeout:_}=p??{};let v=null;const x=[new Promise(C=>{v=$e([e,d],([b,A])=>{t!==(b===A)&&(v==null||v(),C(b))},{flush:f,deep:m,immediate:!0})})];return h!=null&&x.push(Ka(h,_).then(()=>Ce(e)).finally(()=>(v==null||v(),Ce(e)))),Promise.race(x)}function l(d){return n(p=>!!p,d)}function i(d){return o(null,d)}function r(d){return o(void 0,d)}function s(d){return n(Number.isNaN,d)}function a(d,p){return n(f=>{const m=Array.from(f);return m.includes(d)||m.includes(Ce(d))},p)}function u(d){return c(1,d)}function c(d=1,p){let f=-1;return n(()=>(f+=1,f>=d),p)}return Array.isArray(Ce(e))?{toMatch:n,toContains:a,changed:u,changedTimes:c,get not(){return Br(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:l,toBeNull:i,toBeNaN:s,toBeUndefined:r,changed:u,changedTimes:c,get not(){return Br(e,!t)}}}function vn(e){return Br(e)}var eu=Object.getOwnPropertySymbols,T0=Object.prototype.hasOwnProperty,N0=Object.prototype.propertyIsEnumerable,P0=(e,t)=>{var n={};for(var o in e)T0.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&eu)for(var o of eu(e))t.indexOf(o)<0&&N0.call(e,o)&&(n[o]=e[o]);return n};function M0(e,t,n={}){const o=n,{eventFilter:l=Cd}=o,i=P0(o,["eventFilter"]);return $e(e,_0(l,t),i)}var F0=Object.defineProperty,B0=Object.defineProperties,A0=Object.getOwnPropertyDescriptors,ti=Object.getOwnPropertySymbols,Vd=Object.prototype.hasOwnProperty,Td=Object.prototype.propertyIsEnumerable,tu=(e,t,n)=>t in e?F0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I0=(e,t)=>{for(var n in t||(t={}))Vd.call(t,n)&&tu(e,n,t[n]);if(ti)for(var n of ti(t))Td.call(t,n)&&tu(e,n,t[n]);return e},O0=(e,t)=>B0(e,A0(t)),D0=(e,t)=>{var n={};for(var o in e)Vd.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ti)for(var o of ti(e))t.indexOf(o)<0&&Td.call(e,o)&&(n[o]=e[o]);return n};function Jn(e,t,n={}){const o=n,{eventFilter:l}=o,i=D0(o,["eventFilter"]),{eventFilter:r,pause:s,resume:a,isActive:u}=w0(l);return{stop:M0(e,t,O0(I0({},i),{eventFilter:r})),pause:s,resume:a,isActive:u}}function Ar(e){var t;const n=Ce(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ks=Ed?window:void 0;function Cs(...e){let t,n,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,l]=e,t=ks):[t,n,o,l]=e,!t)return kd;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],r=()=>{i.forEach(c=>c()),i.length=0},s=(c,d,p,f)=>(c.addEventListener(d,p,f),()=>c.removeEventListener(d,p,f)),a=$e(()=>[Ar(t),Ce(l)],([c,d])=>{r(),c&&i.push(...n.flatMap(p=>o.map(f=>s(c,p,f,d))))},{immediate:!0,flush:"post"}),u=()=>{a(),r()};return dl(u),u}function R0(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function nu(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:l=ks,eventName:i="keydown",passive:r=!1,dedupe:s=!1}=o,a=R0(t);return Cs(l,i,u=>{u.repeat&&Ce(s)||a(u)&&n(u)},r)}function z0(){const e=ne(!1);return Yn()&&Ze(()=>{e.value=!0}),e}function H0(e){const t=z0();return K(()=>(t.value,!!e()))}function L0(e){return JSON.parse(JSON.stringify(e))}var ou=Object.getOwnPropertySymbols,U0=Object.prototype.hasOwnProperty,j0=Object.prototype.propertyIsEnumerable,G0=(e,t)=>{var n={};for(var o in e)U0.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ou)for(var o of ou(e))t.indexOf(o)<0&&j0.call(e,o)&&(n[o]=e[o]);return n};function Y0(e,t,n={}){const o=n,{window:l=ks}=o,i=G0(o,["window"]);let r;const s=H0(()=>l&&"ResizeObserver"in l),a=()=>{r&&(r.disconnect(),r=void 0)},u=K(()=>Array.isArray(e)?e.map(p=>Ar(p)):[Ar(e)]),c=$e(u,p=>{if(a(),s.value&&l){r=new ResizeObserver(t);for(const f of p)f&&r.observe(f,i)}},{immediate:!0,flush:"post",deep:!0}),d=()=>{a(),c()};return dl(d),{isSupported:s,stop:d}}function Ro(e,t,n,o={}){var l,i,r;const{clone:s=!1,passive:a=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:p}=o,f=Yn(),m=n||(f==null?void 0:f.emit)||((l=f==null?void 0:f.$emit)==null?void 0:l.bind(f))||((r=(i=f==null?void 0:f.proxy)==null?void 0:i.$emit)==null?void 0:r.bind(f==null?void 0:f.proxy));let h=u;t||(t="modelValue"),h=u||h||`update:${t.toString()}`;const _=C=>s?typeof s=="function"?s(C):L0(C):C,v=()=>y0(e[t])?_(e[t]):d,x=C=>{p?p(C)&&m(h,C):m(h,C)};if(a){const C=v(),b=ne(C);return $e(()=>e[t],A=>b.value=_(A)),$e(b,A=>{(A!==e[t]||c)&&x(A)},{deep:c}),b}else return K({get(){return v()},set(C){x(C)}})}var X0={value:()=>{}};function Bi(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new zl(n)}function zl(e){this._=e}function W0(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",l=n.indexOf(".");if(l>=0&&(o=n.slice(l+1),n=n.slice(0,l)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}zl.prototype=Bi.prototype={constructor:zl,on:function(e,t){var n=this._,o=W0(e+"",n),l,i=-1,r=o.length;if(arguments.length<2){for(;++i<r;)if((l=(e=o[i]).type)&&(l=q0(n[l],e.name)))return l;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<r;)if(l=(e=o[i]).type)n[l]=lu(n[l],e.name,t);else if(t==null)for(l in n)n[l]=lu(n[l],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zl(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var n=new Array(l),o=0,l,i;o<l;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,l=i.length;o<l;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],l=0,i=o.length;l<i;++l)o[l].value.apply(t,n)}};function q0(e,t){for(var n=0,o=e.length,l;n<o;++n)if((l=e[n]).name===t)return l.value}function lu(e,t,n){for(var o=0,l=e.length;o<l;++o)if(e[o].name===t){e[o]=X0,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ir="http://www.w3.org/1999/xhtml";const iu={svg:"http://www.w3.org/2000/svg",xhtml:Ir,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ai(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),iu.hasOwnProperty(t)?{space:iu[t],local:e}:e}function Z0(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ir&&t.documentElement.namespaceURI===Ir?t.createElement(e):t.createElementNS(n,e)}}function K0(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nd(e){var t=Ai(e);return(t.local?K0:Z0)(t)}function J0(){}function Vs(e){return e==null?J0:function(){return this.querySelector(e)}}function Q0(e){typeof e!="function"&&(e=Vs(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var i=t[l],r=i.length,s=o[l]=new Array(r),a,u,c=0;c<r;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),s[c]=u);return new dt(o,this._parents)}function e1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function t1(){return[]}function Pd(e){return e==null?t1:function(){return this.querySelectorAll(e)}}function n1(e){return function(){return e1(e.apply(this,arguments))}}function o1(e){typeof e=="function"?e=n1(e):e=Pd(e);for(var t=this._groups,n=t.length,o=[],l=[],i=0;i<n;++i)for(var r=t[i],s=r.length,a,u=0;u<s;++u)(a=r[u])&&(o.push(e.call(a,a.__data__,u,r)),l.push(a));return new dt(o,l)}function Md(e){return function(){return this.matches(e)}}function Fd(e){return function(t){return t.matches(e)}}var l1=Array.prototype.find;function i1(e){return function(){return l1.call(this.children,e)}}function r1(){return this.firstElementChild}function s1(e){return this.select(e==null?r1:i1(typeof e=="function"?e:Fd(e)))}var a1=Array.prototype.filter;function u1(){return Array.from(this.children)}function c1(e){return function(){return a1.call(this.children,e)}}function d1(e){return this.selectAll(e==null?u1:c1(typeof e=="function"?e:Fd(e)))}function f1(e){typeof e!="function"&&(e=Md(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var i=t[l],r=i.length,s=o[l]=[],a,u=0;u<r;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&s.push(a);return new dt(o,this._parents)}function Bd(e){return new Array(e.length)}function p1(){return new dt(this._enter||this._groups.map(Bd),this._parents)}function ni(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ni.prototype={constructor:ni,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function h1(e){return function(){return e}}function m1(e,t,n,o,l,i){for(var r=0,s,a=t.length,u=i.length;r<u;++r)(s=t[r])?(s.__data__=i[r],o[r]=s):n[r]=new ni(e,i[r]);for(;r<a;++r)(s=t[r])&&(l[r]=s)}function g1(e,t,n,o,l,i,r){var s,a,u=new Map,c=t.length,d=i.length,p=new Array(c),f;for(s=0;s<c;++s)(a=t[s])&&(p[s]=f=r.call(a,a.__data__,s,t)+"",u.has(f)?l[s]=a:u.set(f,a));for(s=0;s<d;++s)f=r.call(e,i[s],s,i)+"",(a=u.get(f))?(o[s]=a,a.__data__=i[s],u.delete(f)):n[s]=new ni(e,i[s]);for(s=0;s<c;++s)(a=t[s])&&u.get(p[s])===a&&(l[s]=a)}function v1(e){return e.__data__}function y1(e,t){if(!arguments.length)return Array.from(this,v1);var n=t?g1:m1,o=this._parents,l=this._groups;typeof e!="function"&&(e=h1(e));for(var i=l.length,r=new Array(i),s=new Array(i),a=new Array(i),u=0;u<i;++u){var c=o[u],d=l[u],p=d.length,f=_1(e.call(c,c&&c.__data__,u,o)),m=f.length,h=s[u]=new Array(m),_=r[u]=new Array(m),v=a[u]=new Array(p);n(c,d,h,_,v,f,t);for(var x=0,C=0,b,A;x<m;++x)if(b=h[x]){for(x>=C&&(C=x+1);!(A=_[C])&&++C<m;);b._next=A||null}}return r=new dt(r,o),r._enter=s,r._exit=a,r}function _1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function w1(){return new dt(this._exit||this._groups.map(Bd),this._parents)}function b1(e,t,n){var o=this.enter(),l=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(l=t(l),l&&(l=l.selection())),n==null?i.remove():n(i),o&&l?o.merge(l).order():l}function x1(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,l=n.length,i=o.length,r=Math.min(l,i),s=new Array(l),a=0;a<r;++a)for(var u=n[a],c=o[a],d=u.length,p=s[a]=new Array(d),f,m=0;m<d;++m)(f=u[m]||c[m])&&(p[m]=f);for(;a<l;++a)s[a]=n[a];return new dt(s,this._parents)}function S1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],l=o.length-1,i=o[l],r;--l>=0;)(r=o[l])&&(i&&r.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(r,i),i=r);return this}function $1(e){e||(e=E1);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,o=n.length,l=new Array(o),i=0;i<o;++i){for(var r=n[i],s=r.length,a=l[i]=new Array(s),u,c=0;c<s;++c)(u=r[c])&&(a[c]=u);a.sort(t)}return new dt(l,this._parents).order()}function E1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function k1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function C1(){return Array.from(this)}function V1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],l=0,i=o.length;l<i;++l){var r=o[l];if(r)return r}return null}function T1(){let e=0;for(const t of this)++e;return e}function N1(){return!this.node()}function P1(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var l=t[n],i=0,r=l.length,s;i<r;++i)(s=l[i])&&e.call(s,s.__data__,i,l);return this}function M1(e){return function(){this.removeAttribute(e)}}function F1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function B1(e,t){return function(){this.setAttribute(e,t)}}function A1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function I1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function O1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function D1(e,t){var n=Ai(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?F1:M1:typeof t=="function"?n.local?O1:I1:n.local?A1:B1)(n,t))}function Ad(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function R1(e){return function(){this.style.removeProperty(e)}}function z1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function H1(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function L1(e,t,n){return arguments.length>1?this.each((t==null?R1:typeof t=="function"?H1:z1)(e,t,n??"")):ho(this.node(),e)}function ho(e,t){return e.style.getPropertyValue(t)||Ad(e).getComputedStyle(e,null).getPropertyValue(t)}function U1(e){return function(){delete this[e]}}function j1(e,t){return function(){this[e]=t}}function G1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Y1(e,t){return arguments.length>1?this.each((t==null?U1:typeof t=="function"?G1:j1)(e,t)):this.node()[e]}function Id(e){return e.trim().split(/^|\s+/)}function Ts(e){return e.classList||new Od(e)}function Od(e){this._node=e,this._names=Id(e.getAttribute("class")||"")}Od.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Dd(e,t){for(var n=Ts(e),o=-1,l=t.length;++o<l;)n.add(t[o])}function Rd(e,t){for(var n=Ts(e),o=-1,l=t.length;++o<l;)n.remove(t[o])}function X1(e){return function(){Dd(this,e)}}function W1(e){return function(){Rd(this,e)}}function q1(e,t){return function(){(t.apply(this,arguments)?Dd:Rd)(this,e)}}function Z1(e,t){var n=Id(e+"");if(arguments.length<2){for(var o=Ts(this.node()),l=-1,i=n.length;++l<i;)if(!o.contains(n[l]))return!1;return!0}return this.each((typeof t=="function"?q1:t?X1:W1)(n,t))}function K1(){this.textContent=""}function J1(e){return function(){this.textContent=e}}function Q1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ey(e){return arguments.length?this.each(e==null?K1:(typeof e=="function"?Q1:J1)(e)):this.node().textContent}function ty(){this.innerHTML=""}function ny(e){return function(){this.innerHTML=e}}function oy(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ly(e){return arguments.length?this.each(e==null?ty:(typeof e=="function"?oy:ny)(e)):this.node().innerHTML}function iy(){this.nextSibling&&this.parentNode.appendChild(this)}function ry(){return this.each(iy)}function sy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ay(){return this.each(sy)}function uy(e){var t=typeof e=="function"?e:Nd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function cy(){return null}function dy(e,t){var n=typeof e=="function"?e:Nd(e),o=t==null?cy:typeof t=="function"?t:Vs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function fy(){var e=this.parentNode;e&&e.removeChild(this)}function py(){return this.each(fy)}function hy(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function my(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gy(e){return this.select(e?my:hy)}function vy(e){return arguments.length?this.property("__data__",e):this.node().__data__}function yy(e){return function(t){e.call(this,t,this.__data__)}}function _y(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function wy(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,l=t.length,i;n<l;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function by(e,t,n){return function(){var o=this.__on,l,i=yy(t);if(o){for(var r=0,s=o.length;r<s;++r)if((l=o[r]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=i,l.options=n),l.value=t;return}}this.addEventListener(e.type,i,n),l={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(l):this.__on=[l]}}function xy(e,t,n){var o=_y(e+""),l,i=o.length,r;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,c;a<u;++a)for(l=0,c=s[a];l<i;++l)if((r=o[l]).type===c.type&&r.name===c.name)return c.value}return}for(s=t?by:wy,l=0;l<i;++l)this.each(s(o[l],t,n));return this}function zd(e,t,n){var o=Ad(e),l=o.CustomEvent;typeof l=="function"?l=new l(t,n):(l=o.document.createEvent("Event"),n?(l.initEvent(t,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(t,!1,!1)),e.dispatchEvent(l)}function Sy(e,t){return function(){return zd(this,e,t)}}function $y(e,t){return function(){return zd(this,e,t.apply(this,arguments))}}function Ey(e,t){return this.each((typeof t=="function"?$y:Sy)(e,t))}function*ky(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],l=0,i=o.length,r;l<i;++l)(r=o[l])&&(yield r)}var Hd=[null];function dt(e,t){this._groups=e,this._parents=t}function fl(){return new dt([[document.documentElement]],Hd)}function Cy(){return this}dt.prototype=fl.prototype={constructor:dt,select:Q0,selectAll:o1,selectChild:s1,selectChildren:d1,filter:f1,data:y1,enter:p1,exit:w1,join:b1,merge:x1,selection:Cy,order:S1,sort:$1,call:k1,nodes:C1,node:V1,size:T1,empty:N1,each:P1,attr:D1,style:L1,property:Y1,classed:Z1,text:ey,html:ly,raise:ry,lower:ay,append:uy,insert:dy,remove:py,clone:gy,datum:vy,on:xy,dispatch:Ey,[Symbol.iterator]:ky};function wt(e){return typeof e=="string"?new dt([[document.querySelector(e)]],[document.documentElement]):new dt([[e]],Hd)}function Vy(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Nt(e,t){if(e=Vy(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ty={passive:!1},ol={capture:!0,passive:!1};function ir(e){e.stopImmediatePropagation()}function so(e){e.preventDefault(),e.stopImmediatePropagation()}function Ld(e){var t=e.document.documentElement,n=wt(e).on("dragstart.drag",so,ol);"onselectstart"in t?n.on("selectstart.drag",so,ol):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ud(e,t){var n=e.document.documentElement,o=wt(e).on("dragstart.drag",null);t&&(o.on("click.drag",so,ol),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const El=e=>()=>e;function Or(e,{sourceEvent:t,subject:n,target:o,identifier:l,active:i,x:r,y:s,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Or.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ny(e){return!e.ctrlKey&&!e.button}function Py(){return this.parentNode}function My(e,t){return t??{x:e.x,y:e.y}}function Fy(){return navigator.maxTouchPoints||"ontouchstart"in this}function By(){var e=Ny,t=Py,n=My,o=Fy,l={},i=Bi("start","drag","end"),r=0,s,a,u,c,d=0;function p(b){b.on("mousedown.drag",f).filter(o).on("touchstart.drag",_).on("touchmove.drag",v,Ty).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(b,A){if(!(c||!e.call(this,b,A))){var y=C(this,t.call(this,b,A),b,A,"mouse");y&&(wt(b.view).on("mousemove.drag",m,ol).on("mouseup.drag",h,ol),Ld(b.view),ir(b),u=!1,s=b.clientX,a=b.clientY,y("start",b))}}function m(b){if(so(b),!u){var A=b.clientX-s,y=b.clientY-a;u=A*A+y*y>d}l.mouse("drag",b)}function h(b){wt(b.view).on("mousemove.drag mouseup.drag",null),Ud(b.view,u),so(b),l.mouse("end",b)}function _(b,A){if(e.call(this,b,A)){var y=b.changedTouches,V=t.call(this,b,A),S=y.length,z,R;for(z=0;z<S;++z)(R=C(this,V,b,A,y[z].identifier,y[z]))&&(ir(b),R("start",b,y[z]))}}function v(b){var A=b.changedTouches,y=A.length,V,S;for(V=0;V<y;++V)(S=l[A[V].identifier])&&(so(b),S("drag",b,A[V]))}function x(b){var A=b.changedTouches,y=A.length,V,S;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),V=0;V<y;++V)(S=l[A[V].identifier])&&(ir(b),S("end",b,A[V]))}function C(b,A,y,V,S,z){var R=i.copy(),te=Nt(z||y,A),G,ie,k;if((k=n.call(b,new Or("beforestart",{sourceEvent:y,target:p,identifier:S,active:r,x:te[0],y:te[1],dx:0,dy:0,dispatch:R}),V))!=null)return G=k.x-te[0]||0,ie=k.y-te[1]||0,function Y(P,U,Z){var ae=te,I;switch(P){case"start":l[S]=Y,I=r++;break;case"end":delete l[S],--r;case"drag":te=Nt(Z||U,A),I=r;break}R.call(P,b,new Or(P,{sourceEvent:U,subject:k,target:p,identifier:S,active:I,x:te[0]+G,y:te[1]+ie,dx:te[0]-ae[0],dy:te[1]-ae[1],dispatch:R}),V)}}return p.filter=function(b){return arguments.length?(e=typeof b=="function"?b:El(!!b),p):e},p.container=function(b){return arguments.length?(t=typeof b=="function"?b:El(b),p):t},p.subject=function(b){return arguments.length?(n=typeof b=="function"?b:El(b),p):n},p.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:El(!!b),p):o},p.on=function(){var b=i.on.apply(i,arguments);return b===i?p:b},p.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,p):Math.sqrt(d)},p}function Ns(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jd(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function pl(){}var ll=.7,oi=1/ll,ao="\\s*([+-]?\\d+)\\s*",il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ay=/^#([0-9a-f]{3,8})$/,Iy=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),Oy=new RegExp(`^rgb\\(${Ot},${Ot},${Ot}\\)$`),Dy=new RegExp(`^rgba\\(${ao},${ao},${ao},${il}\\)$`),Ry=new RegExp(`^rgba\\(${Ot},${Ot},${Ot},${il}\\)$`),zy=new RegExp(`^hsl\\(${il},${Ot},${Ot}\\)$`),Hy=new RegExp(`^hsla\\(${il},${Ot},${Ot},${il}\\)$`),ru={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ns(pl,rl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:su,formatHex:su,formatHex8:Ly,formatHsl:Uy,formatRgb:au,toString:au});function su(){return this.rgb().formatHex()}function Ly(){return this.rgb().formatHex8()}function Uy(){return Gd(this).formatHsl()}function au(){return this.rgb().formatRgb()}function rl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ay.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uu(t):n===3?new st(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Iy.exec(e))?new st(t[1],t[2],t[3],1):(t=Oy.exec(e))?new st(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dy.exec(e))?kl(t[1],t[2],t[3],t[4]):(t=Ry.exec(e))?kl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zy.exec(e))?fu(t[1],t[2]/100,t[3]/100,1):(t=Hy.exec(e))?fu(t[1],t[2]/100,t[3]/100,t[4]):ru.hasOwnProperty(e)?uu(ru[e]):e==="transparent"?new st(NaN,NaN,NaN,0):null}function uu(e){return new st(e>>16&255,e>>8&255,e&255,1)}function kl(e,t,n,o){return o<=0&&(e=t=n=NaN),new st(e,t,n,o)}function jy(e){return e instanceof pl||(e=rl(e)),e?(e=e.rgb(),new st(e.r,e.g,e.b,e.opacity)):new st}function Dr(e,t,n,o){return arguments.length===1?jy(e):new st(e,t,n,o??1)}function st(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Ns(st,Dr,jd(pl,{brighter(e){return e=e==null?oi:Math.pow(oi,e),new st(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ll:Math.pow(ll,e),new st(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new st(Dn(this.r),Dn(this.g),Dn(this.b),li(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cu,formatHex:cu,formatHex8:Gy,formatRgb:du,toString:du}));function cu(){return`#${Fn(this.r)}${Fn(this.g)}${Fn(this.b)}`}function Gy(){return`#${Fn(this.r)}${Fn(this.g)}${Fn(this.b)}${Fn((isNaN(this.opacity)?1:this.opacity)*255)}`}function du(){const e=li(this.opacity);return`${e===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${e===1?")":`, ${e})`}`}function li(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fn(e){return e=Dn(e),(e<16?"0":"")+e.toString(16)}function fu(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bt(e,t,n,o)}function Gd(e){if(e instanceof bt)return new bt(e.h,e.s,e.l,e.opacity);if(e instanceof pl||(e=rl(e)),!e)return new bt;if(e instanceof bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,l=Math.min(t,n,o),i=Math.max(t,n,o),r=NaN,s=i-l,a=(i+l)/2;return s?(t===i?r=(n-o)/s+(n<o)*6:n===i?r=(o-t)/s+2:r=(t-n)/s+4,s/=a<.5?i+l:2-i-l,r*=60):s=a>0&&a<1?0:r,new bt(r,s,a,e.opacity)}function Yy(e,t,n,o){return arguments.length===1?Gd(e):new bt(e,t,n,o??1)}function bt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Ns(bt,Yy,jd(pl,{brighter(e){return e=e==null?oi:Math.pow(oi,e),new bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ll:Math.pow(ll,e),new bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,l=2*n-o;return new st(rr(e>=240?e-240:e+120,l,o),rr(e,l,o),rr(e<120?e+240:e-120,l,o),this.opacity)},clamp(){return new bt(pu(this.h),Cl(this.s),Cl(this.l),li(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=li(this.opacity);return`${e===1?"hsl(":"hsla("}${pu(this.h)}, ${Cl(this.s)*100}%, ${Cl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pu(e){return e=(e||0)%360,e<0?e+360:e}function Cl(e){return Math.max(0,Math.min(1,e||0))}function rr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yd=e=>()=>e;function Xy(e,t){return function(n){return e+n*t}}function Wy(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function qy(e){return(e=+e)==1?Xd:function(t,n){return n-t?Wy(t,n,e):Yd(isNaN(t)?n:t)}}function Xd(e,t){var n=t-e;return n?Xy(e,n):Yd(isNaN(e)?t:e)}const hu=function e(t){var n=qy(t);function o(l,i){var r=n((l=Dr(l)).r,(i=Dr(i)).r),s=n(l.g,i.g),a=n(l.b,i.b),u=Xd(l.opacity,i.opacity);return function(c){return l.r=r(c),l.g=s(c),l.b=a(c),l.opacity=u(c),l+""}}return o.gamma=e,o}(1);function un(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sr=new RegExp(Rr.source,"g");function Zy(e){return function(){return e}}function Ky(e){return function(t){return e(t)+""}}function Jy(e,t){var n=Rr.lastIndex=sr.lastIndex=0,o,l,i,r=-1,s=[],a=[];for(e=e+"",t=t+"";(o=Rr.exec(e))&&(l=sr.exec(t));)(i=l.index)>n&&(i=t.slice(n,i),s[r]?s[r]+=i:s[++r]=i),(o=o[0])===(l=l[0])?s[r]?s[r]+=l:s[++r]=l:(s[++r]=null,a.push({i:r,x:un(o,l)})),n=sr.lastIndex;return n<t.length&&(i=t.slice(n),s[r]?s[r]+=i:s[++r]=i),s.length<2?a[0]?Ky(a[0].x):Zy(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)s[(d=a[c]).i]=d.x(u);return s.join("")})}var mu=180/Math.PI,Wd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qd(e,t,n,o,l,i){var r,s,a;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(a=e*n+t*o)&&(n-=e*a,o-=t*a),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,a/=s),e*o<t*n&&(e=-e,t=-t,a=-a,r=-r),{translateX:l,translateY:i,rotate:Math.atan2(t,e)*mu,skewX:Math.atan(a)*mu,scaleX:r,scaleY:s}}var Vl;function Qy(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wd:qd(t.a,t.b,t.c,t.d,t.e,t.f)}function e_(e){return e==null||(Vl||(Vl=document.createElementNS("http://www.w3.org/2000/svg","g")),Vl.setAttribute("transform",e),!(e=Vl.transform.baseVal.consolidate()))?Wd:(e=e.matrix,qd(e.a,e.b,e.c,e.d,e.e,e.f))}function Zd(e,t,n,o){function l(u){return u.length?u.pop()+" ":""}function i(u,c,d,p,f,m){if(u!==d||c!==p){var h=f.push("translate(",null,t,null,n);m.push({i:h-4,x:un(u,d)},{i:h-2,x:un(c,p)})}else(d||p)&&f.push("translate("+d+t+p+n)}function r(u,c,d,p){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),p.push({i:d.push(l(d)+"rotate(",null,o)-2,x:un(u,c)})):c&&d.push(l(d)+"rotate("+c+o)}function s(u,c,d,p){u!==c?p.push({i:d.push(l(d)+"skewX(",null,o)-2,x:un(u,c)}):c&&d.push(l(d)+"skewX("+c+o)}function a(u,c,d,p,f,m){if(u!==d||c!==p){var h=f.push(l(f)+"scale(",null,",",null,")");m.push({i:h-4,x:un(u,d)},{i:h-2,x:un(c,p)})}else(d!==1||p!==1)&&f.push(l(f)+"scale("+d+","+p+")")}return function(u,c){var d=[],p=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,d,p),r(u.rotate,c.rotate,d,p),s(u.skewX,c.skewX,d,p),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,p),u=c=null,function(f){for(var m=-1,h=p.length,_;++m<h;)d[(_=p[m]).i]=_.x(f);return d.join("")}}}var t_=Zd(Qy,"px, ","px)","deg)"),n_=Zd(e_,", ",")",")"),o_=1e-12;function gu(e){return((e=Math.exp(e))+1/e)/2}function l_(e){return((e=Math.exp(e))-1/e)/2}function i_(e){return((e=Math.exp(2*e))-1)/(e+1)}const r_=function e(t,n,o){function l(i,r){var s=i[0],a=i[1],u=i[2],c=r[0],d=r[1],p=r[2],f=c-s,m=d-a,h=f*f+m*m,_,v;if(h<o_)v=Math.log(p/u)/t,_=function(V){return[s+V*f,a+V*m,u*Math.exp(t*V*v)]};else{var x=Math.sqrt(h),C=(p*p-u*u+o*h)/(2*u*n*x),b=(p*p-u*u-o*h)/(2*p*n*x),A=Math.log(Math.sqrt(C*C+1)-C),y=Math.log(Math.sqrt(b*b+1)-b);v=(y-A)/t,_=function(V){var S=V*v,z=gu(A),R=u/(n*x)*(z*i_(t*S+A)-l_(A));return[s+R*f,a+R*m,u*z/gu(t*S+A)]}}return _.duration=v*1e3*t/Math.SQRT2,_}return l.rho=function(i){var r=Math.max(.001,+i),s=r*r,a=s*s;return e(r,s,a)},l}(Math.SQRT2,2,4);var mo=0,Vo=0,$o=0,Kd=1e3,ii,To,ri=0,Un=0,Ii=0,sl=typeof performance=="object"&&performance.now?performance:Date,Jd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ps(){return Un||(Jd(s_),Un=sl.now()+Ii)}function s_(){Un=0}function si(){this._call=this._time=this._next=null}si.prototype=Qd.prototype={constructor:si,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ps():+n)+(t==null?0:+t),!this._next&&To!==this&&(To?To._next=this:ii=this,To=this),this._call=e,this._time=n,zr()},stop:function(){this._call&&(this._call=null,this._time=1/0,zr())}};function Qd(e,t,n){var o=new si;return o.restart(e,t,n),o}function a_(){Ps(),++mo;for(var e=ii,t;e;)(t=Un-e._time)>=0&&e._call.call(void 0,t),e=e._next;--mo}function vu(){Un=(ri=sl.now())+Ii,mo=Vo=0;try{a_()}finally{mo=0,c_(),Un=0}}function u_(){var e=sl.now(),t=e-ri;t>Kd&&(Ii-=t,ri=e)}function c_(){for(var e,t=ii,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ii=n);To=e,zr(o)}function zr(e){if(!mo){Vo&&(Vo=clearTimeout(Vo));var t=e-Un;t>24?(e<1/0&&(Vo=setTimeout(vu,e-sl.now()-Ii)),$o&&($o=clearInterval($o))):($o||(ri=sl.now(),$o=setInterval(u_,Kd)),mo=1,Jd(vu))}}function yu(e,t,n){var o=new si;return t=t==null?0:+t,o.restart(l=>{o.stop(),e(l+t)},t,n),o}var d_=Bi("start","end","cancel","interrupt"),f_=[],ef=0,_u=1,Hr=2,Hl=3,wu=4,Lr=5,Ll=6;function Oi(e,t,n,o,l,i){var r=e.__transition;if(!r)e.__transition={};else if(n in r)return;p_(e,n,{name:t,index:o,group:l,on:d_,tween:f_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ef})}function Ms(e,t){var n=kt(e,t);if(n.state>ef)throw new Error("too late; already scheduled");return n}function Ht(e,t){var n=kt(e,t);if(n.state>Hl)throw new Error("too late; already running");return n}function kt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function p_(e,t,n){var o=e.__transition,l;o[t]=n,n.timer=Qd(i,0,n.time);function i(u){n.state=_u,n.timer.restart(r,n.delay,n.time),n.delay<=u&&r(u-n.delay)}function r(u){var c,d,p,f;if(n.state!==_u)return a();for(c in o)if(f=o[c],f.name===n.name){if(f.state===Hl)return yu(r);f.state===wu?(f.state=Ll,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=Ll,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(yu(function(){n.state===Hl&&(n.state=wu,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Hr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Hr){for(n.state=Hl,l=new Array(p=n.tween.length),c=0,d=-1;c<p;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(l[++d]=f);l.length=d+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Lr,1),d=-1,p=l.length;++d<p;)l[d].call(e,c);n.state===Lr&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Ll,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Ul(e,t){var n=e.__transition,o,l,i=!0,r;if(n){t=t==null?null:t+"";for(r in n){if((o=n[r]).name!==t){i=!1;continue}l=o.state>Hr&&o.state<Lr,o.state=Ll,o.timer.stop(),o.on.call(l?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[r]}i&&delete e.__transition}}function h_(e){return this.each(function(){Ul(this,e)})}function m_(e,t){var n,o;return function(){var l=Ht(this,e),i=l.tween;if(i!==n){o=n=i;for(var r=0,s=o.length;r<s;++r)if(o[r].name===t){o=o.slice(),o.splice(r,1);break}}l.tween=o}}function g_(e,t,n){var o,l;if(typeof n!="function")throw new Error;return function(){var i=Ht(this,e),r=i.tween;if(r!==o){l=(o=r).slice();for(var s={name:t,value:n},a=0,u=l.length;a<u;++a)if(l[a].name===t){l[a]=s;break}a===u&&l.push(s)}i.tween=l}}function v_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=kt(this.node(),n).tween,l=0,i=o.length,r;l<i;++l)if((r=o[l]).name===e)return r.value;return null}return this.each((t==null?m_:g_)(n,e,t))}function Fs(e,t,n){var o=e._id;return e.each(function(){var l=Ht(this,o);(l.value||(l.value={}))[t]=n.apply(this,arguments)}),function(l){return kt(l,o).value[t]}}function tf(e,t){var n;return(typeof t=="number"?un:t instanceof rl?hu:(n=rl(t))?(t=n,hu):Jy)(e,t)}function y_(e){return function(){this.removeAttribute(e)}}function __(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w_(e,t,n){var o,l=n+"",i;return function(){var r=this.getAttribute(e);return r===l?null:r===o?i:i=t(o=r,n)}}function b_(e,t,n){var o,l=n+"",i;return function(){var r=this.getAttributeNS(e.space,e.local);return r===l?null:r===o?i:i=t(o=r,n)}}function x_(e,t,n){var o,l,i;return function(){var r,s=n(this),a;return s==null?void this.removeAttribute(e):(r=this.getAttribute(e),a=s+"",r===a?null:r===o&&a===l?i:(l=a,i=t(o=r,s)))}}function S_(e,t,n){var o,l,i;return function(){var r,s=n(this),a;return s==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),a=s+"",r===a?null:r===o&&a===l?i:(l=a,i=t(o=r,s)))}}function $_(e,t){var n=Ai(e),o=n==="transform"?n_:tf;return this.attrTween(e,typeof t=="function"?(n.local?S_:x_)(n,o,Fs(this,"attr."+e,t)):t==null?(n.local?__:y_)(n):(n.local?b_:w_)(n,o,t))}function E_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function k_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function C_(e,t){var n,o;function l(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&k_(e,i)),n}return l._value=t,l}function V_(e,t){var n,o;function l(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&E_(e,i)),n}return l._value=t,l}function T_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Ai(e);return this.tween(n,(o.local?C_:V_)(o,t))}function N_(e,t){return function(){Ms(this,e).delay=+t.apply(this,arguments)}}function P_(e,t){return t=+t,function(){Ms(this,e).delay=t}}function M_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?N_:P_)(t,e)):kt(this.node(),t).delay}function F_(e,t){return function(){Ht(this,e).duration=+t.apply(this,arguments)}}function B_(e,t){return t=+t,function(){Ht(this,e).duration=t}}function A_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?F_:B_)(t,e)):kt(this.node(),t).duration}function I_(e,t){if(typeof t!="function")throw new Error;return function(){Ht(this,e).ease=t}}function O_(e){var t=this._id;return arguments.length?this.each(I_(t,e)):kt(this.node(),t).ease}function D_(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ht(this,e).ease=n}}function R_(e){if(typeof e!="function")throw new Error;return this.each(D_(this._id,e))}function z_(e){typeof e!="function"&&(e=Md(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var i=t[l],r=i.length,s=o[l]=[],a,u=0;u<r;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&s.push(a);return new Kt(o,this._parents,this._name,this._id)}function H_(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,l=n.length,i=Math.min(o,l),r=new Array(o),s=0;s<i;++s)for(var a=t[s],u=n[s],c=a.length,d=r[s]=new Array(c),p,f=0;f<c;++f)(p=a[f]||u[f])&&(d[f]=p);for(;s<o;++s)r[s]=t[s];return new Kt(r,this._parents,this._name,this._id)}function L_(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function U_(e,t,n){var o,l,i=L_(t)?Ms:Ht;return function(){var r=i(this,e),s=r.on;s!==o&&(l=(o=s).copy()).on(t,n),r.on=l}}function j_(e,t){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(e):this.each(U_(n,e,t))}function G_(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Y_(){return this.on("end.remove",G_(this._id))}function X_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vs(e));for(var o=this._groups,l=o.length,i=new Array(l),r=0;r<l;++r)for(var s=o[r],a=s.length,u=i[r]=new Array(a),c,d,p=0;p<a;++p)(c=s[p])&&(d=e.call(c,c.__data__,p,s))&&("__data__"in c&&(d.__data__=c.__data__),u[p]=d,Oi(u[p],t,n,p,u,kt(c,n)));return new Kt(i,this._parents,t,n)}function W_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Pd(e));for(var o=this._groups,l=o.length,i=[],r=[],s=0;s<l;++s)for(var a=o[s],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var p=e.call(c,c.__data__,d,a),f,m=kt(c,n),h=0,_=p.length;h<_;++h)(f=p[h])&&Oi(f,t,n,h,p,m);i.push(p),r.push(c)}return new Kt(i,r,t,n)}var q_=fl.prototype.constructor;function Z_(){return new q_(this._groups,this._parents)}function K_(e,t){var n,o,l;return function(){var i=ho(this,e),r=(this.style.removeProperty(e),ho(this,e));return i===r?null:i===n&&r===o?l:l=t(n=i,o=r)}}function nf(e){return function(){this.style.removeProperty(e)}}function J_(e,t,n){var o,l=n+"",i;return function(){var r=ho(this,e);return r===l?null:r===o?i:i=t(o=r,n)}}function Q_(e,t,n){var o,l,i;return function(){var r=ho(this,e),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(e),ho(this,e))),r===a?null:r===o&&a===l?i:(l=a,i=t(o=r,s))}}function ew(e,t){var n,o,l,i="style."+t,r="end."+i,s;return function(){var a=Ht(this,e),u=a.on,c=a.value[i]==null?s||(s=nf(t)):void 0;(u!==n||l!==c)&&(o=(n=u).copy()).on(r,l=c),a.on=o}}function tw(e,t,n){var o=(e+="")=="transform"?t_:tf;return t==null?this.styleTween(e,K_(e,o)).on("end.style."+e,nf(e)):typeof t=="function"?this.styleTween(e,Q_(e,o,Fs(this,"style."+e,t))).each(ew(this._id,e)):this.styleTween(e,J_(e,o,t),n).on("end.style."+e,null)}function nw(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function ow(e,t,n){var o,l;function i(){var r=t.apply(this,arguments);return r!==l&&(o=(l=r)&&nw(e,r,n)),o}return i._value=t,i}function lw(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,ow(e,t,n??""))}function iw(e){return function(){this.textContent=e}}function rw(e){return function(){var t=e(this);this.textContent=t??""}}function sw(e){return this.tween("text",typeof e=="function"?rw(Fs(this,"text",e)):iw(e==null?"":e+""))}function aw(e){return function(t){this.textContent=e.call(this,t)}}function uw(e){var t,n;function o(){var l=e.apply(this,arguments);return l!==n&&(t=(n=l)&&aw(l)),t}return o._value=e,o}function cw(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,uw(e))}function dw(){for(var e=this._name,t=this._id,n=of(),o=this._groups,l=o.length,i=0;i<l;++i)for(var r=o[i],s=r.length,a,u=0;u<s;++u)if(a=r[u]){var c=kt(a,t);Oi(a,e,n,u,r,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Kt(o,this._parents,e,n)}function fw(){var e,t,n=this,o=n._id,l=n.size();return new Promise(function(i,r){var s={value:r},a={value:function(){--l===0&&i()}};n.each(function(){var u=Ht(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(a)),u.on=t}),l===0&&i()})}var pw=0;function Kt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function of(){return++pw}var Lt=fl.prototype;Kt.prototype={constructor:Kt,select:X_,selectAll:W_,selectChild:Lt.selectChild,selectChildren:Lt.selectChildren,filter:z_,merge:H_,selection:Z_,transition:dw,call:Lt.call,nodes:Lt.nodes,node:Lt.node,size:Lt.size,empty:Lt.empty,each:Lt.each,on:j_,attr:$_,attrTween:T_,style:tw,styleTween:lw,text:sw,textTween:cw,remove:Y_,tween:v_,delay:M_,duration:A_,ease:O_,easeVarying:R_,end:fw,[Symbol.iterator]:Lt[Symbol.iterator]};function hw(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mw={time:null,delay:0,duration:250,ease:hw};function gw(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function vw(e){var t,n;e instanceof Kt?(t=e._id,e=e._name):(t=of(),(n=mw).time=Ps(),e=e==null?null:e+"");for(var o=this._groups,l=o.length,i=0;i<l;++i)for(var r=o[i],s=r.length,a,u=0;u<s;++u)(a=r[u])&&Oi(a,e,t,u,r,n||gw(a,t));return new Kt(o,this._parents,e,t)}fl.prototype.interrupt=h_;fl.prototype.transition=vw;const Tl=e=>()=>e;function yw(e,{sourceEvent:t,target:n,transform:o,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:l}})}function Yt(e,t,n){this.k=e,this.x=t,this.y=n}Yt.prototype={constructor:Yt,scale:function(e){return e===1?this:new Yt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var go=new Yt(1,0,0);Yt.prototype;function ar(e){e.stopImmediatePropagation()}function Eo(e){e.preventDefault(),e.stopImmediatePropagation()}function _w(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ww(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function bu(){return this.__zoom||go}function bw(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function xw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sw(e,t,n){var o=e.invertX(t[0][0])-n[0][0],l=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],r=e.invertY(t[1][1])-n[1][1];return e.translate(l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}function $w(){var e=_w,t=ww,n=Sw,o=bw,l=xw,i=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],s=250,a=r_,u=Bi("start","zoom","end"),c,d,p,f=500,m=150,h=0,_=10;function v(k){k.property("__zoom",bu).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",R).filter(l).on("touchstart.zoom",te).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",ie).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(k,Y,P,U){var Z=k.selection?k.selection():k;Z.property("__zoom",bu),k!==Z?A(k,Y,P,U):Z.interrupt().each(function(){y(this,arguments).event(U).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},v.scaleBy=function(k,Y,P,U){v.scaleTo(k,function(){var Z=this.__zoom.k,ae=typeof Y=="function"?Y.apply(this,arguments):Y;return Z*ae},P,U)},v.scaleTo=function(k,Y,P,U){v.transform(k,function(){var Z=t.apply(this,arguments),ae=this.__zoom,I=P==null?b(Z):typeof P=="function"?P.apply(this,arguments):P,j=ae.invert(I),O=typeof Y=="function"?Y.apply(this,arguments):Y;return n(C(x(ae,O),I,j),Z,r)},P,U)},v.translateBy=function(k,Y,P,U){v.transform(k,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),r)},null,U)},v.translateTo=function(k,Y,P,U,Z){v.transform(k,function(){var ae=t.apply(this,arguments),I=this.__zoom,j=U==null?b(ae):typeof U=="function"?U.apply(this,arguments):U;return n(go.translate(j[0],j[1]).scale(I.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof P=="function"?-P.apply(this,arguments):-P),ae,r)},U,Z)};function x(k,Y){return Y=Math.max(i[0],Math.min(i[1],Y)),Y===k.k?k:new Yt(Y,k.x,k.y)}function C(k,Y,P){var U=Y[0]-P[0]*k.k,Z=Y[1]-P[1]*k.k;return U===k.x&&Z===k.y?k:new Yt(k.k,U,Z)}function b(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function A(k,Y,P,U){k.on("start.zoom",function(){y(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).event(U).end()}).tween("zoom",function(){var Z=this,ae=arguments,I=y(Z,ae).event(U),j=t.apply(Z,ae),O=P==null?b(j):typeof P=="function"?P.apply(Z,ae):P,J=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),he=Z.__zoom,ee=typeof Y=="function"?Y.apply(Z,ae):Y,se=a(he.invert(O).concat(J/he.k),ee.invert(O).concat(J/ee.k));return function(le){if(le===1)le=ee;else{var de=se(le),Se=J/de[2];le=new Yt(Se,O[0]-de[0]*Se,O[1]-de[1]*Se)}I.zoom(null,le)}})}function y(k,Y,P){return!P&&k.__zooming||new V(k,Y)}function V(k,Y){this.that=k,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,Y),this.taps=0}V.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,Y){return this.mouse&&k!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var Y=wt(this.that).datum();u.call(k,this.that,new yw(k,{sourceEvent:this.sourceEvent,target:v,type:k,transform:this.that.__zoom,dispatch:u}),Y)}};function S(k,...Y){if(!e.apply(this,arguments))return;var P=y(this,Y).event(k),U=this.__zoom,Z=Math.max(i[0],Math.min(i[1],U.k*Math.pow(2,o.apply(this,arguments)))),ae=Nt(k);if(P.wheel)(P.mouse[0][0]!==ae[0]||P.mouse[0][1]!==ae[1])&&(P.mouse[1]=U.invert(P.mouse[0]=ae)),clearTimeout(P.wheel);else{if(U.k===Z)return;P.mouse=[ae,U.invert(ae)],Ul(this),P.start()}Eo(k),P.wheel=setTimeout(I,m),P.zoom("mouse",n(C(x(U,Z),P.mouse[0],P.mouse[1]),P.extent,r));function I(){P.wheel=null,P.end()}}function z(k,...Y){if(p||!e.apply(this,arguments))return;var P=k.currentTarget,U=y(this,Y,!0).event(k),Z=wt(k.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",J,!0),ae=Nt(k,P),I=k.clientX,j=k.clientY;Ld(k.view),ar(k),U.mouse=[ae,this.__zoom.invert(ae)],Ul(this),U.start();function O(he){if(Eo(he),!U.moved){var ee=he.clientX-I,se=he.clientY-j;U.moved=ee*ee+se*se>h}U.event(he).zoom("mouse",n(C(U.that.__zoom,U.mouse[0]=Nt(he,P),U.mouse[1]),U.extent,r))}function J(he){Z.on("mousemove.zoom mouseup.zoom",null),Ud(he.view,U.moved),Eo(he),U.event(he).end()}}function R(k,...Y){if(e.apply(this,arguments)){var P=this.__zoom,U=Nt(k.changedTouches?k.changedTouches[0]:k,this),Z=P.invert(U),ae=P.k*(k.shiftKey?.5:2),I=n(C(x(P,ae),U,Z),t.apply(this,Y),r);Eo(k),s>0?wt(this).transition().duration(s).call(A,I,U,k):wt(this).call(v.transform,I,U,k)}}function te(k,...Y){if(e.apply(this,arguments)){var P=k.touches,U=P.length,Z=y(this,Y,k.changedTouches.length===U).event(k),ae,I,j,O;for(ar(k),I=0;I<U;++I)j=P[I],O=Nt(j,this),O=[O,this.__zoom.invert(O),j.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==O[2]&&(Z.touch1=O,Z.taps=0):(Z.touch0=O,ae=!0,Z.taps=1+!!c);c&&(c=clearTimeout(c)),ae&&(Z.taps<2&&(d=O[0],c=setTimeout(function(){c=null},f)),Ul(this),Z.start())}}function G(k,...Y){if(this.__zooming){var P=y(this,Y).event(k),U=k.changedTouches,Z=U.length,ae,I,j,O;for(Eo(k),ae=0;ae<Z;++ae)I=U[ae],j=Nt(I,this),P.touch0&&P.touch0[2]===I.identifier?P.touch0[0]=j:P.touch1&&P.touch1[2]===I.identifier&&(P.touch1[0]=j);if(I=P.that.__zoom,P.touch1){var J=P.touch0[0],he=P.touch0[1],ee=P.touch1[0],se=P.touch1[1],le=(le=ee[0]-J[0])*le+(le=ee[1]-J[1])*le,de=(de=se[0]-he[0])*de+(de=se[1]-he[1])*de;I=x(I,Math.sqrt(le/de)),j=[(J[0]+ee[0])/2,(J[1]+ee[1])/2],O=[(he[0]+se[0])/2,(he[1]+se[1])/2]}else if(P.touch0)j=P.touch0[0],O=P.touch0[1];else return;P.zoom("touch",n(C(I,j,O),P.extent,r))}}function ie(k,...Y){if(this.__zooming){var P=y(this,Y).event(k),U=k.changedTouches,Z=U.length,ae,I;for(ar(k),p&&clearTimeout(p),p=setTimeout(function(){p=null},f),ae=0;ae<Z;++ae)I=U[ae],P.touch0&&P.touch0[2]===I.identifier?delete P.touch0:P.touch1&&P.touch1[2]===I.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(I=Nt(I,this),Math.hypot(d[0]-I[0],d[1]-I[1])<_)){var j=wt(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return v.wheelDelta=function(k){return arguments.length?(o=typeof k=="function"?k:Tl(+k),v):o},v.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Tl(!!k),v):e},v.touchable=function(k){return arguments.length?(l=typeof k=="function"?k:Tl(!!k),v):l},v.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Tl([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),v):t},v.scaleExtent=function(k){return arguments.length?(i[0]=+k[0],i[1]=+k[1],v):[i[0],i[1]]},v.translateExtent=function(k){return arguments.length?(r[0][0]=+k[0][0],r[1][0]=+k[1][0],r[0][1]=+k[0][1],r[1][1]=+k[1][1],v):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},v.constrain=function(k){return arguments.length?(n=k,v):n},v.duration=function(k){return arguments.length?(s=+k,v):s},v.interpolate=function(k){return arguments.length?(a=k,v):a},v.on=function(){var k=u.on.apply(u,arguments);return k===u?v:k},v.clickDistance=function(k){return arguments.length?(h=(k=+k)*k,v):Math.sqrt(h)},v.tapDistance=function(k){return arguments.length?(_=+k,v):_},v}var ve=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ve||{}),Bs=(e=>(e.Partial="partial",e.Full="full",e))(Bs||{}),eo=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(eo||{}),bn=(e=>(e.Strict="strict",e.Loose="loose",e))(bn||{}),Ur=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Ur||{}),ai=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(ai||{}),lf=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(lf||{});const rf="vue-flow__node-desc",sf="vue-flow__edge-desc",Ew="vue-flow__aria-live",af=["Enter"," ","Escape"],uo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function xu(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function jr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Di(e){return{width:e.offsetWidth,height:e.offsetHeight}}function jn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function uf(e,t){return{x:jn(e.x,t[0][0],t[1][0]),y:jn(e.y,t[0][1],t[1][1])}}function Su(e){const t=e.getRootNode(),n=Rs();return"elementFromPoint"in t?t:n.document}function vo(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function kw(e){return vo(e)&&"sourceNode"in e&&"targetNode"in e}function zo(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!vo(e)}function to(e){return zo(e)&&"computedPosition"in e}function Cw(e){return!!e.width&&!!e.height&&!!e.x&&!!e.y}function Vw(e,t={}){let n=t;return to(e)||(n={type:e.type??t.type??"default",dimensions:Bt({width:0,height:0}),handleBounds:{source:[],target:[]},computedPosition:Bt({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,...t,data:Re(e.data)?e.data:{},events:Bt(Re(e.events)?e.events:{})}),Object.assign({},n,e,{id:e.id.toString()})}function cf(e,t={}){const n=Re(e.events)?e.events:t.events&&Re(t.events)?t.events:{},o=Re(e.data)?e.data:t.data&&Re(t.data)?t.data:{};return t=kw(e)?t:{...t,sourceHandle:(e.sourceHandle?e.sourceHandle.toString():void 0)||t.sourceHandle,targetHandle:(e.targetHandle?e.targetHandle.toString():void 0)||t.targetHandle,type:e.type??t.type??"default",source:e.source.toString()||t.source,target:e.target.toString()||t.target,updatable:e.updatable??t.updatable,selectable:e.selectable??t.selectable,focusable:e.focusable??t.focusable,data:o,events:Bt(n),label:(e.label&&!cn(e.label)?Bt(e.label):e.label)||t.label,interactionWidth:e.interactionWidth||t.interactionWidth},Object.assign({},t,e,{id:e.id.toString()})}function df({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function Tw(e,t){return t.some(n=>vo(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Nw({x:e,y:t},{x:n,y:o,zoom:l}){return{x:e*l+n,y:t*l+o}}function ff({x:e,y:t},{x:n,y:o,zoom:l},i,[r,s]){const a={x:(e-n)/l,y:(t-o)/l};return i?{x:r*Math.round(a.x/r),y:s*Math.round(a.y/s)}:a}function Pw(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function pf({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Mw({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function hf(e){const t=e.reduce((n,{computedPosition:o={x:0,y:0},dimensions:l={width:0,height:0}}={})=>Pw(n,pf({...o,...l})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Mw(t)}function mf(e,t,{x:n,y:o,zoom:l}={x:0,y:0,zoom:1},i=!1,r=!1){const s={x:(t.x-n)/l,y:(t.y-o)/l,width:t.width/l,height:t.height/l};return e.filter(a=>{const{computedPosition:u={x:0,y:0},dimensions:c={width:0,height:0},selectable:d}=a;if(r&&!d)return!1;const p={...u,width:c.width||0,height:c.height||0},f=jr(s,p),m=typeof c.width>"u"||typeof c.height>"u"||c.width===0||c.height===0,h=i&&f>0,_=c.width*c.height;return m||h||f>=_})}function Ri(e,t){const n=e.map(o=>cn(o)?o:o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))}function $u(e,t,n,o,l,i=.1,r={x:0,y:0}){const s=t/(e.width*(1+i)),a=n/(e.height*(1+i)),u=Math.min(s,a),c=jn(u,o,l),d=e.x+e.width/2,p=e.y+e.height/2,f=t/2-d*c+(r.x??0),m=n/2-p*c+(r.y??0);return{x:f,y:m,zoom:c}}function Fw(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function gf(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:gf(n,t):!1}function Bn(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`}function Eu(e,t,n){return e<t?jn(Math.abs(e-t),1,50)/50:e>n?-jn(Math.abs(e-n),1,50)/50:0}function vf(e,t){const n=Eu(e.x,35,t.width-35)*20,o=Eu(e.y,35,t.height-35)*20;return[n,o]}function ur(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let l={};if(yo(t.style)?l={...t.style(t)}:t.style&&(l={...t.style}),l.width=l.width??`${t.dimensions.width}px`,l.height=l.height??`${t.dimensions.height}px`,n>0)if(cn(l.width)){const i=Number(l.width.replace("px",""));l.width=`${i+n}px`}else l.width+=n;if(o>0)if(cn(l.height)){const i=Number(l.height.replace("px",""));l.height=`${i+o}px`}else l.height+=o;if(e.position.x<0){const i=Math.abs(e.position.x);if(t.position.x=t.position.x-i,cn(l.width)){const r=Number(l.width.replace("px",""));l.width=`${r+i}px`}else l.width+=i;e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);if(t.position.y=t.position.y-i,cn(l.height)){const r=Number(l.height.replace("px",""));l.height=`${r+i}px`}else l.height+=i;e.position.y=0}t.dimensions.width=Number(l.width.toString().replace("px","")),t.dimensions.height=Number(l.height.toString().replace("px","")),yo(t.style)?t.style=i=>{const r=t.style;return{...r(i),...l}}:t.style={...t.style,...l}}}}function ku(e,t){e.filter(o=>o.type==="add"||o.type==="remove").forEach(o=>{if(o.type==="add")t.findIndex(l=>l.id===o.item.id)===-1&&t.push(o.item);else if(o.type==="remove"){const l=t.findIndex(i=>i.id===o.id);l!==-1&&t.splice(l,1)}});const n=t.map(o=>o.id);return t.forEach(o=>{var l,i;const r=e.filter(s=>s.id===o.id);for(const s of r)switch(s.type){case"select":o.selected=s.selected;break;case"position":if(to(o)&&(typeof s.position<"u"&&(o.position=s.position),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&o.parentNode)){const a=t[n.indexOf(o.parentNode)];a&&to(a)&&ur(o,a)}break;case"dimensions":if(to(o)){if(typeof s.dimensions<"u"&&(o.dimensions=s.dimensions),typeof s.updateStyle<"u"&&(o.style={...o.style||{},width:`${(l=s.dimensions)==null?void 0:l.width}px`,height:`${(i=s.dimensions)==null?void 0:i.height}px`}),typeof s.resizing<"u"&&(o.resizing=s.resizing),o.expandParent&&o.parentNode){const a=t[n.indexOf(o.parentNode)];a&&to(a)&&(a.initialized?ur(o,a):nt(()=>{ur(o,a)}))}o.initialized||(o.initialized=!0)}break}}),t}function Gt(e,t){return{id:e,type:"select",selected:t}}function Cu(e){return{item:e,type:"add"}}function Nl(e){return{id:e,type:"remove"}}function cr(e,t){return e.reduce((n,o)=>{let l=t.includes(o.id);Re(o.selectable)&&!o.selectable&&(l=!1);const i=to(o)?"changedNodes":"changedEdges";return!o.selected&&l?n[i].push(Gt(o.id,!0)):o.selected&&!l&&n[i].push(Gt(o.id,!1)),n},{changedNodes:[],changedEdges:[]})}function ce(e=()=>{}){const t=new Set,n=()=>t.size>0;e&&t.add(e);const o=l=>{t.delete(l)};return{on:l=>{t.has(e)&&t.delete(e),t.add(l);const i=()=>o(l);return dl(i),{off:i}},off:o,trigger:l=>Promise.all(Array.from(t).map(i=>i(l))),hasListeners:n}}function Vu(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function Bw(e,t,n,o,l){return e.filter(i=>(i.selected||i.id===l)&&(!i.parentNode||!gf(i,o))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var r,s;return Bt({id:i.id,position:i.position||{x:0,y:0},distance:{x:n.x-((r=i.computedPosition)==null?void 0:r.x)||0,y:n.y-((s=i.computedPosition)==null?void 0:s.y)||0},from:i.computedPosition,extent:i.extent,parentNode:i.parentNode,dimensions:i.dimensions})})}function dr({id:e,dragItems:t,findNode:n}){const o=t.reduce((l,i)=>{const r=n(i.id);return r&&l.push(r),l},[]);return[e?o.find(l=>l.id===e):o[0],o]}function yf(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Aw(e,t,n){const[o,l,i,r]=typeof e!="string"?yf(e.padding):[0,0,0,0];return n&&Xt(n.computedPosition.x)&&Xt(n.computedPosition.y)&&Xt(n.dimensions.width)&&Xt(n.dimensions.height)?[[n.computedPosition.x+r,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-l,n.computedPosition.y+n.dimensions.height-i]]:!1}function Iw(e,t,n,o){let l=e.extent||n;if(l==="parent"||!Array.isArray(l)&&(l==null?void 0:l.range)==="parent")if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const i=Aw(l,e,o);i&&(l=i)}else t(new tt(Je.NODE_EXTENT_INVALID,e.id)),l=n;else if(Array.isArray(l)){const i=(o==null?void 0:o.computedPosition.x)||0,r=(o==null?void 0:o.computedPosition.y)||0;l=[[l[0][0]+i,l[0][1]+r],[l[1][0]+i,l[1][1]+r]]}else if(l!=null&&l.range&&Array.isArray(l.range)){const[i,r,s,a]=yf(l.padding),u=(o==null?void 0:o.computedPosition.x)||0,c=(o==null?void 0:o.computedPosition.y)||0;l=[[l.range[0][0]+u+a,l.range[0][1]+c+i],[l.range[1][0]+u-r,l.range[1][1]+c-s]]}return l}function Ow({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function As(e,t,n,o,l){const i=Ow(e.dimensions,Iw(e,n,o,l)),r=uf(t,i);return{position:{x:r.x-((l==null?void 0:l.computedPosition.x)||0),y:r.y-((l==null?void 0:l.computedPosition.y)||0)},computedPosition:r}}function Gr(e,t,n){const o=((n==null?void 0:n.x)??0)+t.x,l=((n==null?void 0:n.y)??0)+t.y,i=(n==null?void 0:n.width)??t.width,r=(n==null?void 0:n.height)??t.height;switch(e){case ve.Top:return{x:o+i/2,y:l};case ve.Right:return{x:o+i,y:l+r/2};case ve.Bottom:return{x:o+i/2,y:l+r};case ve.Left:return{x:o,y:l+r/2}}}function Tu(e=[],t){return e.length?!t||e.length===1?e[0]:t&&e.find(n=>n.id===t)||null:null}function Dw(e,t,n,o,l,i){const r=Gr(n,{...e.dimensions,...e.computedPosition},t),s=Gr(i,{...o.dimensions,...o.computedPosition},l);return{sourceX:r.x,sourceY:r.y,targetX:s.x,targetY:s.y}}function Rw({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:l,targetHeight:i,width:r,height:s,viewport:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+l),y2:Math.max(e.y+o,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=pf({x:(0-a.x)/a.zoom,y:(0-a.y)/a.zoom,width:r/a.zoom,height:s/a.zoom}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),p=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*p)>0}function zw(e,t,n=!1){const o=Xt(e.zIndex);let l=o?e.zIndex:0;const i=t(e.source),r=t(e.target);return!i||!r?0:(n&&(l=o?e.zIndex:Math.max(i.computedPosition.z||0,r.computedPosition.z||0)),l)}var Je=(e=>(e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e))(Je||{});const Nu={MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`};class tt extends Error{constructor(t,...n){var o;super((o=Nu[t])==null?void 0:o.call(Nu,...n)),this.code=t}}function Is(e){return"clientX"in e}function Rn(e,t){var n,o;const l=Is(e),i=l?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,r=l?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}}function cn(e){return typeof e=="string"}function yo(e){return typeof e=="function"}function Hw(e){return typeof e=="boolean"}function Xt(e){return typeof e=="number"}function _f(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function fr(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Pu(e,t,n,o){return(t[n]||[]).reduce((l,i)=>{var r,s;return`${e.id}-${i.id}-${n}`!==o&&l.push({id:i.id||null,type:n,nodeId:e.id,x:(((r=e.computedPosition)==null?void 0:r.x)??0)+i.x+i.width/2,y:(((s=e.computedPosition)==null?void 0:s.y)??0)+i.y+i.height/2,width:i.width,height:i.height}),l},[])}function Lw(e,t,n,o,l,i){const{x:r,y:s}=Rn(e),a=t.elementsFromPoint(r,s).find(f=>f.classList.contains("vue-flow__handle"));if(a){const f=a.getAttribute("data-nodeid");if(f){const m=Os(void 0,a),h=a.getAttribute("data-handleid"),_=i({nodeId:f,id:h,type:m});if(_)return{handle:{id:h,type:m,nodeId:f,x:n.x,y:n.y},validHandleResult:_}}}let u=[],c=1/0;if(l.forEach(f=>{const m=Math.sqrt((f.x-n.x)**2+(f.y-n.y)**2);if(m<=o){const h=i(f);m<=c&&(m<c?u=[{handle:f,validHandleResult:h}]:m===c&&u.push({handle:f,validHandleResult:h}),c=m)}}),!u.length)return{handle:null,validHandleResult:_f()};if(u.length===1)return u[0];const d=u.some(({validHandleResult:f})=>f.isValid),p=u.some(({handle:f})=>f.type==="target");return u.find(({handle:f,validHandleResult:m})=>p?f.type==="target":d?m.isValid:!0)||u[0]}function Mu(e,t,n,o,l,i,r,s,a,u){const c=i==="target",d=s.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:p,y:f}=Rn(e),m=s.elementFromPoint(p,f),h=m!=null&&m.classList.contains("vue-flow__handle")?m:d,_=_f();if(h){_.handleDomNode=h;const v=Os(void 0,h),x=h.getAttribute("data-nodeid"),C=h.getAttribute("data-handleid"),b=h.classList.contains("connectable"),A=h.classList.contains("connectableend"),y={source:c?x:o,sourceHandle:c?C:l,target:c?o:x,targetHandle:c?l:C};_.connection=y;const V=b&&A&&(n===bn.Strict?c&&v==="source"||!c&&v==="target":x!==o||C!==l);_.endHandle={nodeId:x,handleId:C,type:v},V&&(_.isValid=r(y,{edges:a,sourceNode:u(y.source),targetNode:u(y.target)}))}return _}function Uw({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce((l,i)=>{const{handleBounds:r}=i;let s=[],a=[];return r&&(s=Pu(i,r,"source",`${t}-${n}-${o}`),a=Pu(i,r,"target",`${t}-${n}-${o}`)),l.push(...s,...a),l},[])}function Os(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function jw(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Gw=["production","prod"];function wf(e,...t){Gw.includes("production")||console.warn(`[Vue Flow]: ${e}`,...t)}function Fu(e,t,n){const o=t.querySelectorAll(`.vue-flow__handle${e}`);if(!o||!o.length)return;const l=Array.from(o),i=t.getBoundingClientRect();return l.map(r=>{const s=r.getBoundingClientRect();return{id:r.getAttribute("data-handleid"),position:r.getAttribute("data-handlepos"),x:(s.left-i.left)/n,y:(s.top-i.top)/n,...Di(r)}})}function Yr(e,t,n,o,l,i=!1,r){l.value=!1,e.selected?(i||e.selected&&t)&&(o([e]),nt(()=>{r.blur()})):n([e])}function Re(e){return typeof N(e)<"u"}function Yw(e,t,n){if(!e.source||!e.target)return n(new tt(Je.EDGE_INVALID,e.id)),!1;let o;return vo(e)?o=e:o={...e,id:df(e)},o=cf(o),Tw(o,t)?!1:o}function Xw(e,t,n,o,l,i){if(!t.source||!t.target)return i(new tt(Je.EDGE_INVALID,e.id)),!1;const r=o(e.id);if(!r)return i(new tt(Je.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...a}=e,u={...a,id:l?df(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(r),1,u),u}function Bu(e,t,n,o){const l={},i=e.reduce((s,a)=>{if(!zo(a))return o(new tt(Je.NODE_INVALID)),s;const u=Vw(a,{...n(a.id),parentNode:a.parentNode});return a.parentNode&&(l[a.parentNode]=!0),s.concat(u)},[]),r=[...i,...t];for(const s of i){const a=r.find(u=>u.id===s.parentNode);s.parentNode&&!a&&o(new tt(Je.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||l[s.id])&&(l[s.id]&&(s.isParent=!0),a&&(a.isParent=!0))}return i}function bf(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:l,nodes:i,nodeExtent:r,viewport:s,autoPanOnNodeDrag:a,nodesDraggable:u,panBy:c,findNode:d,multiSelectionActive:p,nodesSelectionActive:f,selectNodesOnDrag:m,removeSelectedElements:h,addSelectedNodes:_,updateNodePositions:v,emits:x}=Ge(),{onStart:C,onDrag:b,onStop:A,el:y,disabled:V,id:S,selectable:z,dragHandle:R}=e,te=ne(!1);let G=[],ie,k=null,Y={x:void 0,y:void 0},P={x:0,y:0},U=null,Z=0,ae=!1;const I=Gb(),j=({x:J,y:he})=>{Y={x:J,y:he};let ee=!1;if(G=G.map(se=>{const le={x:J-se.distance.x,y:he-se.distance.y};n.value&&(le.x=o.value[0]*Math.round(le.x/o.value[0]),le.y=o.value[1]*Math.round(le.y/o.value[1]));const{computedPosition:de}=As(se,le,x.error,r.value,se.parentNode?d(se.parentNode):void 0);return ee=ee||se.position.x!==de.x||se.position.y!==de.y,se.position=de,se}),!!ee&&(v(G,!0,!0),te.value=!0,U)){const[se,le]=dr({id:S,dragItems:G,findNode:d});b({event:U,node:se,nodes:le})}},O=()=>{if(!k)return;const[J,he]=vf(P,k);if(J!==0||he!==0){const ee={x:(Y.x??0)-J/s.value.zoom,y:(Y.y??0)-he/s.value.zoom};c({x:J,y:he})&&j(ee)}Z=requestAnimationFrame(O)};return $e([()=>Ce(V),y],([J,he])=>{if(he){const ee=wt(he);J?ee.on(".drag",null):(ie=By().on("start",se=>{var le;const de=d(S);!m.value&&!p.value&&de&&(de.selected||h()),de&&Ce(z)&&m.value&&Yr(de,p.value,_,h,f,!1,he);const Se=I(se);if(Y=Se,G=Bw(i.value,u.value,Se,d,S),G.length){const[M,D]=dr({id:S,dragItems:G,findNode:d});C({event:se.sourceEvent,node:M,nodes:D})}k=((le=t.value)==null?void 0:le.getBoundingClientRect())||null,P=Rn(se.sourceEvent,k)}).on("drag",se=>{const le=I(se);!ae&&a.value&&(ae=!0,O()),(Y.x!==le.xSnapped||Y.y!==le.ySnapped)&&G.length&&(U=se.sourceEvent,P=Rn(se.sourceEvent,k),j(le))}).on("end",se=>{if(te.value=!1,ae=!1,cancelAnimationFrame(Z),G.length){v(G,!1,!1);const[le,de]=dr({id:S,dragItems:G,findNode:d});A({event:se.sourceEvent,node:le,nodes:de})}}).filter(se=>{const le=se.target,de=Ce(R);return!se.button&&(!l.value||!Vu(le,`.${l.value}`,he)&&(!de||Vu(le,de,he)))}),ee.call(ie))}}),te}function Ww(){return{edgesChange:ce(),nodesChange:ce(),nodeDoubleClick:ce(),nodeClick:ce(),nodeMouseEnter:ce(),nodeMouseMove:ce(),nodeMouseLeave:ce(),nodeContextMenu:ce(),nodeDragStart:ce(),nodeDrag:ce(),nodeDragStop:ce(),nodesInitialized:ce(),miniMapNodeClick:ce(),miniMapNodeDoubleClick:ce(),miniMapNodeMouseEnter:ce(),miniMapNodeMouseMove:ce(),miniMapNodeMouseLeave:ce(),connect:ce(),connectStart:ce(),connectEnd:ce(),clickConnectStart:ce(),clickConnectEnd:ce(),paneReady:ce(),move:ce(),moveStart:ce(),moveEnd:ce(),selectionDragStart:ce(),selectionDrag:ce(),selectionDragStop:ce(),selectionContextMenu:ce(),selectionStart:ce(),selectionEnd:ce(),viewportChangeStart:ce(),viewportChange:ce(),viewportChangeEnd:ce(),paneScroll:ce(),paneClick:ce(),paneContextMenu:ce(),paneMouseEnter:ce(),paneMouseMove:ce(),paneMouseLeave:ce(),edgeContextMenu:ce(),edgeMouseEnter:ce(),edgeMouseMove:ce(),edgeMouseLeave:ce(),edgeDoubleClick:ce(),edgeClick:ce(),edgeUpdateStart:ce(),edgeUpdate:ce(),edgeUpdateEnd:ce(),updateNodeInternals:ce(),error:ce(e=>wf(e.message))}}function qw(e,t){wc(()=>{for(const[n,o]of Object.entries(t.value)){const l=i=>{e(n,i)};o.on(l),dl(()=>{o.off(l)})}})}function xf(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}const Zw=["data-id","data-handleid","data-nodeid","data-handlepos"],Kw={name:"Handle",compatConfig:{MODE:3}},ui=ue({...Kw,props:{id:null,type:null,position:{default:ve.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e){const t=xf(e,["position","connectable","connectableStart","connectableEnd","id"]),n=Fr(t,"type","source"),o=Fr(t,"isValidConnection",void 0),{connectionStartHandle:l,connectionClickStartHandle:i,connectionEndHandle:r,vueFlowRef:s,nodesConnectable:a,noDragClassName:u,noPanClassName:c}=Ge(),{id:d,node:p,nodeEl:f,connectedEdges:m}=Wb(),h=ne(),_=K(()=>e.id??`${d}__handle-${e.position}`),v=K(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),x=K(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),{handlePointerDown:C,handleClick:b}=Pf({nodeId:d,handleId:_,isValidConnection:o,type:n}),A=K(()=>cn(e.connectable)&&e.connectable==="single"?!m.value.some(R=>{const te=R[`${n.value}Handle`];return R[n.value]!==d?!1:te?te===_.value:!0}):yo(e.connectable)?e.connectable(p,m.value):Re(e.connectable)?e.connectable:a.value),y=K(()=>{var R,te,G,ie,k,Y;return((R=l.value)==null?void 0:R.nodeId)===d&&((te=l.value)==null?void 0:te.handleId)===_.value&&((G=l.value)==null?void 0:G.type)===n.value||((ie=r.value)==null?void 0:ie.nodeId)===d&&((k=r.value)==null?void 0:k.handleId)===_.value&&((Y=r.value)==null?void 0:Y.type)===n.value}),V=K(()=>{var R,te,G;return((R=i.value)==null?void 0:R.nodeId)===d&&((te=i.value)==null?void 0:te.handleId)===_.value&&((G=i.value)==null?void 0:G.type)===n.value});vn(()=>p.initialized).toBe(!0,{flush:"post"}).then(()=>{var R;const te=(R=p.handleBounds[n.value])==null?void 0:R.find(Z=>Z.id===_.value);if(!s.value||te)return;const G=s.value.querySelector(".vue-flow__transformationpane");if(!f.value||!h.value||!G||!_.value)return;const ie=f.value.getBoundingClientRect(),k=h.value.getBoundingClientRect(),Y=window.getComputedStyle(G),{m22:P}=new window.DOMMatrixReadOnly(Y.transform),U={id:_.value,position:e.position,x:(k.left-ie.left)/P,y:(k.top-ie.top)/P,...Di(h.value)};p.handleBounds[n.value]=[...p.handleBounds[n.value]??[],U]});function S(R){const te=Is(R);A.value&&v.value&&(te&&R.button===0||!te)&&C(R)}function z(R){!d||!i.value&&!v.value||A.value&&b(R)}return(R,te)=>(F(),W("div",{ref_key:"handle",ref:h,"data-id":`${N(d)}-${N(_)}-${N(n)}`,"data-handleid":N(_),"data-nodeid":N(d),"data-handlepos":e.position,class:we(["vue-flow__handle",[`vue-flow__handle-${e.position}`,`vue-flow__handle-${N(_)}`,N(u),N(c),N(n),{connectable:N(A),connecting:N(V),connectablestart:N(v),connectableend:N(x),connectionindicator:N(A)&&(N(v)&&!N(y)||N(x)&&N(y))}]]),onMousedown:S,onTouchstartPassive:S,onClick:z},[Ee(R.$slots,"default",{id:e.id})],42,Zw))}}),zi=function({sourcePosition:e=ve.Bottom,targetPosition:t=ve.Top,label:n,connectable:o=!0,isValidTargetPos:l,isValidSourcePos:i}){return[Me(ui,{type:"target",position:t,connectable:o,isValidConnection:l}),typeof n!="string"&&n?Me(n):Me("div",{innerHTML:n}),Me(ui,{type:"source",position:e,connectable:o,isValidConnection:i})]};zi.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"];zi.inheritAttrs=!1;zi.compatConfig={MODE:3};const Jw=zi,Hi=function({sourcePosition:e=ve.Bottom,label:t,connectable:n=!0,isValidSourcePos:o}){return[typeof t!="string"&&t?Me(t):Me("div",{innerHTML:t}),Me(ui,{type:"source",position:e,connectable:n,isValidConnection:o})]};Hi.props=["sourcePosition","label","isValidSourcePos","connectable"];Hi.inheritAttrs=!1;Hi.compatConfig={MODE:3};const Qw=Hi,Li=function({targetPosition:e=ve.Top,label:t,connectable:n=!0,isValidTargetPos:o}){return[Me(ui,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof t!="string"&&t?Me(t):Me("div",{innerHTML:t})]};Li.props=["targetPosition","label","isValidTargetPos","connectable"];Li.inheritAttrs=!1;Li.compatConfig={MODE:3};const eb=Li,Au=Symbol("vueFlow"),Sf=Symbol("nodeId"),$f=Symbol("nodeRef"),tb=Symbol("edgeId"),nb=Symbol("edgeRef"),Ui=Symbol("slots"),ob=ue({name:"Node",compatConfig:{MODE:3},props:["name","type","id","draggable","selectable","focusable","connectable","node","resizeObserver"],setup(e){Hn(Sf,e.id);const{id:t,edges:n,noPanClassName:o,selectNodesOnDrag:l,nodesSelectionActive:i,multiSelectionActive:r,emits:s,findNode:a,removeSelectedNodes:u,addSelectedNodes:c,updateNodeDimensions:d,onUpdateNodeInternals:p,getIntersectingNodes:f,getNodeTypes:m,nodeExtent:h,elevateNodesOnSelect:_,disableKeyboardA11y:v,ariaLiveMessage:x,snapToGrid:C,snapGrid:b}=Ge(),A=Mf(),y=Ro(e,"node"),V=K(()=>a(y.value.parentNode)),S=K(()=>Ri([y.value],n.value)),z=ne(null);Hn($f,z);const{emit:R,on:te}=Zb(y.value,s),G=bf({id:e.id,el:z,disabled:()=>!e.draggable,selectable:()=>e.selectable,dragHandle:()=>y.value.dragHandle,onStart(ee){R.dragStart({...ee,intersections:f(y.value)})},onDrag(ee){R.drag({...ee,intersections:f(y.value)})},onStop(ee){R.dragStop({...ee,intersections:f(y.value)})}}),ie=K(()=>y.value.class instanceof Function?y.value.class(y.value):y.value.class),k=K(()=>{const ee=(y.value.style instanceof Function?y.value.style(y.value):y.value.style)||{},se=y.value.width instanceof Function?y.value.width(y.value):y.value.width,le=y.value.height instanceof Function?y.value.height(y.value):y.value.height;return se&&(ee.width=typeof se=="string"?se:`${se}px`),le&&(ee.height=typeof le=="string"?le:`${le}px`),ee}),Y=()=>Number(y.value.zIndex??k.value.zIndex??0);return p(ee=>{ee.includes(e.id)&&U()}),Ze(()=>{e.resizeObserver.observe(z.value)}),Si(()=>{e.resizeObserver.unobserve(z.value)}),$e([()=>y.value.type,()=>y.value.sourcePosition,()=>y.value.targetPosition],()=>{d([{id:e.id,nodeElement:z.value,forceUpdate:!0}])},{flush:"pre"}),$e([()=>y.value.position.x,()=>y.value.position.y,()=>{var ee;return(ee=V.value)==null?void 0:ee.computedPosition.x},()=>{var ee;return(ee=V.value)==null?void 0:ee.computedPosition.y},()=>{var ee;return(ee=V.value)==null?void 0:ee.computedPosition.z},()=>Y(),()=>y.value.selected,()=>y.value.dimensions.height,()=>y.value.dimensions.width,()=>{var ee;return(ee=V.value)==null?void 0:ee.dimensions.height},()=>{var ee;return(ee=V.value)==null?void 0:ee.dimensions.width}],([ee,se,le,de,Se,M])=>{const D={x:ee,y:se,z:M+(_.value&&y.value.selected?1e3:0)};Xt(le)&&Xt(de)?y.value.computedPosition=Fw({x:le,y:de,z:Se},D):y.value.computedPosition=D},{flush:"post",immediate:!0}),$e([()=>y.value.extent,h],([ee,se],[le,de])=>{(ee!==le||se!==de)&&P()}),y.value.extent==="parent"||typeof y.value.extent=="object"&&"range"in y.value.extent&&y.value.extent.range==="parent"?vn(()=>y.value.initialized).toBe(!0).then(P):P(),()=>Me("div",{ref:z,"data-id":y.value.id,class:["vue-flow__node",`vue-flow__node-${e.type===!1?"default":e.name}`,{[o.value]:e.draggable,dragging:G==null?void 0:G.value,selected:y.value.selected,selectable:e.selectable,parent:y.value.isParent},ie.value],style:{zIndex:y.value.computedPosition.z??Y(),transform:`translate(${y.value.computedPosition.x}px,${y.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",visibility:y.value.initialized?"visible":"hidden",...k.value},tabIndex:e.focusable?0:void 0,role:e.focusable?"button":void 0,"aria-describedby":v.value?void 0:`${rf}-${t}`,"aria-label":y.value.ariaLabel,onMouseenter:Z,onMousemove:ae,onMouseleave:I,onContextmenu:j,onClick:J,onDblclick:O,onKeydown:he},[Me(e.type===!1?m.value.default:e.type,{id:y.value.id,type:y.value.type,data:y.value.data,events:{...y.value.events,...te},selected:!!y.value.selected,resizing:!!y.value.resizing,dragging:G.value,connectable:e.connectable,position:y.value.position,dimensions:y.value.dimensions,isValidTargetPos:y.value.isValidTargetPos,isValidSourcePos:y.value.isValidSourcePos,parent:y.value.parentNode,zIndex:y.value.computedPosition.z,targetPosition:y.value.targetPosition,sourcePosition:y.value.sourcePosition,label:y.value.label,dragHandle:y.value.dragHandle,onUpdateNodeInternals:U})]);function P(){const ee=y.value.computedPosition;C.value&&(ee.x=b.value[0]*Math.round(ee.x/b.value[0]),ee.y=b.value[1]*Math.round(ee.y/b.value[1]));const{computedPosition:se,position:le}=As(y.value,ee,s.error,h.value,V.value);(y.value.computedPosition.x!==se.x||y.value.computedPosition.y!==se.y)&&(y.value.computedPosition={...y.value.computedPosition,...se}),(y.value.position.x!==le.x||y.value.position.y!==le.y)&&(y.value.position=le)}function U(){z.value&&d([{id:e.id,nodeElement:z.value,forceUpdate:!0}])}function Z(ee){G!=null&&G.value||R.mouseEnter({event:ee,node:y.value,connectedEdges:S.value})}function ae(ee){G!=null&&G.value||R.mouseMove({event:ee,node:y.value,connectedEdges:S.value})}function I(ee){G!=null&&G.value||R.mouseLeave({event:ee,node:y.value,connectedEdges:S.value})}function j(ee){return R.contextMenu({event:ee,node:y.value,connectedEdges:S.value})}function O(ee){return R.doubleClick({event:ee,node:y.value,connectedEdges:S.value})}function J(ee){e.selectable&&(!l.value||!e.draggable)&&Yr(y.value,r.value,c,u,i,!1,z.value),R.click({event:ee,node:y.value,connectedEdges:S.value})}function he(ee){if(!Wr(ee))if(af.includes(ee.key)&&e.selectable){const se=ee.key==="Escape";Yr(y.value,r.value,c,u,i,se,z.value)}else!v.value&&e.draggable&&y.value.selected&&uo[ee.key]&&(x.value=`Moved selected node ${ee.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~y.value.position.x}, y: ${~~y.value.position.y}`,A({x:uo[ee.key].x,y:uo[ee.key].y},ee.shiftKey))}}}),lb=ob,ib=["transform"],rb=["width","height","x","y","rx","ry"],sb=["y"],ab={name:"EdgeText",compatConfig:{MODE:3}},ub=ue({...ab,props:{"aria-activedescendant":null,"aria-atomic":{type:[Boolean,String]},"aria-autocomplete":null,"aria-busy":{type:[Boolean,String]},"aria-checked":{type:[Boolean,String]},"aria-colcount":null,"aria-colindex":null,"aria-colspan":null,"aria-controls":null,"aria-current":{type:[Boolean,String]},"aria-describedby":null,"aria-details":null,"aria-disabled":{type:[Boolean,String]},"aria-dropeffect":null,"aria-errormessage":null,"aria-expanded":{type:[Boolean,String]},"aria-flowto":null,"aria-grabbed":{type:[Boolean,String]},"aria-haspopup":{type:[Boolean,String]},"aria-hidden":{type:[Boolean,String]},"aria-invalid":{type:[Boolean,String]},"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":null,"aria-modal":{type:[Boolean,String]},"aria-multiline":{type:[Boolean,String]},"aria-multiselectable":{type:[Boolean,String]},"aria-orientation":null,"aria-owns":null,"aria-placeholder":null,"aria-posinset":null,"aria-pressed":{type:[Boolean,String]},"aria-readonly":{type:[Boolean,String]},"aria-relevant":null,"aria-required":{type:[Boolean,String]},"aria-roledescription":null,"aria-rowcount":null,"aria-rowindex":null,"aria-rowspan":null,"aria-selected":{type:[Boolean,String]},"aria-setsize":null,"aria-sort":null,"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,innerHTML:null,class:null,style:null,color:null,height:null,id:null,lang:null,max:null,media:null,method:null,min:null,name:null,target:null,type:null,width:null,role:null,tabindex:null,"accent-height":null,accumulate:null,additive:null,"alignment-baseline":null,allowReorder:null,alphabetic:null,amplitude:null,"arabic-form":null,ascent:null,attributeName:null,attributeType:null,autoReverse:null,azimuth:null,baseFrequency:null,"baseline-shift":null,baseProfile:null,bbox:null,begin:null,bias:null,by:null,calcMode:null,"cap-height":null,clip:null,"clip-path":null,clipPathUnits:null,"clip-rule":null,"color-interpolation":null,"color-interpolation-filters":null,"color-profile":null,"color-rendering":null,contentScriptType:null,contentStyleType:null,cursor:null,cx:null,cy:null,d:null,decelerate:null,descent:null,diffuseConstant:null,direction:null,display:null,divisor:null,"dominant-baseline":null,dur:null,dx:null,dy:null,edgeMode:null,elevation:null,"enable-background":null,end:null,exponent:null,externalResourcesRequired:null,fill:null,"fill-opacity":null,"fill-rule":null,filter:null,filterRes:null,filterUnits:null,"flood-color":null,"flood-opacity":null,focusable:null,"font-family":null,"font-size":null,"font-size-adjust":null,"font-stretch":null,"font-style":null,"font-variant":null,"font-weight":null,format:null,from:null,fx:null,fy:null,g1:null,g2:null,"glyph-name":null,"glyph-orientation-horizontal":null,"glyph-orientation-vertical":null,glyphRef:null,gradientTransform:null,gradientUnits:null,hanging:null,"horiz-adv-x":null,"horiz-origin-x":null,href:null,ideographic:null,"image-rendering":null,in2:null,in:null,intercept:null,k1:null,k2:null,k3:null,k4:null,k:null,kernelMatrix:null,kernelUnitLength:null,kerning:null,keyPoints:null,keySplines:null,keyTimes:null,lengthAdjust:null,"letter-spacing":null,"lighting-color":null,limitingConeAngle:null,local:null,"marker-end":null,markerHeight:null,"marker-mid":null,"marker-start":null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,mode:null,numOctaves:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,"overline-position":null,"overline-thickness":null,"paint-order":null,"panose-1":null,pathLength:null,patternContentUnits:null,patternTransform:null,patternUnits:null,"pointer-events":null,points:null,pointsAtX:null,pointsAtY:null,pointsAtZ:null,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,r:null,radius:null,refX:null,refY:null,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:null,requiredFeatures:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,"shape-rendering":null,slope:null,spacing:null,specularConstant:null,specularExponent:null,speed:null,spreadMethod:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,"stop-color":null,"stop-opacity":null,"strikethrough-position":null,"strikethrough-thickness":null,string:null,stroke:null,"stroke-dasharray":null,"stroke-dashoffset":null,"stroke-linecap":null,"stroke-linejoin":null,"stroke-miterlimit":null,"stroke-opacity":null,"stroke-width":null,surfaceScale:null,systemLanguage:null,tableValues:null,targetX:null,targetY:null,"text-anchor":null,"text-decoration":null,textLength:null,"text-rendering":null,to:null,transform:null,u1:null,u2:null,"underline-position":null,"underline-thickness":null,unicode:null,"unicode-bidi":null,"unicode-range":null,"unitsPer-em":null,"v-alphabetic":null,values:null,"vector-effect":null,version:null,"vert-adv-y":null,"vert-origin-x":null,"vert-origin-y":null,"v-hanging":null,"v-ideographic":null,viewBox:null,viewTarget:null,visibility:null,"v-mathematical":null,widths:null,"word-spacing":null,"writing-mode":null,x1:null,x2:null,x:null,xChannelSelector:null,"x-height":null,xlinkActuate:null,xlinkArcrole:null,xlinkHref:null,xlinkRole:null,xlinkShow:null,xlinkTitle:null,xlinkType:null,xmlns:null,y1:null,y2:null,y:null,yChannelSelector:null,z:null,zoomAndPan:null,label:null,labelStyle:{default:{}},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:{}},labelBgPadding:{default:[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=ne({x:0,y:0,width:0,height:0}),n=ne(null),o=K(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);Ze(l),$e([()=>e.x,()=>e.y,n,()=>e.label],l);function l(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,r)=>(F(),W("g",{transform:N(o),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?(F(),W("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*e.labelBgPadding[0]}px`,height:`${t.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:Be(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,rb)):me("",!0),L("text",Tt(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:e.labelStyle}),[Ee(i.$slots,"default",{},()=>[N(cn)(e.label)?(F(),W(Pe,{key:1},[ul(Ie(e.label),1)],64)):(F(),pe(Qn(e.label),{key:0}))])],16,sb)],8,ib))}}),cb=["id","d","marker-end","marker-start"],db=["d","stroke-width"],fb={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},ji=ue({...fb,props:{labelStyle:null,labelShowBg:{type:Boolean,default:!0},labelBgStyle:null,labelBgPadding:null,labelBgBorderRadius:null,id:null,labelX:null,labelY:null,path:null,label:null,markerStart:null,markerEnd:null,interactionWidth:{default:20},style:null,ref:null},setup(e,{expose:t}){const n=xf(e,["interactionWidth","labelShowBg"]),o=ne(null),l=ne(null),i=ne(null),r=ah();return t({pathEl:o,interactionEl:l,labelEl:i}),(s,a)=>(F(),W(Pe,null,[L("path",{id:e.id,ref_key:"pathEl",ref:o,d:e.path,style:Be(N(n).style),class:we(["vue-flow__edge-path",N(r).class]),"marker-end":e.markerEnd,"marker-start":e.markerStart},null,14,cb),e.interactionWidth?(F(),W("path",{key:0,ref_key:"interactionEl",ref:l,fill:"none",d:e.path,"stroke-width":e.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,db)):me("",!0),e.label&&N(Xt)(e.labelX)&&N(Xt)(e.labelY)?(F(),pe(ub,{key:1,ref_key:"labelEl",ref:i,x:e.labelX,y:e.labelY,label:e.label,"label-show-bg":e.labelShowBg,"label-bg-style":e.labelBgStyle,"label-bg-padding":e.labelBgPadding,"label-bg-border-radius":e.labelBgBorderRadius,"label-style":e.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):me("",!0)],64))}});function Ef({sourceX:e,sourceY:t,targetX:n,targetY:o}){const l=Math.abs(n-e)/2,i=n<e?n+l:n-l,r=Math.abs(o-t)/2,s=o<t?o+r:o-r;return[i,s,l,r]}function kf({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:l,sourceControlY:i,targetControlX:r,targetControlY:s}){const a=e*.125+l*.375+r*.375+n*.125,u=t*.125+i*.375+s*.375+o*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}function Pl(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Iu({pos:e,x1:t,y1:n,x2:o,y2:l,c:i}){let r,s;switch(e){case ve.Left:r=t-Pl(t-o,i),s=n;break;case ve.Right:r=t+Pl(o-t,i),s=n;break;case ve.Top:r=t,s=n-Pl(n-l,i);break;case ve.Bottom:r=t,s=n+Pl(l-n,i);break}return[r,s]}function Cf({sourceX:e,sourceY:t,sourcePosition:n=ve.Bottom,targetX:o,targetY:l,targetPosition:i=ve.Top,curvature:r=.25}){const[s,a]=Iu({pos:n,x1:e,y1:t,x2:o,y2:l,c:r}),[u,c]=Iu({pos:i,x1:o,y1:l,x2:e,y2:t,c:r}),[d,p,f,m]=kf({sourceX:e,sourceY:t,targetX:o,targetY:l,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${a} ${u},${c} ${o},${l}`,d,p,f,m]}function Ou({pos:e,x1:t,y1:n,x2:o,y2:l}){let i,r;switch(e){case ve.Left:case ve.Right:i=.5*(t+o),r=n;break;case ve.Top:case ve.Bottom:i=t,r=.5*(n+l);break}return[i,r]}function Vf({sourceX:e,sourceY:t,sourcePosition:n=ve.Bottom,targetX:o,targetY:l,targetPosition:i=ve.Top}){const[r,s]=Ou({pos:n,x1:e,y1:t,x2:o,y2:l}),[a,u]=Ou({pos:i,x1:o,y1:l,x2:e,y2:t}),[c,d,p,f]=kf({sourceX:e,sourceY:t,targetX:o,targetY:l,sourceControlX:r,sourceControlY:s,targetControlX:a,targetControlY:u});return[`M${e},${t} C${r},${s} ${a},${u} ${o},${l}`,c,d,p,f]}const Du={[ve.Left]:{x:-1,y:0},[ve.Right]:{x:1,y:0},[ve.Top]:{x:0,y:-1},[ve.Bottom]:{x:0,y:1}};function pb({source:e,sourcePosition:t=ve.Bottom,target:n}){return t===ve.Left||t===ve.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Ru(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function hb({source:e,sourcePosition:t=ve.Bottom,target:n,targetPosition:o=ve.Top,center:l,offset:i}){const r=Du[t],s=Du[o],a={x:e.x+r.x*i,y:e.y+r.y*i},u={x:n.x+s.x*i,y:n.y+s.y*i},c=pb({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",p=c[d];let f,m,h;const[_,v,x,C]=Ef({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(r[d]*s[d]===-1){m=l.x||_,h=l.y||v;const b=[{x:m,y:a.y},{x:m,y:u.y}],A=[{x:a.x,y:h},{x:u.x,y:h}];r[d]===p?f=d==="x"?b:A:f=d==="x"?A:b}else{const b=[{x:a.x,y:u.y}],A=[{x:u.x,y:a.y}];if(d==="x"?f=r.x===p?A:b:f=r.y===p?b:A,t!==o){const y=d==="x"?"y":"x",V=r[d]===s[y],S=a[y]>u[y],z=a[y]<u[y];(r[d]===1&&(!V&&S||V&&z)||r[d]!==1&&(!V&&z||V&&S))&&(f=d==="x"?b:A)}m=f[0].x,h=f[0].y}return[[e,a,...f,u,n],m,h,x,C]}function mb(e,t,n,o){const l=Math.min(Ru(e,t)/2,Ru(t,n)/2,o),{x:i,y:r}=t;if(e.x===i&&i===n.x||e.y===r&&r===n.y)return`L${i} ${r}`;if(e.y===r){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+l*u},${r}Q ${i},${r} ${i},${r+l*c}`}const s=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${r+l*a}Q ${i},${r} ${i+l*s},${r}`}function Xr({sourceX:e,sourceY:t,sourcePosition:n=ve.Bottom,targetX:o,targetY:l,targetPosition:i=ve.Top,borderRadius:r=5,centerX:s,centerY:a,offset:u=20}){const[c,d,p,f,m]=hb({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:l},targetPosition:i,center:{x:s,y:a},offset:u});return[c.reduce((h,_,v)=>{let x;return v>0&&v<c.length-1?x=mb(c[v-1],_,c[v+1],r):x=`${v===0?"M":"L"}${_.x} ${_.y}`,h+=x,h},""),d,p,f,m]}function gb({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[l,i,r,s]=Ef({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,l,i,r,s]}const vb=ue({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,l]=Cf({...e,sourcePosition:e.sourcePosition??ve.Bottom,targetPosition:e.targetPosition??ve.Top});return Me(ji,{path:n,labelX:o,labelY:l,...t,...e})}}}),yb=vb,_b=ue({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,l]=Vf({...e,sourcePosition:e.sourcePosition??ve.Bottom,targetPosition:e.targetPosition??ve.Top});return Me(ji,{path:n,labelX:o,labelY:l,...t,...e})}}}),wb=_b,bb=ue({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,l]=Xr({...e,sourcePosition:e.sourcePosition??ve.Bottom,targetPosition:e.targetPosition??ve.Top});return Me(ji,{path:n,labelX:o,labelY:l,...t,...e})}}}),Tf=bb,xb=ue({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Me(Tf,{...e,...t,borderRadius:0})}}),Sb=xb,$b=ue({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,l]=gb(e);return Me(ji,{path:n,labelX:o,labelY:l,...t,...e})}}}),Eb=$b;function kb(e,t,n){return n===ve.Left?e-t:n===ve.Right?e+t:e}function Cb(e,t,n){return n===ve.Top?e-t:n===ve.Bottom?e+t:e}const Ds=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=ve.Top,type:l}){return Me("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${l}`,cx:kb(t,e,o),cy:Cb(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};Ds.props=["radius","centerX","centerY","position","type"];Ds.compatConfig={MODE:3};const zu=Ds,Vb=ue({name:"Edge",compatConfig:{MODE:3},props:["name","type","id","updatable","selectable","focusable","edge"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:l,emits:i,nodesSelectionActive:r,noPanClassName:s,getEdgeTypes:a,removeSelectedEdges:u,findEdge:c,findNode:d,isValidConnection:p}=Ge(),f=jb(e.edge,i),m=Ro(e,"edge"),h=ne(!1),_=ne(!1),v=ne(""),x=ne(null),C=ne("source"),b=ne(null);Hn(tb,e.id),Hn(nb,b);const A=K(()=>m.value.class instanceof Function?m.value.class(m.value):m.value.class),y=K(()=>m.value.style instanceof Function?m.value.style(m.value):m.value.style),{handlePointerDown:V}=Pf({nodeId:v,handleId:x,type:C,isValidConnection:p,edgeUpdaterType:C,onEdgeUpdate:R,onEdgeUpdateEnd:te});return()=>{const O=d(m.value.source),J=d(m.value.target);if(!O||!J||!m.value||O.hidden||J.hidden)return null;let he;o.value===bn.Strict?he=O.handleBounds.source:he=[...O.handleBounds.source||[],...O.handleBounds.target||[]];const ee=Tu(he,m.value.sourceHandle);let se;o.value===bn.Strict?se=J.handleBounds.target:se=[...J.handleBounds.target||[],...J.handleBounds.source||[]];const le=Tu(se,m.value.targetHandle),de=ee?ee.position:ve.Bottom,Se=le?le.position:ve.Top,{sourceX:M,sourceY:D,targetY:g,targetX:w}=Dw(O,ee,de,J,le,Se);return m.value.sourceX=M,m.value.sourceY=D,m.value.targetX=w,m.value.targetY=g,Me("g",{ref:b,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${e.type===!1?"default":e.name}`,s.value,A.value,{updating:h.value,selected:m.value.selected,animated:m.value.animated,inactive:!e.selectable}],onClick:ie,onContextmenu:k,onDblclick:Y,onMouseenter:P,onMousemove:U,onMouseleave:Z,onKeyDown:e.focusable?j:void 0,tabIndex:e.focusable?0:void 0,"aria-label":m.value.ariaLabel===null?void 0:m.value.ariaLabel||`Edge from ${m.value.source} to ${m.value.target}`,"aria-describedby":e.focusable?`${sf}-${t}`:void 0,role:e.focusable?"button":void 0},[_.value?null:Me(e.type===!1?a.value.default:e.type,{id:e.id,sourceNode:O,targetNode:J,source:m.value.source,target:m.value.target,type:m.value.type,updatable:e.updatable,selected:m.value.selected,animated:m.value.animated,label:m.value.label,labelStyle:m.value.labelStyle,labelShowBg:m.value.labelShowBg,labelBgStyle:m.value.labelBgStyle,labelBgPadding:m.value.labelBgPadding,labelBgBorderRadius:m.value.labelBgBorderRadius,data:m.value.data,events:{...m.value.events,...f.on},style:y.value,markerStart:`url(#${Bn(m.value.markerStart,t)})`,markerEnd:`url(#${Bn(m.value.markerEnd,t)})`,sourcePosition:de,targetPosition:Se,sourceX:M,sourceY:D,targetX:w,targetY:g,sourceHandleId:m.value.sourceHandle,targetHandleId:m.value.targetHandle,interactionWidth:m.value.interactionWidth}),[e.updatable==="source"||e.updatable===!0?[Me("g",{onMousedown:ae,onMouseenter:S,onMouseout:z},Me(zu,{position:de,centerX:M,centerY:D,radius:l.value,type:"source","data-type":"source"}))]:null,e.updatable==="target"||e.updatable===!0?[Me("g",{onMousedown:I,onMouseenter:S,onMouseout:z},Me(zu,{position:Se,centerX:w,centerY:g,radius:l.value,type:"target","data-type":"target"}))]:null]])};function S(){h.value=!0}function z(){h.value=!1}function R(O,J){f.emit.update({event:O,edge:m.value,connection:J})}function te(O){f.emit.updateEnd({event:O,edge:m.value}),_.value=!1}function G(O,J){O.button===0&&(_.value=!0,v.value=J?m.value.target:m.value.source,x.value=(J?m.value.targetHandle:m.value.sourceHandle)??"",C.value=J?"target":"source",f.emit.updateStart({event:O,edge:m.value}),V(O))}function ie(O){const J={event:O,edge:m.value};e.selectable&&(r.value=!1,n([m.value])),f.emit.click(J)}function k(O){f.emit.contextMenu({event:O,edge:m.value})}function Y(O){f.emit.doubleClick({event:O,edge:m.value})}function P(O){f.emit.mouseEnter({event:O,edge:m.value})}function U(O){f.emit.mouseMove({event:O,edge:m.value})}function Z(O){f.emit.mouseLeave({event:O,edge:m.value})}function ae(O){G(O,!0)}function I(O){G(O,!1)}function j(O){var J;af.includes(O.key)&&e.selectable&&(O.key==="Escape"?((J=b.value)==null||J.blur(),u([c(e.id)])):n([c(e.id)]))}}}),Tb=Vb,Nb={[ve.Left]:ve.Right,[ve.Right]:ve.Left,[ve.Top]:ve.Bottom,[ve.Bottom]:ve.Top},Pb=ue({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{connectionMode:t,connectionStartHandle:n,connectionEndHandle:o,connectionPosition:l,connectionLineType:i,connectionLineStyle:r,connectionLineOptions:s,connectionStatus:a,viewport:u,findNode:c}=Ge(),d=(e=$t(Ui))==null?void 0:e["connection-line"];return()=>{var p,f,m,h;if(!n.value)return null;const _=c(n.value.nodeId);if(!_)return null;const v=n.value.handleId,x=n.value.type,C=((p=o.value)==null?void 0:p.handleId)&&c(o.value.nodeId)||null,b=(l.value.x-u.value.x)/u.value.zoom,A=(l.value.y-u.value.y)/u.value.zoom,y=_.handleBounds;let V=y==null?void 0:y[x];if(t.value===bn.Loose&&(V=V||(y==null?void 0:y[x==="source"?"target":"source"])),!V)return null;const S=(v?V.find(U=>U.id===v):V[0])??null,z=(S==null?void 0:S.position)||ve.Top,{x:R,y:te}=Gr(z,{..._.dimensions,..._.computedPosition},S),G=C&&((f=o.value)==null?void 0:f.handleId)&&((t.value===bn.Strict?(m=C.handleBounds[x==="source"?"target":"source"])==null?void 0:m.find(U=>{var Z;return U.id===((Z=o.value)==null?void 0:Z.handleId)}):[...C.handleBounds.source||[],...C.handleBounds.target||[]].find(U=>{var Z;return U.id===((Z=o.value)==null?void 0:Z.handleId)}))||((h=C.handleBounds[x??"target"])==null?void 0:h[0]))||null,ie=z?Nb[z]:null;if(!z||!ie)return null;const k=i.value??s.value.type;let Y="";const P={sourceX:R,sourceY:te,sourcePosition:z,targetX:b,targetY:A,targetPosition:ie};return k===eo.Bezier?[Y]=Cf(P):k===eo.Step?[Y]=Xr({...P,borderRadius:0}):k===eo.SmoothStep?[Y]=Xr(P):k===eo.SimpleBezier?[Y]=Vf(P):Y=`M${R},${te} ${b},${A}`,Me("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Me("g",{class:"vue-flow__connection"},d?Me(d,{sourceX:R,sourceY:te,sourcePosition:z,targetX:b,targetY:A,targetPosition:ie,sourceNode:_,sourceHandle:S,targetNode:C,targetHandle:G,markerEnd:`url(#${Bn(s.value.markerEnd)})`,markerStart:`url(#${Bn(s.value.markerStart)})`,connectionStatus:a.value}):Me("path",{d:Y,class:[s.value.class,a,"vue-flow__connection-path"],style:r.value||s.value.style,"marker-end":`url(#${Bn(s.value.markerEnd)})`,"marker-start":`url(#${Bn(s.value.markerStart)})`})))}}}),Mb=Pb,Fb=["tabIndex"],Bb={name:"NodesSelection",compatConfig:{MODE:3}},Ab=ue({...Bb,setup(e){const t=Ge(),n=Ye(t,"emits"),o=Ye(t,"viewport"),l=Ye(t,"getSelectedNodes"),i=Ye(t,"noPanClassName"),r=Ye(t,"disableKeyboardA11y"),s=Ye(t,"userSelectionActive"),a=Mf(),u=ne(null),c=bf({el:u,onStart(h){n.value.selectionDragStart(h)},onDrag(h){n.value.selectionDrag(h)},onStop(h){n.value.selectionDragStop(h)}});Ze(()=>{var h;r.value||(h=u.value)==null||h.focus({preventScroll:!0})});const d=K(()=>hf(l.value)),p=K(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function f(h){n.value.selectionContextMenu({event:h,nodes:l.value})}function m(h){r.value||uo[h.key]&&a({x:uo[h.key].x,y:uo[h.key].y},h.shiftKey)}return(h,_)=>!N(s)&&N(d).width&&N(d).height?(F(),W("div",{key:0,class:we(["vue-flow__nodesselection vue-flow__container",N(i)]),style:Be({transform:`translate(${N(o).x}px,${N(o).y}px) scale(${N(o).zoom})`})},[L("div",{ref_key:"el",ref:u,class:we([{dragging:N(c)},"vue-flow__nodesselection-rect"]),style:Be(N(p)),tabIndex:N(r)?void 0:-1,onContextmenu:f,onKeydown:m},null,46,Fb)],6)):me("",!0)}}),Ib={name:"UserSelection",compatConfig:{MODE:3}},Ob=ue({...Ib,props:{userSelectionRect:null},setup(e){return(t,n)=>(F(),W("div",{class:"vue-flow__selection vue-flow__container",style:Be({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}}),Db={input:Qw,default:Jw,output:eb},Rb={default:yb,straight:Eb,step:Sb,smoothstep:Tf,simplebezier:wb};function zb(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Bs.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:ai.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:eo.Bezier,style:{}},connectionMode:bn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:NaN,y:NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Ww(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,disableKeyboardA11y:!1,ariaLiveMessage:"",__experimentalFeatures:{nestedFlow:!1}}}function Nf(e){const t=zb();return e&&Object.keys(e).forEach(n=>{const o=e[n];Re(o)&&(t[n]=o)}),t}function Hb(e,t,n,o,l,i,r){const s=Jb(o,l),a=M=>{const D=M??i.value??[];o.hooks.updateNodeInternals.trigger(D)},u=M=>{if(M)return o.nodes&&!i.value.length?o.nodes.find(D=>D.id===M):o.nodes[i.value.indexOf(M)]},c=M=>{if(M)return o.edges&&!r.value.length?o.edges.find(D=>D.id===M):o.edges[r.value.indexOf(M)]},d=(M,D,g)=>{const w=[];M.forEach(E=>{var T,$;const H={id:E.id,type:"position",dragging:g,from:E.from};if(D&&(H.position=E.position,E.parentNode)){const X=u(E.parentNode);H.position={x:H.position.x-(((T=X==null?void 0:X.computedPosition)==null?void 0:T.x)??0),y:H.position.y-((($=X==null?void 0:X.computedPosition)==null?void 0:$.y)??0)}}w.push(H)}),w!=null&&w.length&&o.hooks.nodesChange.trigger(w)},p=M=>{var D;if(!o.vueFlowRef)return;const g=o.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!g)return;let w;if((D=o.__experimentalFeatures)!=null&&D.nestedFlow){let T=[g],$=g,H;for(;!H&&$;)$=$.parentElement,H=$==null?void 0:$.classList.contains("vue-flow__transformationpane"),H&&(T=[$,...T]);T.forEach(X=>{const q=window.getComputedStyle(X),{m22:oe}=new window.DOMMatrixReadOnly(q.transform);w?w*=oe:w=oe})}else{const T=window.getComputedStyle(g),{m22:$}=new window.DOMMatrixReadOnly(T.transform);w=$}const E=M.reduce((T,$)=>{const H=u($.id);if(H){const X=Di($.nodeElement);X.width&&X.height&&(H.dimensions.width!==X.width||H.dimensions.height!==X.height||$.forceUpdate)&&(H.handleBounds.source=Fu(".source",$.nodeElement,w),H.handleBounds.target=Fu(".target",$.nodeElement,w),H.dimensions=X,H.initialized=!0,T.push({id:H.id,type:"dimensions",dimensions:X}))}return T},[]);E.length&&o.hooks.nodesChange.trigger(E)},f=(M,D)=>{const g=M.map(T=>T.id);let w,E=[];if(o.multiSelectionActive)w=g.map(T=>Gt(T,D));else{const T=cr([...o.nodes,...o.edges],g);w=T.changedNodes,E=T.changedEdges}w.length&&o.hooks.nodesChange.trigger(w),E.length&&o.hooks.edgesChange.trigger(E)},m=(M,D)=>{const g=M.map(T=>T.id);let w=[],E;if(o.multiSelectionActive)E=g.map(T=>Gt(T,D));else{const T=cr([...o.nodes,...o.edges],g);w=T.changedNodes,E=T.changedEdges}w.length&&o.hooks.nodesChange.trigger(w),E.length&&o.hooks.edgesChange.trigger(E)},h=(M,D)=>{const g=M.filter(zo).map($=>$.id),w=M.filter(vo).map($=>$.id);let{changedNodes:E,changedEdges:T}=cr([...o.nodes,...o.edges],[...g,...w]);o.multiSelectionActive&&(E=g.map($=>Gt($,D)),T=w.map($=>Gt($,D))),E.length&&o.hooks.nodesChange.trigger(E),T.length&&o.hooks.edgesChange.trigger(T)},_=M=>{f(M,!0)},v=M=>{m(M,!0)},x=M=>{h(M,!0)},C=M=>{if(!M.length)return f(M,!1);const D=M.map(g=>g.id).map(g=>Gt(g,!1));D.length&&o.hooks.nodesChange.trigger(D)},b=M=>{if(!M.length)return m(M,!1);const D=M.map(g=>g.id).map(g=>Gt(g,!1));D.length&&o.hooks.edgesChange.trigger(D)},A=M=>{if(!M||!M.length)return h([],!1);const{changedNodes:D,changedEdges:g}=M.reduce((w,E)=>{const T=Gt(E.id,!1);return zo(E)?w.changedNodes.push(T):w.changedEdges.push(T),w},{changedNodes:[],changedEdges:[]});D.length&&o.hooks.nodesChange.trigger(D),g.length&&o.hooks.edgesChange.trigger(g)},y=M=>{var D;(D=o.d3Zoom)==null||D.scaleExtent([M,o.maxZoom]),o.minZoom=M},V=M=>{var D;(D=o.d3Zoom)==null||D.scaleExtent([o.minZoom,M]),o.maxZoom=M},S=M=>{var D;(D=o.d3Zoom)==null||D.translateExtent(M),o.translateExtent=M},z=M=>{o.nodeExtent=M,a(i.value)},R=M=>{o.nodesDraggable=M,o.nodesConnectable=M,o.elementsSelectable=M},te=M=>{const D=M instanceof Function?M(o.nodes):M;!o.initialized&&!D.length||(o.nodes=Bu(D,o.nodes,u,o.hooks.error.trigger))},G=M=>{const D=M instanceof Function?M(o.edges):M;if(!o.initialized&&!D.length)return;const g=o.isValidConnection?D.filter(w=>o.isValidConnection(w,{edges:o.edges,sourceNode:u(w.source),targetNode:u(w.target)})):D;o.edges=g.reduce((w,E)=>{const T=u(E.source),$=u(E.target),H=!T||typeof T>"u",X=!$||typeof $>"u";if(H&&X?o.hooks.error.trigger(new tt(Je.EDGE_SOURCE_TARGET_MISSING,E.id,E.source,E.target)):(H&&o.hooks.error.trigger(new tt(Je.EDGE_SOURCE_MISSING,E.id,E.source)),X&&o.hooks.error.trigger(new tt(Je.EDGE_TARGET_MISSING,E.id,E.target))),H||X)return w;const q=c(E.id);return w.push({...cf(E,Object.assign({},q,o.defaultEdgeOptions)),sourceNode:T,targetNode:$}),w},[])},ie=M=>{const D=M instanceof Function?M([...o.nodes,...o.edges]):M;!o.initialized&&!D.length||(te(D.filter(zo)),G(D.filter(vo)))},k=M=>{let D=M instanceof Function?M(o.nodes):M;D=Array.isArray(D)?D:[D];const g=Bu(D,o.nodes,u,o.hooks.error.trigger).map(Cu);g.length&&o.hooks.nodesChange.trigger(g)},Y=M=>{let D=M instanceof Function?M(o.edges):M;D=Array.isArray(D)?D:[D];const g=(o.isValidConnection?D.filter(w=>o.isValidConnection(w,{edges:o.edges,sourceNode:u(w.source),targetNode:u(w.target)})):D).reduce((w,E)=>{const T=Yw({...E,...o.defaultEdgeOptions},o.edges,o.hooks.error.trigger);if(T){const $=u(T.source),H=u(T.target),X=!$||typeof $>"u",q=!H||typeof H>"u";if(X&&q?o.hooks.error.trigger(new tt(Je.EDGE_SOURCE_TARGET_MISSING,T.id,T.source,T.target)):(X&&o.hooks.error.trigger(new tt(Je.EDGE_SOURCE_MISSING,T.id,T.source)),q&&o.hooks.error.trigger(new tt(Je.EDGE_TARGET_MISSING,T.id,T.target))),X||q)return w;w.push(Cu({...T,sourceNode:$,targetNode:H}))}return w},[]);g.length&&o.hooks.edgesChange.trigger(g)},P=(M,D=!0,g=!1)=>{let w=M instanceof Function?M(o.nodes):M;w=Array.isArray(w)?w:[w];const E=[],T=[];function $(X){const q=Ri(X,o.edges).filter(oe=>Re(oe.deletable)?oe.deletable:!0);T.push(...q.map(oe=>Nl(oe.id)))}function H(X){const q=o.nodes.filter(oe=>oe.parentNode===X);if(q.length){const oe=q.map(Q=>Q.id);E.push(...oe.map(Q=>Nl(Q))),D&&$(q),q.forEach(Q=>{H(Q.id)})}}w.forEach(X=>{const q=typeof X=="string"?u(X):X;q&&(Re(q.deletable)&&!q.deletable||(E.push(Nl(q.id)),D&&$([q]),g&&H(q.id)))}),T.length&&o.hooks.edgesChange.trigger(T),E.length&&o.hooks.nodesChange.trigger(E)},U=M=>{let D=M instanceof Function?M(o.edges):M;D=Array.isArray(D)?D:[D];const g=[];D.forEach(w=>{const E=typeof w=="string"?c(w):w;E&&(Re(E.deletable)&&!E.deletable||g.push(Nl(typeof w=="string"?w:w.id)))}),o.hooks.edgesChange.trigger(g)},Z=(M,D,g=!0)=>Xw(M,D,o.edges,c,g,o.hooks.error.trigger),ae=M=>ku(M,o.nodes),I=M=>ku(M,o.edges),j=(M,D,g,w=!1)=>{w?o.connectionClickStartHandle=M:o.connectionStartHandle=M,o.connectionEndHandle=null,o.connectionStatus=null,D&&(o.connectionPosition=D)},O=(M,D=null,g=null)=>{o.connectionStartHandle&&(o.connectionPosition=M,o.connectionEndHandle=D,o.connectionStatus=g)},J=(M,D)=>{o.connectionPosition={x:NaN,y:NaN},o.connectionEndHandle=null,o.connectionStatus=null,D?o.connectionClickStartHandle=null:o.connectionStartHandle=null},he=M=>{const D=Cw(M),g=D?null:u(M.id);return!D&&!g?[null,null,D]:[D?M:xu(g),g,D]},ee=(M,D=!0,g)=>{const[w,E,T]=he(M);return w?(g||o.nodes).filter($=>{if(!T&&($.id===E.id||!$.computedPosition))return!1;const H=xu($),X=jr(H,w);return D&&X>0||X>=Number(M.width)*Number(M.height)}):[]},se=(M,D,g=!0)=>{const[w]=he(M);if(!w)return!1;const E=jr(w,D);return g&&E>0||E>=Number(M.width)*Number(M.height)},le=M=>{const{viewport:D,dimensions:g,d3Zoom:w,d3Selection:E,translateExtent:T}=o;if(!w||!E||!M.x&&!M.y)return!1;const $=go.translate(D.x+M.x,D.y+M.y).scale(D.zoom),H=[[0,0],[g.width,g.height]],X=w.constrain()($,H,T),q=o.viewport.x!==X.x||o.viewport.y!==X.y||o.viewport.zoom!==X.k;return w.transform(E,X),q},de=M=>{const D=M instanceof Function?M(o):M,g=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent","nodeExtent","hooks","defaultEdgeOptions"],w=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Re(D.defaultEdgeOptions)&&(o.defaultEdgeOptions=D.defaultEdgeOptions);const E=D.modelValue||D.nodes||D.edges?[]:void 0;E&&(D.modelValue&&E.push(...D.modelValue),D.nodes&&E.push(...D.nodes),D.edges&&E.push(...D.edges),ie(E));const T=()=>{Re(D.maxZoom)&&V(D.maxZoom),Re(D.minZoom)&&y(D.minZoom),Re(D.translateExtent)&&S(D.translateExtent),Re(D.nodeExtent)&&z(D.nodeExtent)};Object.keys(D).forEach($=>{const H=$,X=D[H];![...g,...w].includes(H)&&Re(X)&&(o[H]=X)}),o.d3Zoom?T():vn(()=>o.d3Zoom).not.toBeUndefined().then(T),o.initialized||(o.initialized=!0)},Se={updateNodePositions:d,updateNodeDimensions:p,setElements:ie,setNodes:te,setEdges:G,addNodes:k,addEdges:Y,removeNodes:P,removeEdges:U,findNode:u,findEdge:c,updateEdge:Z,applyEdgeChanges:I,applyNodeChanges:ae,addSelectedElements:x,addSelectedNodes:_,addSelectedEdges:v,setMinZoom:y,setMaxZoom:V,setTranslateExtent:S,setNodeExtent:z,removeSelectedElements:A,removeSelectedNodes:C,removeSelectedEdges:b,startConnection:j,updateConnection:O,endConnection:J,setInteractive:R,setState:de,getIntersectingNodes:ee,isNodeIntersecting:se,panBy:le,fitView:M=>s.value.fitView(M),zoomIn:M=>s.value.zoomIn(M),zoomOut:M=>s.value.zoomOut(M),zoomTo:(M,D)=>s.value.zoomTo(M,D),setViewport:(M,D)=>s.value.setViewport(M,D),setTransform:(M,D)=>s.value.setTransform(M,D),getViewport:()=>s.value.getViewport(),getTransform:()=>s.value.getTransform(),setCenter:(M,D,g)=>s.value.setCenter(M,D,g),fitBounds:(M,D)=>s.value.fitBounds(M,D),project:M=>s.value.project(M),toObject:()=>JSON.parse(JSON.stringify({nodes:o.nodes.map(M=>{const{computedPosition:D,handleBounds:g,selected:w,dimensions:E,isParent:T,resizing:$,dragging:H,initialized:X,...q}=M;return q}),edges:o.edges.map(M=>{const{selected:D,sourceNode:g,targetNode:w,...E}=M;return E}),position:[o.viewport.x,o.viewport.y],zoom:o.viewport.zoom,viewport:o.viewport})),fromObject:M=>{const{nodes:D,edges:g,position:w,zoom:E,viewport:T}=M;if(D&&te(D),g&&G(g),T!=null&&T.x&&T!=null&&T.y||w){const $=(T==null?void 0:T.x)||w[0],H=(T==null?void 0:T.y)||w[1],X=(T==null?void 0:T.zoom)||E||o.viewport.zoom;vn(()=>s.value.initialized).toBe(!0).then(()=>{s.value.setViewport({x:$,y:H,zoom:X})})}},updateNodeInternals:a,$reset:()=>{const M=Nf();if(o.edges=[],o.nodes=[],o.d3Zoom&&o.d3Selection){const D=go.translate(M.defaultViewport.x??0,M.defaultViewport.y??0).scale(jn(M.defaultViewport.zoom??1,M.minZoom,M.maxZoom)),g=o.viewportRef.getBoundingClientRect(),w=[[0,0],[g.width,g.height]],E=o.d3Zoom.constrain()(D,w,M.translateExtent);o.d3Zoom.transform(o.d3Selection,E)}de(M)},$destroy:()=>{}};return vn(()=>s.value.initialized).toBe(!0,{flush:"pre"}).then(()=>{o.fitViewOnInit&&s.value.fitView(),o.hooks.paneReady.trigger({id:e,emits:t,vueFlowVersion:"1.22.2",...n,...o,...l,...Se})}),Se}function Lb(e,t,n){const o=K(()=>h=>e.nodes&&!t.value.length?e.nodes.find(_=>_.id===h):e.nodes[t.value.indexOf(h)]),l=K(()=>h=>e.edges&&!n.value.length?e.edges.find(_=>_.id===h):e.edges[n.value.indexOf(h)]),i=K(()=>{var h;const _={...Rb,...e.edgeTypes},v=Object.keys(_);return(h=e.edges)==null||h.forEach(x=>x.type&&!v.includes(x.type)&&(_[x.type]=x.type)),_}),r=K(()=>{var h;const _={...Db,...e.nodeTypes},v=Object.keys(_);return(h=e.nodes)==null||h.forEach(x=>x.type&&!v.includes(x.type)&&(_[x.type]=x.type)),_}),s=K(()=>{const h=e.nodes.filter(_=>!_.hidden);return e.onlyRenderVisibleElements?h&&mf(h,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):h??[]}),a=(h,_,v)=>{if(_=_??o.value(h.source),v=v??o.value(h.target),!_||!v){e.hooks.error.trigger(new tt(Je.EDGE_ORPHANED,h.id));return}return!h.hidden&&!v.hidden&&!_.hidden},u=K(()=>e.onlyRenderVisibleElements?e.edges.filter(h=>{const _=o.value(h.source),v=o.value(h.target);return a(h,_,v)&&Rw({sourcePos:_.computedPosition||{x:0,y:0},targetPos:v.computedPosition||{x:0,y:0},sourceWidth:_.dimensions.width,sourceHeight:_.dimensions.height,targetWidth:v.dimensions.width,targetHeight:v.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(h=>a(h))),c=K(()=>[...s.value,...u.value]),d=K(()=>e.nodes.filter(h=>h.selected)),p=K(()=>e.edges.filter(h=>h.selected)),f=K(()=>[...d.value??[],...p.value??[]]),m=K(()=>s.value.filter(h=>h.initialized&&h.handleBounds!==void 0));return{getNode:o,getEdge:l,getElements:c,getEdgeTypes:i,getNodeTypes:r,getEdges:u,getNodes:s,getSelectedElements:f,getSelectedNodes:d,getSelectedEdges:p,getNodesInitialized:m}}class no{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return no.instance||(no.instance=new no),no.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Nf(n),l=al(o),i={};Object.entries(l.hooks).forEach(([p,f])=>{const m=`on${p.charAt(0).toUpperCase()+p.slice(1)}`;i[m]=f.on});const r={};Object.entries(l.hooks).forEach(([p,f])=>{r[p]=f.trigger});const s=K(()=>l.nodes.map(p=>p.id)),a=K(()=>l.edges.map(p=>p.id)),u=Lb(l,s,a),c=Hb(t,r,i,l,u,s,a);c.setState(l);const d={...i,...u,...c,...V0(l),emits:r,id:t,vueFlowVersion:"1.22.2",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function Ge(e){const t=no.getInstance(),n=mi(),o=e==null?void 0:e.id,l=(n==null?void 0:n.vueFlowId)||o;let i;if(n){const r=$t(Au,null);typeof r<"u"&&r!==null&&(i=r)}if(i||l&&(i=t.get(l)),!i||i&&o&&o!==i.id){const r=o??t.getId(),s=t.create(r,e);i=s,hi().run(()=>{$e(s.applyDefault,a=>{const u=d=>{s.applyNodeChanges(d)},c=d=>{s.applyEdgeChanges(d)};a?(s.onNodesChange(u),s.onEdgesChange(c)):(s.hooks.value.nodesChange.off(u),s.hooks.value.edgesChange.off(c))},{immediate:!0}),dl(()=>{if(i){const a=t.get(i.id);a?a.$destroy():wf(`No store instance found for id ${i.id} in storage.`)}})})}else e&&i.setState(e);return n&&(Hn(Au,i),n.vueFlowId=i.id),i}function Ub(){return{doubleClick:ce(),click:ce(),mouseEnter:ce(),mouseMove:ce(),mouseLeave:ce(),contextMenu:ce(),updateStart:ce(),update:ce(),updateEnd:ce()}}function jb(e,t){const n=Ub();return n.doubleClick.on(o=>{var l,i;t.edgeDoubleClick(o),(i=(l=e.events)==null?void 0:l.doubleClick)==null||i.call(l,o)}),n.click.on(o=>{var l,i;t.edgeClick(o),(i=(l=e.events)==null?void 0:l.click)==null||i.call(l,o)}),n.mouseEnter.on(o=>{var l,i;t.edgeMouseEnter(o),(i=(l=e.events)==null?void 0:l.mouseEnter)==null||i.call(l,o)}),n.mouseMove.on(o=>{var l,i;t.edgeMouseMove(o),(i=(l=e.events)==null?void 0:l.mouseMove)==null||i.call(l,o)}),n.mouseLeave.on(o=>{var l,i;t.edgeMouseLeave(o),(i=(l=e.events)==null?void 0:l.mouseLeave)==null||i.call(l,o)}),n.contextMenu.on(o=>{var l,i;t.edgeContextMenu(o),(i=(l=e.events)==null?void 0:l.contextMenu)==null||i.call(l,o)}),n.updateStart.on(o=>{var l,i;t.edgeUpdateStart(o),(i=(l=e.events)==null?void 0:l.updateStart)==null||i.call(l,o)}),n.update.on(o=>{var l,i;t.edgeUpdate(o),(i=(l=e.events)==null?void 0:l.update)==null||i.call(l,o)}),n.updateEnd.on(o=>{var l,i;t.edgeUpdateEnd(o),(i=(l=e.events)==null?void 0:l.updateEnd)==null||i.call(l,o)}),Object.entries(n).reduce((o,[l,i])=>(o.emit[l]=i.trigger,o.on[l]=i.on,o),{emit:{},on:{}})}function Gb(){const{viewport:e,snapGrid:t,snapToGrid:n}=Ge();return({sourceEvent:o})=>{const l=o.touches?o.touches[0].clientX:o.clientX,i=o.touches?o.touches[0].clientY:o.clientY,r={x:(l-e.value.x)/e.value.zoom,y:(i-e.value.y)/e.value.zoom};return{xSnapped:n.value?t.value[0]*Math.round(r.x/t.value[0]):r.x,ySnapped:n.value?t.value[1]*Math.round(r.y/t.value[1]):r.y,...r}}}function Ml(){return!0}function Pf({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:l,onEdgeUpdate:i,onEdgeUpdateEnd:r}){const{vueFlowRef:s,connectionMode:a,connectionRadius:u,connectOnClick:c,connectionClickStartHandle:d,nodesConnectable:p,autoPanOnConnect:f,findNode:m,panBy:h,getNodes:_,startConnection:v,updateConnection:x,endConnection:C,emits:b,viewport:A,edges:y,isValidConnection:V}=Ge();let S=null,z=!1,R=null;function te(ie){var k;const Y=Ce(n)==="target",P=Is(ie),U=Su(ie.target);if(P&&ie.button===0||!P){let Z=function(E){M=Rn(E,de);const{handle:T,validHandleResult:$}=Lw(E,U,ff(M,A.value,!1,[1,1]),u.value,g,H=>Mu(E,H,a.value,Ce(t),Ce(e),Y?"target":"source",j,U,y.value,m));if(O=T,D||(w(),D=!0),S=$.connection,z=$.isValid,R=$.handleDomNode,x(O&&z?Nw({x:O.x,y:O.y},A.value):M,$.endHandle,jw(!!O,z)),!O&&!z&&!R)return fr(Se);S&&S.source!==S.target&&R&&(fr(Se),Se=R,R.classList.add("connecting","vue-flow__handle-connecting"),R.classList.toggle("valid",z),R.classList.toggle("vue-flow__handle-valid",z))},ae=function(E){(O||R)&&S&&z&&(i?i(E,S):b.connect(S)),b.connectEnd(E),l&&(r==null||r(E)),fr(Se),cancelAnimationFrame(J),C(E),D=!1,z=!1,S=null,R=null,U.removeEventListener("mousemove",Z),U.removeEventListener("mouseup",ae),U.removeEventListener("touchmove",Z),U.removeEventListener("touchend",ae)};const I=m(Ce(t));let j=Ce(o)||V.value||Ml;!j&&I&&(j=(Y?I.isValidSourcePos:I.isValidTargetPos)||Ml);let O,J=0;const{x:he,y:ee}=Rn(ie),se=U==null?void 0:U.elementFromPoint(he,ee),le=Os(Ce(l),se),de=(k=s.value)==null?void 0:k.getBoundingClientRect();if(!de||!le)return;let Se,M=Rn(ie,de),D=!1;const g=Uw({nodes:_.value,nodeId:Ce(t),handleId:Ce(e),handleType:le}),w=()=>{if(!f)return;const[E,T]=vf(M,de);h({x:E,y:T}),J=requestAnimationFrame(w)};v({nodeId:Ce(t),handleId:Ce(e),type:le},{x:he-de.left,y:ee-de.top},ie),b.connectStart({event:ie,nodeId:Ce(t),handleId:Ce(e),handleType:le}),U.addEventListener("mousemove",Z),U.addEventListener("mouseup",ae),U.addEventListener("touchmove",Z),U.addEventListener("touchend",ae)}}function G(ie){if(!c.value)return;const k=Ce(n)==="target";if(!d.value)b.clickConnectStart({event:ie,nodeId:Ce(t),handleId:Ce(e)}),v({nodeId:Ce(t),type:Ce(n),handleId:Ce(e)},void 0,ie,!0);else{let Y=Ce(o)||V.value||Ml;const P=m(Ce(t));if(!Y&&P&&(Y=(k?P.isValidSourcePos:P.isValidTargetPos)||Ml),P&&(typeof P.connectable>"u"?p.value:P.connectable)===!1)return;const U=Su(ie.target),{connection:Z,isValid:ae}=Mu(ie,{nodeId:Ce(t),id:Ce(e),type:Ce(n)},a.value,d.value.nodeId,d.value.handleId||null,d.value.type,Y,U,y.value,m),I=Z.source===Z.target;ae&&!I&&b.connect(Z),b.clickConnectEnd(ie),C(ie,!0)}}return{handlePointerDown:te,handleClick:G}}function Rs(){return typeof window<"u"?window:{chrome:!1}}function Wr(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,l=yo(o.hasAttribute)?o.hasAttribute("contenteditable"):!1,i=yo(o.closest)?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||l||!!i}function Yb(e){return e.ctrlKey||e.metaKey||e.shiftKey}function Xb(e,t){return n=>e.some(o=>{const l=o.split("+").map(i=>i.trim().toLowerCase());return l.length===1?n.key===o:(t.add(n.key.toLowerCase()),l.every(i=>t.has(i)))})}function Ho(e,t){const n=Rs(),o=ne(Ce(e)===!0);let l=!1;const i=new Set;return $e(o,()=>{t==null||t(o.value)}),$e(()=>Ce(e),r=>{if(n&&typeof n.addEventListener<"u"&&Cs(n,"blur",()=>{o.value=!1}),Hw(r)){o.value=r;return}Array.isArray(r)&&(r=Xb(r,i)),r&&(nu(r,s=>{l=Yb(s),!(!l&&Wr(s))&&(s.preventDefault(),o.value=!0)},{eventName:"keydown"}),nu(r,s=>{if(o.value){if(!l&&Wr(s))return;l=!1,i.clear(),o.value=!1}},{eventName:"keyup"}))},{immediate:!0}),o}function Wb(e){const t=e??$t(Sf,""),n=$t($f,ne(null)),{findNode:o,edges:l,emits:i}=Ge(),r=o(t);return r||i.error(new tt(Je.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:r,parentNode:K(()=>o(r.parentNode)),connectedEdges:K(()=>Ri([r],l.value))}}function qb(){return{doubleClick:ce(),click:ce(),mouseEnter:ce(),mouseMove:ce(),mouseLeave:ce(),contextMenu:ce(),dragStart:ce(),drag:ce(),dragStop:ce()}}function Zb(e,t){const n=qb();return n.doubleClick.on(o=>{var l,i;t.nodeDoubleClick(o),(i=(l=e.events)==null?void 0:l.doubleClick)==null||i.call(l,o)}),n.click.on(o=>{var l,i;t.nodeClick(o),(i=(l=e.events)==null?void 0:l.click)==null||i.call(l,o)}),n.mouseEnter.on(o=>{var l,i;t.nodeMouseEnter(o),(i=(l=e.events)==null?void 0:l.mouseEnter)==null||i.call(l,o)}),n.mouseMove.on(o=>{var l,i;t.nodeMouseMove(o),(i=(l=e.events)==null?void 0:l.mouseMove)==null||i.call(l,o)}),n.mouseLeave.on(o=>{var l,i;t.nodeMouseLeave(o),(i=(l=e.events)==null?void 0:l.mouseLeave)==null||i.call(l,o)}),n.contextMenu.on(o=>{var l,i;t.nodeContextMenu(o),(i=(l=e.events)==null?void 0:l.contextMenu)==null||i.call(l,o)}),n.dragStart.on(o=>{var l,i;t.nodeDragStart(o),(i=(l=e.events)==null?void 0:l.dragStart)==null||i.call(l,o)}),n.drag.on(o=>{var l,i;t.nodeDrag(o),(i=(l=e.events)==null?void 0:l.drag)==null||i.call(l,o)}),n.dragStop.on(o=>{var l,i;t.nodeDragStop(o),(i=(l=e.events)==null?void 0:l.dragStop)==null||i.call(l,o)}),Object.entries(n).reduce((o,[l,i])=>(o.emit[l]=i.trigger,o.on[l]=i.on,o),{emit:{},on:{}})}function Mf(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:l,snapToGrid:i,nodesDraggable:r,emits:s}=Ge();return(a,u=!1)=>{const c=i.value?l.value[0]:5,d=i.value?l.value[1]:5,p=u?4:1,f=a.x*c*p,m=a.y*d*p,h=e.value.filter(_=>_.draggable||r&&typeof _.draggable>"u").map(_=>{const v={x:_.computedPosition.x+f,y:_.computedPosition.y+m},{computedPosition:x}=As(_,v,s.error,t.value,_.parentNode?o(_.parentNode):void 0);return{id:_.id,position:x,from:_.position,distance:{x:a.x,y:a.y},dimensions:_.dimensions}});n(h,!0,!1)}}const pr=.1;function nn(){return Promise.resolve(!1)}const Kb={zoomIn:nn,zoomOut:nn,zoomTo:nn,fitView:nn,setCenter:nn,fitBounds:nn,project:e=>e,setViewport:nn,setTransform:nn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),initialized:!1};function Jb(e,t){const n=e,o=Ye(n,"nodes"),l=Ye(n,"d3Zoom"),i=Ye(n,"d3Selection"),r=Ye(n,"dimensions"),s=Ye(n,"translateExtent"),a=Ye(n,"minZoom"),u=Ye(n,"maxZoom"),c=Ye(n,"viewport"),d=Ye(n,"snapToGrid"),p=Ye(n,"snapGrid"),{getNodes:f}=t,m=ne(!1);vn(()=>!!l.value&&!!i.value&&!!r.value.width&&!!r.value.height).toBe(!0).then(()=>{m.value=!0});function h(v,x){return new Promise(C=>{i.value&&l.value?l.value.scaleBy(hr(i.value,x,()=>{C(!0)}),v):C(!1)})}function _(v,x,C,b){return new Promise(A=>{const{x:y,y:V}=uf({x:-v,y:-x},s.value),S=go.translate(-y,-V).scale(C);i.value&&l.value?l.value.transform(hr(i.value,b,()=>{A(!0)}),S):A(!1)})}return K(()=>m.value?{initialized:!0,zoomIn:v=>h(1.2,v==null?void 0:v.duration),zoomOut:v=>h(1/1.2,v==null?void 0:v.duration),zoomTo:(v,x)=>new Promise(C=>{i.value&&l.value?l.value.scaleTo(hr(i.value,x==null?void 0:x.duration,()=>{C(!0)}),v):C(!1)}),setViewport:(v,x)=>_(v.x,v.y,v.zoom,x==null?void 0:x.duration),setTransform:(v,x)=>_(v.x,v.y,v.zoom,x==null?void 0:x.duration),getViewport:()=>({x:c.value.x,y:c.value.y,zoom:c.value.zoom}),getTransform:()=>({x:c.value.x,y:c.value.y,zoom:c.value.zoom}),fitView:(v={padding:pr,includeHiddenNodes:!1,duration:0})=>{const x=(v.includeHiddenNodes?o.value:f.value).filter(V=>{var S;const z=V.initialized&&V.dimensions.width&&V.dimensions.height;let R=!0;return(S=v.nodes)!=null&&S.length&&(R=v.nodes.includes(V.id)),z&&R});if(!x.length)return Promise.resolve(!1);const C=hf(x),{x:b,y:A,zoom:y}=$u(C,r.value.width,r.value.height,v.minZoom??a.value,v.maxZoom??u.value,v.padding??pr,v.offset);return _(b,A,y,v==null?void 0:v.duration)},setCenter:(v,x,C)=>{const b=typeof(C==null?void 0:C.zoom)<"u"?C.zoom:u.value,A=r.value.width/2-v*b,y=r.value.height/2-x*b;return _(A,y,b,C==null?void 0:C.duration)},fitBounds:(v,x={padding:pr})=>{const{x:C,y:b,zoom:A}=$u(v,r.value.width,r.value.height,a.value,u.value,x.padding);return _(C,b,A,x==null?void 0:x.duration)},project:v=>ff(v,c.value,d.value,p.value)}:Kb)}function hr(e,t=0,n){return e.transition().duration(t).on("end",n)}function Qb(e,t,n){const o=hi();return o.run(()=>{const l=()=>{o.run(()=>{let m,h,_=!!(n.nodes.value.length||n.edges.value.length);m=Jn([e.modelValue,()=>{var v,x;return(x=(v=e.modelValue)==null?void 0:v.value)==null?void 0:x.length}],([v])=>{v&&Array.isArray(v)&&(h==null||h.pause(),n.setElements(v),!h&&!_&&v.length?_=!0:h==null||h.resume())}),h=Jn([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([v,x])=>{var C;(C=e.modelValue)!=null&&C.value&&Array.isArray(e.modelValue.value)&&(m==null||m.pause(),e.modelValue.value=[...v,...x],nt(()=>{m==null||m.resume()}))},{immediate:_}),No(()=>{m==null||m.stop(),h==null||h.stop()})})},i=()=>{o.run(()=>{let m,h,_=!!n.nodes.value.length;m=Jn([e.nodes,()=>{var v,x;return(x=(v=e.nodes)==null?void 0:v.value)==null?void 0:x.length}],([v])=>{v&&Array.isArray(v)&&(h==null||h.pause(),n.setNodes(v),!h&&!_&&v.length?_=!0:h==null||h.resume())}),h=Jn([n.nodes,()=>n.nodes.value.length],([v])=>{var x;(x=e.nodes)!=null&&x.value&&Array.isArray(e.nodes.value)&&(m==null||m.pause(),e.nodes.value=[...v],nt(()=>{m==null||m.resume()}))},{immediate:_}),No(()=>{m==null||m.stop(),h==null||h.stop()})})},r=()=>{o.run(()=>{let m,h,_=!!n.edges.value.length;m=Jn([e.edges,()=>{var v,x;return(x=(v=e.edges)==null?void 0:v.value)==null?void 0:x.length}],([v])=>{v&&Array.isArray(v)&&(h==null||h.pause(),n.setEdges(v),!h&&!_&&v.length?_=!0:h==null||h.resume())}),h=Jn([n.edges,()=>n.edges.value.length],([v])=>{var x;(x=e.edges)!=null&&x.value&&Array.isArray(e.edges.value)&&(m==null||m.pause(),e.edges.value=[...v],nt(()=>{m==null||m.resume()}))},{immediate:_}),No(()=>{m==null||m.stop(),h==null||h.stop()})})},s=()=>{o.run(()=>{$e(()=>t.maxZoom,()=>{t.maxZoom&&Re(t.maxZoom)&&n.setMaxZoom(t.maxZoom)})})},a=()=>{o.run(()=>{$e(()=>t.minZoom,()=>{t.minZoom&&Re(t.minZoom)&&n.setMinZoom(t.minZoom)})})},u=()=>{o.run(()=>{$e(()=>t.translateExtent,()=>{t.translateExtent&&Re(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)})})},c=()=>{o.run(()=>{$e(()=>t.nodeExtent,()=>{t.nodeExtent&&Re(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)})})},d=()=>{o.run(()=>{$e(()=>t.applyDefault,()=>{Re(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)})})},p=()=>{o.run(()=>{const m=async h=>{let _=h;yo(t.autoConnect)&&(_=await t.autoConnect(h)),_!==!1&&n.addEdges([_])};$e(()=>t.autoConnect,()=>{Re(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)}),$e(n.autoConnect,(h,_,v)=>{h?n.onConnect(m):n.hooks.value.connect.off(m),v(()=>{n.hooks.value.connect.off(m)})},{immediate:!0})})},f=()=>{const m=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach(h=>{if(!m.includes(h)){const _=Fr(t,h),v=n[h];o.run(()=>{$e(_,x=>{Re(x)&&(v.value=x)},{flush:"pre"})})}})};l(),i(),r(),a(),s(),u(),c(),d(),p(),f()}),()=>o.stop()}function Hu(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const ex={name:"Pane",compatConfig:{MODE:3}},tx=ue({...ex,props:{isSelecting:{type:Boolean}},setup(e){const{id:t,vueFlowRef:n,getNodes:o,getEdges:l,viewport:i,emits:r,userSelectionActive:s,removeSelectedElements:a,panOnDrag:u,userSelectionRect:c,elementsSelectable:d,nodesSelectionActive:p,addSelectedElements:f,getSelectedEdges:m,getSelectedNodes:h,removeNodes:_,removeEdges:v,selectionMode:x,deleteKeyCode:C,multiSelectionKeyCode:b,multiSelectionActive:A}=Ge(),y=ne(null),V=ne(0),S=ne(0),z=ne(),R=K(()=>d.value&&(e.isSelecting||s.value));Ho(C,I=>{if(!I)return;const j=o.value.reduce((O,J)=>((!J.selected&&J.parentNode&&O.find(he=>he.id===J.parentNode)||J.selected)&&O.push(J),O),[]);(j||m.value)&&(m.value.length>0&&v(m.value),j.length>0&&_(j),p.value=!1,a())}),Ho(b,I=>{A.value=I});function te(){s.value=!1,c.value=null,V.value=0,S.value=0}function G(I){I.target!==y.value||R.value||(r.paneClick(I),a(),p.value=!1)}function ie(I){var j;if(I.target===y.value){if(Array.isArray(u.value)&&(j=u.value)!=null&&j.includes(2)){I.preventDefault();return}r.paneContextMenu(I)}}function k(I){I.target===y.value&&r.paneScroll(I)}function Y(I){if(z.value=n.value.getBoundingClientRect(),!R.value||!d||!e.isSelecting||I.button!==0||I.target!==y.value||!z.value)return;const{x:j,y:O}=Hu(I,z.value);a(),c.value={width:0,height:0,startX:j,startY:O,x:j,y:O},s.value=!0,r.selectionStart(I)}function P(I){if(!R.value)return r.paneMouseMove(I);if(!e.isSelecting||!z.value||!c.value)return;s.value||(s.value=!0),p.value&&(p.value=!1);const j=Hu(I,z.value),O=c.value.startX??0,J=c.value.startY??0,he={...c.value,x:j.x<O?j.x:O,y:j.y<J?j.y:J,width:Math.abs(j.x-O),height:Math.abs(j.y-J)},ee=mf(o.value,c.value,i.value,x.value===Bs.Partial),se=Ri(ee,l.value);V.value=ee.length,S.value=se.length,c.value=he,f([...ee,...se])}function U(I){R.value&&I.button===0&&(!s.value&&c.value&&I.target===y.value&&G(I),p.value=V.value>0,te(),r.selectionEnd(I))}function Z(I){var j;if(!R.value)return r.paneMouseLeave(I);s.value&&(p.value=V.value>0,(j=r.selectionEnd)==null||j.call(r,I)),te()}function ae(I){R.value||r.paneMouseEnter(I)}return(I,j)=>(F(),W("div",{ref_key:"container",ref:y,key:`pane-${N(t)}`,class:we(["vue-flow__pane vue-flow__container",{selection:e.isSelecting}]),onClick:G,onContextmenu:ie,onWheelPassive:k,onMouseenter:ae,onMousedown:Y,onMousemove:P,onMouseup:U,onMouseleave:Z},[Ee(I.$slots,"default"),N(s)&&N(c)?(F(),pe(Ob,{key:0,"user-selection-rect":N(c)},null,8,["user-selection-rect"])):me("",!0),N(p)&&N(h).length?(F(),pe(Ab,{key:1})):me("",!0)],34))}}),nx={class:"vue-flow__nodes vue-flow__container"},ox={name:"Nodes",compatConfig:{MODE:3}},lx=ue({...ox,setup(e){const t=$t(Ui),{nodesDraggable:n,nodesFocusable:o,elementsSelectable:l,nodesConnectable:i,getNodes:r,getNodesInitialized:s,getNodeTypes:a,updateNodeDimensions:u,emits:c}=Ge(),d=ne(),p=Yn();vn(()=>r.value.length>0&&s.value.length===r.value.length).toBe(!0).then(()=>{nt(()=>{c.nodesInitialized(s.value)})}),Ze(()=>{d.value=new ResizeObserver(x=>{const C=x.map(b=>({id:b.target.getAttribute("data-id"),nodeElement:b.target,forceUpdate:!0}));u(C)})}),Si(()=>{var x;return(x=d.value)==null?void 0:x.disconnect()});function f(x){return typeof x>"u"?n.value:x}function m(x){return typeof x>"u"?l.value:x}function h(x){return typeof x>"u"?i.value:x}function _(x){return typeof x>"u"?o.value:x}function v(x,C){const b=x||"default",A=t==null?void 0:t[`node-${b}`];if(A)return A;let y=C??a.value[b];if(typeof y=="string"&&p){const V=Object.keys(p.appContext.components);V&&V.includes(b)&&(y=zn(b,!1))}return y&&typeof y!="string"?y:(c.error(new tt(Je.NODE_TYPE_MISSING,y)),!1)}return(x,C)=>(F(),W("div",nx,[d.value?(F(!0),W(Pe,{key:0},mt(N(r),b=>(F(),pe(N(lb),{id:b.id,key:b.id,"resize-observer":d.value,type:v(b.type,b.template),name:b.type||"default",draggable:f(b.draggable),selectable:m(b.selectable),connectable:h(b.connectable),focusable:_(b.focusable),node:b},null,8,["id","resize-observer","type","name","draggable","selectable","connectable","focusable","node"]))),128)):me("",!0)]))}}),ix=["id","markerWidth","markerHeight","markerUnits","orient"],rx=["stroke","stroke-width","fill"],sx=["stroke","stroke-width"],ax={name:"MarkerType",compatConfig:{MODE:3}},ux=ue({...ax,props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(F(),W("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===N(Ur).ArrowClosed?(F(),W("polyline",{key:0,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:e.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,rx)):me("",!0),e.type===N(Ur).Arrow?(F(),W("polyline",{key:1,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,sx)):me("",!0)],8,ix))}}),cx={name:"MarkerDefinitions",compatConfig:{MODE:3}},dx=ue({...cx,setup(e){const t=Ge(),n=Ye(t,"id"),o=Ye(t,"edges"),l=Ye(t,"connectionLineOptions"),i=Ye(t,"defaultMarkerColor"),r=K(()=>{const s=[],a=[],u=c=>{if(c){const d=Bn(c,n.value);s.includes(d)||(typeof c=="object"?a.push({...c,id:d,color:c.color||i.value}):a.push({id:d,color:i.value,type:c}),s.push(d))}};return[l.value.markerEnd,l.value.markerStart].forEach(u),o.value.reduce((c,d)=>([d.markerStart,d.markerEnd].forEach(u),c.sort((p,f)=>p.id.localeCompare(f.id))),a),a});return(s,a)=>(F(),W("defs",null,[(F(!0),W(Pe,null,mt(N(r),u=>(F(),pe(ux,{id:u.id,key:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,"stroke-width":u.strokeWidth,orient:u.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}}),fx={class:"vue-flow__edges vue-flow__container"},px={name:"Edges",compatConfig:{MODE:3}},hx=ue({...px,setup(e){const t=$t(Ui),{edgesUpdatable:n,edgesFocusable:o,elementsSelectable:l,findNode:i,getEdges:r,getEdgeTypes:s,elevateEdgesOnSelect:a,dimensions:u,emits:c}=Ge(),d=Yn();function p(_){return typeof _>"u"?l.value:_}function f(_){return typeof _>"u"?n.value:_}function m(_){return typeof _>"u"?o.value:_}function h(_,v){const x=_||"default",C=t==null?void 0:t[`edge-${x}`];if(C)return C;let b=v??s.value[x];if(typeof b=="string"&&d){const A=Object.keys(d.appContext.components);A&&A.includes(x)&&(b=zn(x,!1))}return b&&typeof b!="string"?b:(c.error(new tt(Je.EDGE_TYPE_MISSING,b)),!1)}return(_,v)=>N(u).width&&N(u).height?(F(),W(Pe,{key:0},[(F(),W("svg",fx,[B(dx)])),(F(!0),W(Pe,null,mt(N(r),x=>(F(),W("svg",{key:x.id,class:"vue-flow__edges vue-flow__container",style:Be({zIndex:N(zw)(x,N(i),N(a))})},[B(N(Tb),{id:x.id,edge:x,type:h(x.type,x.template),name:x.type||"default",selectable:p(x.selectable),updatable:f(x.updatable),focusable:m(x.focusable)},null,8,["id","edge","type","name","selectable","updatable","focusable"])],4))),128)),B(N(Mb))],64)):me("",!0)}}),mx=L("div",{class:"vue-flow__edge-labels"},null,-1),gx={name:"Transform",compatConfig:{MODE:3}},vx=ue({...gx,setup(e){const{id:t,viewport:n,d3Zoom:o,d3Selection:l,dimensions:i}=Ge(),r=ne(!Ed);return vn(()=>o.value&&l.value&&i.value.width>0&&i.value.height>0).toBe(!0).then(()=>{setTimeout(()=>{r.value=!0},1)}),(s,a)=>(F(),W("div",{key:`transform-${N(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:Be({transform:`translate(${N(n).x}px,${N(n).y}px) scale(${N(n).zoom})`,opacity:r.value?void 0:0})},[B(hx),mx,B(lx),Ee(s.$slots,"default")],4))}}),yx={name:"Viewport",compatConfig:{MODE:3}},_x=ue({...yx,setup(e){const{id:t,minZoom:n,maxZoom:o,defaultViewport:l,translateExtent:i,dimensions:r,zoomActivationKeyCode:s,selectionKeyCode:a,panActivationKeyCode:u,panOnScroll:c,panOnScrollMode:d,panOnScrollSpeed:p,panOnDrag:f,zoomOnDoubleClick:m,zoomOnPinch:h,zoomOnScroll:_,preventScrolling:v,noWheelClassName:x,noPanClassName:C,emits:b,connectionStartHandle:A,userSelectionActive:y,paneDragging:V,d3Zoom:S,d3Selection:z,d3ZoomHandler:R,viewport:te,viewportRef:G}=Ge(),ie=ne(),k=ne(!1),Y=ne(!1);let P=!1,U=0,Z={x:0,y:0,zoom:0};const ae=Ho(u),I=K(()=>!k.value&&f.value&&ae.value),j=K(()=>a.value!==!0&&k.value||a.value===!0&&!I.value);Ze(()=>{Y0(ie,ee);const le=Rs();Cs(le,"resize",ee)}),Ze(()=>{const le=ie.value,de=le.getBoundingClientRect(),Se=$w().scaleExtent([n.value,o.value]).translateExtent(i.value),M=wt(le).call(Se),D=M.on("wheel.zoom"),g=go.translate(l.value.x??0,l.value.y??0).scale(jn(l.value.zoom??1,n.value,o.value)),w=[[0,0],[de.width,de.height]],E=Se.constrain()(g,w,i.value);Se.transform(M,E),S.value=Se,z.value=M,R.value=D,te.value={x:E.x,y:E.y,zoom:E.k},G.value=le,Ho(a,$=>{k.value=$});const T=Ho(s);Qs(()=>{k.value&&y.value&&!Y.value?Se.on("zoom",null):!k.value&&!y.value&&Se.on("zoom",$=>{te.value={x:$.transform.x,y:$.transform.y,zoom:$.transform.k};const H=he($.transform);P=O(f.value,U??0),b.viewportChange(H),b.move({event:$,flowTransform:H})})}),Se.on("start",$=>{var H;if(!$.sourceEvent)return null;U=$.sourceEvent.button,Y.value=!0;const X=he($.transform);((H=$.sourceEvent)==null?void 0:H.type)==="mousedown"&&(V.value=!0),Z=X,b.viewportChangeStart(X),b.moveStart({event:$,flowTransform:X})}),Se.on("end",$=>{if(!$.sourceEvent)return null;if(Y.value=!1,V.value=!1,O(f.value,U??0)&&!P&&b.paneContextMenu($.sourceEvent),P=!1,J(Z,$.transform)){const H=he($.transform);Z=H,b.viewportChangeEnd(H),b.moveEnd({event:$,flowTransform:H})}}),Qs(()=>{c.value&&!T.value&&!y.value?M.on("wheel.zoom",$=>{if(se($,x.value))return!1;$.preventDefault(),$.stopImmediatePropagation();const H=M.property("__zoom").k||1;if($.ctrlKey&&h.value){const Q=Nt($),ge=-$.deltaY*($.deltaMode===1?.05:$.deltaMode?1:.002)*10,fe=H*2**ge;Se.scaleTo(M,fe,Q);return}const X=$.deltaMode===1?20:1,q=d.value===ai.Vertical?0:$.deltaX*X,oe=d.value===ai.Horizontal?0:$.deltaY*X;Se.translateBy(M,-(q/H)*p.value,-(oe/H)*p.value)},{passive:!1}):typeof D<"u"&&M.on("wheel.zoom",function($,H){if(!v.value||se($,x.value))return null;$.preventDefault(),D.call(this,$,H)},{passive:!1})}),Se.filter($=>{var H,X;const q=T.value||_.value,oe=h.value&&$.ctrlKey;if($.button===1&&$.type==="mousedown"&&((H=$.target)!=null&&H.closest(".vue-flow__node")||(X=$.target)!=null&&X.closest(".vue-flow__edge")))return!0;if(!f.value&&!q&&!c.value&&!m.value&&!h.value||y.value||!m.value&&$.type==="dblclick"||se($,x.value)&&$.type==="wheel"||se($,C.value)&&$.type!=="wheel"||!h.value&&$.ctrlKey&&$.type==="wheel"||!q&&!c.value&&!oe&&$.type==="wheel"||!f.value&&($.type==="mousedown"||$.type==="touchstart")||Array.isArray(f.value)&&!f.value.includes($.button)&&($.type==="mousedown"||$.type==="touchstart"))return!1;const Q=Array.isArray(f.value)&&f.value.includes($.button)||!$.button||$.button<=1;return(!$.ctrlKey||$.type==="wheel")&&Q})});function O(le,de){return de===2&&Array.isArray(le)&&le.includes(2)}function J(le,de){return le.x!==de.x&&!isNaN(de.x)||le.y!==de.y&&!isNaN(de.y)||le.zoom!==de.k&&!isNaN(de.k)}function he(le){return{x:le.x,y:le.y,zoom:le.k}}function ee(){if(!ie.value)return;const{width:le,height:de}=Di(ie.value);(le===0||de===0)&&b.error(new tt(Je.MISSING_VIEWPORT_DIMENSIONS)),r.value.width=le||500,r.value.height=de||500}function se(le,de){return le.target.closest(`.${de}`)}return(le,de)=>(F(),W(Pe,null,[(F(),W("div",{ref_key:"viewportEl",ref:ie,key:`viewport-${N(t)}`,class:"vue-flow__viewport vue-flow__container"},[B(tx,{"is-selecting":N(j),class:we({connecting:!!N(A),dragging:N(V),draggable:!!N(f)})},{default:re(()=>[B(vx,null,{default:re(()=>[Ee(le.$slots,"zoom-pane")]),_:3})]),_:3},8,["is-selecting","class"])])),Ee(le.$slots,"default")],64))}}),wx=["id"],bx=["id"],xx=["id"],Sx={name:"A11yDescriptions",compatConfig:{MODE:3}},$x=ue({...Sx,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Ge(),l={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"};return(i,r)=>(F(),W(Pe,null,[L("div",{id:`${N(rf)}-${N(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Ie(N(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,wx),L("div",{id:`${N(sf)}-${N(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,bx),N(n)?me("",!0):(F(),W("div",{key:0,id:`${N(Ew)}-${N(t)}`,"aria-live":"assertive","aria-atomic":"true",style:l},Ie(N(o)),9,xx))],64))}}),Ex={name:"VueFlow",compatConfig:{MODE:3}},kx=ue({...Ex,props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:null,isValidConnection:{type:Function,default:void 0},deleteKeyCode:{type:[Boolean,String,Function],default:void 0},selectionKeyCode:{type:[Boolean,String,Function],default:void 0},multiSelectionKeyCode:{type:[Boolean,String,Function],default:void 0},zoomActivationKeyCode:{type:[Boolean,String,Function],default:void 0},panActivationKeyCode:{type:[Boolean,String,Function],default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultViewport:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:null,edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},__experimentalFeatures:null},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneReady","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","error","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,l=Ro(o,"modelValue",n),i=Ro(o,"nodes",n),r=Ro(o,"edges",n),{vueFlowRef:s,hooks:a,getNodeTypes:u,getEdgeTypes:c,...d}=Ge(o),p=Qb({modelValue:l,nodes:i,edges:r},o,{vueFlowRef:s,hooks:a,getNodeTypes:u,getEdgeTypes:c,...d});qw(n,a);const f=ne();return Hn(Ui,gs()),ps(()=>{p()}),Ze(()=>{s.value=f.value}),t({vueFlowRef:s,hooks:a,getNodeTypes:u,getEdgeTypes:c,...d}),(m,h)=>(F(),W("div",{ref_key:"el",ref:f,class:"vue-flow"},[B(_x,null,{nodes:re(()=>[(F(!0),W(Pe,null,mt(Object.keys(N(u)),_=>Ee(m.$slots,`node-${_}`)),256))]),edges:re(()=>[(F(!0),W(Pe,null,mt(Object.keys(N(c)),_=>Ee(m.$slots,`edge-${_}`)),256))]),"connection-name":re(()=>[Ee(m.$slots,"connection-line")]),"zoom-pane":re(()=>[Ee(m.$slots,"zoom-pane")]),default:re(()=>[Ee(m.$slots,"default")]),_:3}),B($x)],512))}}),Cx={name:"Panel",compatConfig:{MODE:3}},Vx=ue({...Cx,props:{position:null},setup(e){const t=e,{userSelectionActive:n}=Ge(),o=K(()=>`${t.position}`.split("-"));return(l,i)=>(F(),W("div",{class:we(["vue-flow__panel",N(o)]),style:Be({pointerEvents:N(n)?"none":"all"})},[Ee(l.$slots,"default")],6))}});var Pt=(e=>(e.Lines="lines",e.Dots="dots",e))(Pt||{});const Tx=function({dimensions:e,size:t,color:n}){return Me("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Nx=function({radius:e,color:t}){return Me("circle",{cx:e,cy:e,r:e,fill:t})};Pt.Lines+"",Pt.Dots+"";const Px=["id","x","y","width","height","patternTransform"],Mx={key:2,height:"100",width:"100"},Fx=["fill"],Bx=["x","y","fill"],Ax={name:"Background",compatConfig:{MODE:3}},Ix=ue({...Ax,props:{id:null,variant:{default:Pt.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:2}},setup(e){const t={[Pt.Dots]:"#81818a",[Pt.Lines]:"#eee"},{id:n,viewport:o}=Ge(),l=K(()=>{const[s,a]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],u=[s*o.value.zoom||1,a*o.value.zoom||1],c=e.size*o.value.zoom,d=e.variant===Pt.Dots?[c/e.offset,c/e.offset]:[u[0]/e.offset,u[1]/e.offset];return{scaledGap:u,offset:d,size:c}}),i=K(()=>`pattern-${n}${e.id?`-${e.id}`:""}`),r=K(()=>e.patternColor||t[e.variant||Pt.Dots]);return(s,a)=>(F(),W("svg",{class:"vue-flow__background vue-flow__container",style:Be({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[Ee(s.$slots,"pattern-container",{id:N(i)},()=>[L("pattern",{id:N(i),x:N(o).x%N(l).scaledGap[0],y:N(o).y%N(l).scaledGap[1],width:N(l).scaledGap[0],height:N(l).scaledGap[1],patternTransform:`translate(-${N(l).offset[0]},-${N(l).offset[1]})`,patternUnits:"userSpaceOnUse"},[Ee(s.$slots,"pattern",{},()=>[e.variant===N(Pt).Lines?(F(),pe(N(Tx),{key:0,size:e.lineWidth,color:N(r),dimensions:N(l).scaledGap},null,8,["size","color","dimensions"])):e.variant===N(Pt).Dots?(F(),pe(N(Nx),{key:1,color:N(r),radius:N(l).size/e.offset},null,8,["color","radius"])):me("",!0),e.bgColor?(F(),W("svg",Mx,[L("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,Fx)])):me("",!0)])],8,Px)]),L("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${N(i)})`},null,8,Bx),Ee(s.$slots,"default",{id:N(i)})],4))}}),Ox={name:"ControlButton",compatConfig:{MODE:3}},Dx=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},Rx={class:"vue-flow__controls-button"};function zx(e,t,n,o,l,i){return F(),W("button",Rx,[Ee(e.$slots,"default")])}const Fl=Dx(Ox,[["render",zx]]),Hx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Lx=L("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),Ux=[Lx];function jx(e,t){return F(),W("svg",Hx,Ux)}const Gx={render:jx},Yx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Xx=L("path",{d:"M0 0h32v4.2H0z"},null,-1),Wx=[Xx];function qx(e,t){return F(),W("svg",Yx,Wx)}const Zx={render:qx},Kx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Jx=L("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),Qx=[Jx];function e2(e,t){return F(),W("svg",Kx,Qx)}const t2={render:e2},n2={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o2=L("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),l2=[o2];function i2(e,t){return F(),W("svg",n2,l2)}const r2={render:i2},s2={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},a2=L("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),u2=[a2];function c2(e,t){return F(),W("svg",s2,u2)}const d2={render:c2},f2={name:"Controls",compatConfig:{MODE:3}},p2=ue({...f2,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null,position:{default:lf.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:l,setInteractive:i,zoomIn:r,zoomOut:s,fitView:a,viewport:u,minZoom:c,maxZoom:d}=Ge(),p=K(()=>n.value||o.value||l.value),f=K(()=>u.value.zoom<=c.value),m=K(()=>u.value.zoom>=d.value);function h(){r(),t("zoomIn")}function _(){s(),t("zoomOut")}function v(){a(e.fitViewParams),t("fitView")}function x(){i(!p.value),t("interactionChange",!p.value)}return(C,b)=>(F(),pe(N(Vx),{class:"vue-flow__controls",position:e.position},{default:re(()=>[Ee(C.$slots,"top"),e.showZoom?(F(),W(Pe,{key:0},[Ee(C.$slots,"control-zoom-in",{},()=>[B(Fl,{class:"vue-flow__controls-zoomin",disabled:N(m),onClick:h},{default:re(()=>[Ee(C.$slots,"icon-zoom-in",{},()=>[(F(),pe(Qn(N(Gx))))])]),_:3},8,["disabled"])]),Ee(C.$slots,"control-zoom-out",{},()=>[B(Fl,{class:"vue-flow__controls-zoomout",disabled:N(f),onClick:_},{default:re(()=>[Ee(C.$slots,"icon-zoom-out",{},()=>[(F(),pe(Qn(N(Zx))))])]),_:3},8,["disabled"])])],64)):me("",!0),e.showFitView?Ee(C.$slots,"control-fit-view",{key:1},()=>[B(Fl,{class:"vue-flow__controls-fitview",onClick:v},{default:re(()=>[Ee(C.$slots,"icon-fit-view",{},()=>[(F(),pe(Qn(N(t2))))])]),_:3})]):me("",!0),e.showInteractive?Ee(C.$slots,"control-interactive",{key:2},()=>[e.showInteractive?(F(),pe(Fl,{key:0,class:"vue-flow__controls-interactive",onClick:x},{default:re(()=>[N(p)?Ee(C.$slots,"icon-unlock",{key:0},()=>[(F(),pe(Qn(N(d2))))]):me("",!0),N(p)?me("",!0):Ee(C.$slots,"icon-lock",{key:1},()=>[(F(),pe(Qn(N(r2))))])]),_:3})):me("",!0)]):me("",!0),Ee(C.$slots,"default")]),_:3},8,["position"]))}}),h2={},m2={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},g2=lt('<rect width="20" height="25.333" x="5.333" y="4" fill="#1F1F2B" rx="2"></rect><rect width="13.333" height="4" x="6.666" y="6.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="6.666" y="6.668" fill="#1F1F2B" fill-opacity="0.64" rx="1"></rect><rect width="13.333" height="4" x="6.666" y="12" fill="#D9D9D9" rx="1"></rect><rect width="13.333" height="4" x="6.666" y="17.332" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="6.666" y="22.668" fill="#fff" rx="1"></rect>',6),v2=[g2];function y2(e,t){return F(),W("svg",m2,v2)}const _2=Qt(h2,[["render",y2]]),w2={},b2={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},x2=lt('<rect width="20" height="25.333" x="2.667" y="4" fill="#1F1F2B" rx="2"></rect><rect width="13.333" height="4" x="4" y="22.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="17.332" fill="#D9D9D9" rx="1"></rect><rect width="13.333" height="4" x="4" y="6.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="12" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="12" fill="#1F1F2B" fill-opacity="0.64" rx="1"></rect><path fill="#fff" stroke="#1F1F2B" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M30.667 22a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"></path><path stroke="#1F1F2B" stroke-linecap="round" stroke-linejoin="round" d="M24.269 19.2v3.2h3.2"></path>',8),S2=[x2];function $2(e,t){return F(),W("svg",b2,S2)}const E2=Qt(w2,[["render",$2]]),k2={},C2={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},V2=lt('<rect width="20" height="25.333" x="2.667" y="4" fill="#1F1F2B" rx="2"></rect><rect width="13.333" height="4" x="4" y="22.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="22.668" fill="#1F1F2B" fill-opacity="0.64" rx="1"></rect><rect width="13.333" height="4" x="4" y="17.332" fill="#D9D9D9" rx="1"></rect><rect width="13.333" height="4" x="4" y="6.668" fill="#fff" rx="1"></rect><rect width="13.333" height="4" x="4" y="12" fill="#fff" rx="1"></rect><rect width="14.667" height="14.667" x="17.333" y="14.668" fill="#1F1F2B" rx="2"></rect><rect width="9.333" height="9.333" x="20" y="17.332" fill="#fff" rx="1"></rect><path fill="#1F1F2B" d="M25.39 22.848h-1.866v-.91h1.866c.325 0 .588-.05.788-.147a.95.95 0 0 0 .438-.403 1.22 1.22 0 0 0 .143-.596c0-.21-.047-.407-.143-.59a1.042 1.042 0 0 0-.438-.449c-.2-.113-.463-.17-.788-.17h-1.487v5.752h-1.236v-6.667h2.723c.555 0 1.026.091 1.414.275.39.18.688.43.891.75.204.318.305.681.305 1.09 0 .43-.101.8-.305 1.108-.204.309-.5.545-.891.71-.388.165-.859.247-1.414.247Z"></path>',9),T2=[V2];function N2(e,t){return F(),W("svg",C2,T2)}const P2=Qt(k2,[["render",N2]]),M2={},F2={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},B2=L("path",{fill:"#D9D9D9",d:"M24 7.332v18.667a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7.332a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2Z"},null,-1),A2=L("path",{stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M14 5.332H6a2 2 0 0 0-2 2v18.667a2 2 0 0 0 2 2h8m0-22.667h8a2 2 0 0 1 2 2v18.667a2 2 0 0 1-2 2h-8m0-22.667v22.667"},null,-1),I2=L("path",{fill:"#1F1F2B","fill-opacity":"0.64",d:"M29.983 11.729a.898.898 0 0 0-.733-.393.898.898 0 0 0-.733.393l-1.834 2.619a1.04 1.04 0 0 0-.086 1.028.912.912 0 0 0 .82.543h3.666c.348 0 .665-.21.82-.543a1.04 1.04 0 0 0-.086-1.028l-1.834-2.62ZM29.983 22.855a.898.898 0 0 1-.733.392.898.898 0 0 1-.733-.392l-1.834-2.62a1.04 1.04 0 0 1-.086-1.028.912.912 0 0 1 .82-.543h3.666c.348 0 .665.21.82.543.156.333.122.73-.086 1.028l-1.834 2.62Z"},null,-1),O2=[B2,A2,I2];function D2(e,t){return F(),W("svg",F2,O2)}const R2=Qt(M2,[["render",D2]]),z2={key:1,class:"toolbar_btn-disable"},Bl=ue({__name:"ToolbarItem",props:{disabled:{type:Boolean},nodeType:{}},setup(e){const t=e;function n(o,l){l&&o.dataTransfer&&(o.dataTransfer.setData("application/vueflow",l),o.dataTransfer.effectAllowed="move")}return(o,l)=>!t.disabled&&t.nodeType?(F(),W("div",{key:0,class:"toolbar_btn-enable",draggable:!0,onDragstart:l[0]||(l[0]=i=>n(i,t.nodeType))},[Ee(o.$slots,"default")],32)):(F(),W("div",z2,[Ee(o.$slots,"default")]))}}),H2={class:"toolbar flex-col"},L2=ue({__name:"Toolbar",props:{canAddFloor:{type:Boolean},canAddTempFloor:{type:Boolean},canAddParkingFloor:{type:Boolean},canAddElevator:{type:Boolean}},setup(e){return(t,n)=>(F(),W("div",H2,[B(Bl,{disabled:!t.canAddFloor,"node-type":"node-floor"},{default:re(()=>[B(_2)]),_:1},8,["disabled"]),B(Bl,{disabled:!t.canAddTempFloor,"node-type":"node-temp-floor"},{default:re(()=>[B(E2)]),_:1},8,["disabled"]),B(Bl,{disabled:!t.canAddParkingFloor,"node-type":"node-parking-floor"},{default:re(()=>[B(P2)]),_:1},8,["disabled"]),B(Bl,{disabled:!t.canAddElevator,"node-type":"node-elevator"},{default:re(()=>[B(R2)]),_:1},8,["disabled"])]))}}),U2=lt('<g filter="url(#a)"><rect width="40" height="40" fill="#15767D" rx="20"></rect><path fill="#fff" d="M27.548 20.788a.913.913 0 0 0 0-1.576l-12.193-7.089a.903.903 0 0 0-1.355.788v14.178c0 .7.753 1.138 1.355.788l12.193-7.09Z"></path></g><defs><filter id="a" width="60" height="60" x="-10" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1712_61068"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1712_61068" result="shape"></feBlend></filter></defs>',2),j2=[U2],G2=ue({__name:"ResumeBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",class:we(t.disabled?"disabled":"clickable")},j2,2))}}),Y2={xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",fill:"none",viewBox:"0 0 41 40"},X2={filter:"url(#a)"},W2=L("rect",{width:"6",height:"18",x:"12.5",y:"11",fill:"#fff",rx:"1"},null,-1),q2=L("rect",{width:"6",height:"18",x:"22.5",y:"11",fill:"#fff",rx:"1"},null,-1),Z2=lt('<defs><filter id="a" width="60" height="60" x="-9.5" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1717_143119"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1717_143119" result="shape"></feBlend></filter></defs>',1),K2=ue({__name:"PauseBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),W("svg",Y2,[L("g",X2,[L("rect",{width:"40",height:"40",x:"0.5",fill:"#15767D",class:we(t.disabled?"disabled":"clickable"),rx:"20"},null,2),W2,q2]),Z2]))}}),J2=lt('<g filter="url(#a)"><rect width="40" height="40" x="0.5" fill="#15767D" rx="20"></rect><rect width="18" height="6" x="11.5" y="17" fill="#fff" rx="1"></rect><rect width="6" height="18" x="17.5" y="11" fill="#fff" rx="1"></rect></g><defs><filter id="a" width="60" height="60" x="-9.5" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1717_143130"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1717_143130" result="shape"></feBlend></filter></defs>',2),Q2=[J2],eS=ue({__name:"PlusSpeedBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",fill:"none",viewBox:"0 0 41 40",class:we(t.disabled?"disabled":"clickable")},Q2,2))}}),tS=lt('<g filter="url(#a)"><rect width="40" height="40" x="0.5" fill="#15767D" rx="20"></rect><rect width="18" height="6" x="11.5" y="18" fill="#fff" rx="1"></rect></g><defs><filter id="a" width="60" height="60" x="-9.5" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1717_143125"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1717_143125" result="shape"></feBlend></filter></defs>',2),nS=[tS],oS=ue({__name:"MinusSpeedBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",fill:"none",viewBox:"0 0 41 40",class:we(t.disabled?"disabled":"clickable")},nS,2))}}),lS=lt('<g filter="url(#a)"><rect width="40" height="40" x="0.5" fill="#15767D" rx="20"></rect><path fill="#fff" d="M23.048 20.886c.603-.394.603-1.378 0-1.772l-12.193-7.975c-.602-.394-1.355.098-1.355.886v15.95c0 .788.753 1.28 1.355.886l12.193-7.975Z"></path><path fill="#fff" d="M31.048 20.886c.603-.394.603-1.378 0-1.772l-12.193-7.975c-.602-.394-1.355.098-1.355.886v15.95c0 .788.753 1.28 1.355.886l12.193-7.975Z"></path><rect width="6" height="18" x="26.5" y="11" fill="#fff" rx="1"></rect></g><defs><filter id="a" width="60" height="60" x="-9.5" y="-10" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="5"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1717_143134"></feComposite><feBlend in="SourceGraphic" in2="effect1_backgroundBlur_1717_143134" result="shape"></feBlend></filter></defs>',2),iS=[lS],rS=ue({__name:"SetMaxSpeedBtn",props:{disabled:{type:Boolean}},setup(e){const t=e;return(n,o)=>(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"40",fill:"none",viewBox:"0 0 41 40",class:we(t.disabled?"disabled":"clickable")},iS,2))}}),sS={class:"simulation-panel-container left relative"},aS=L("p",{class:"simulation-panel-container_title"},"Симуляция",-1),uS={class:"simulation-panel-container_navigation flex-row gap8 centered"},cS={class:"guetro flex centered"},dS=L("div",{class:"absolute-full",id:"animation-container"},null,-1),fS={class:"statistic-panel-container right flex centered"},pS=L("p",null,"Нет данных",-1),hS=[pS],mS=ue({__name:"SimulationPanel",setup(e){const t=xn(),n=K(()=>t.isHideSimulationPanel?"simulation-panel-container_closed":"simulation-panel-container__opened"),o=K(()=>t.simulationSpeed===Number.POSITIVE_INFINITY?"∞":t.simulationSpeed>=1?`x${t.simulationSpeed}`:`x1 / ${1/t.simulationSpeed}`);return(l,i)=>(F(),W("div",{class:we(`${n.value} flex-row`)},[L("div",{class:"simulation-panel-left-btn",onClick:i[0]||(i[0]=r=>N(t).isHideSimulationPanel=!N(t).isHideSimulationPanel)},"Симуляция / статистика"),fo(L("div",sS,[aS,L("div",uS,[N(t).isDisabledPauseBtn?(F(),pe(G2,{key:1,disabled:N(t).isDisabledResumeBtn&&N(t).isRun!="RUN",onClick:i[2]||(i[2]=r=>N(t).resumeSimulation())},null,8,["disabled"])):(F(),pe(K2,{key:0,disabled:N(t).isRun!="RUN",onClick:i[1]||(i[1]=r=>N(t).pauseSimulation())},null,8,["disabled"])),B(oS,{onClick:i[3]||(i[3]=r=>N(t).minusSpeed()),disabled:N(t).isDisabledMinusBtn},null,8,["disabled"]),L("div",cS,Ie(o.value),1),B(eS,{onClick:i[4]||(i[4]=r=>N(t).plusSpeed()),disabled:N(t).isDisabledPlusBtn},null,8,["disabled"]),B(rS,{onClick:i[5]||(i[5]=r=>N(t).setMaxSpeed()),disabled:N(t).isDisabledMaxSpeedBtn},null,8,["disabled"])]),dS],512),[[Ea,!N(t).isHideSimulationPanel]]),fo(L("div",fS,hS,512),[[Ea,!N(t).isHideSimulationPanel]])],2))}});const gS={},vS={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},yS=lt('<rect width="13.2" height="16.8" x="5.4" y="3.6" fill="#15767D" rx="2"></rect><rect width="7.2" height="2.4" x="6.6" y="5.4" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="5.4" fill="#15767D" fill-opacity="0.6" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="9" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="9" fill="#15767D" fill-opacity="0.25" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="12.6" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="16.199" fill="#E1ECF2" rx="1"></rect>',7),_S=[yS];function wS(e,t){return F(),W("svg",vS,_S)}const Gi=Qt(gS,[["render",wS]]),bS=["disabled","placeholder","value"],xS={class:"input-row_value-measure"},Le=ue({__name:"InputRow",props:{title:{},measure:{},placeholder:{default:""},color:{},disabled:{type:Boolean},modelValue:{},bgColor:{},isFlight:{type:Boolean},rules:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=K(()=>n.bgColor),l=ne(!1),i=K(()=>l.value&&n.isFlight?"input-row_is-borned":"input-row_is-borned-already"),r=K(()=>{for(const c of(n==null?void 0:n.rules)||[]){const d=c(n.modelValue);if(console.log("LLL",n.modelValue,d),d)return d}return!1}),s=K(()=>r.value?"input-row_is-not-valid":i.value),a=K(()=>typeof r.value=="string"?{content:`<div class="tooltip-block-error">${r.value}</div>`,html:!0,theme:"error"}:null);Ze(()=>{n.isFlight&&(l.value=!0)});const u=c=>{var p;const d=(p=c==null?void 0:c.target)==null?void 0:p.value;t("update:modelValue",d)};return(c,d)=>{const p=$i("tooltip");return fo((F(),W("div",{class:we(`input-row input relative ${s.value}`),style:Be({backgroundColor:o.value})},[L("div",{class:we(`input-row_title flex-row centered-align ${n.disabled?"disabled":""}`)},[n.color?(F(),W("div",{key:0,class:"input-row_title-color-point",style:Be(`background-color: ${n.color}`)},null,4)):me("",!0),L("p",null,Ie(n.title),1)],2),L("div",{class:we(`nodrag input-row_value flex-row centered-align end ${n.disabled?"disabled":""}`),style:{"padding-right":"8px"}},[L("input",{disabled:!!n.disabled,class:"input-row_value-input",placeholder:c.placeholder,type:"text",value:n.modelValue,onInput:d[0]||(d[0]=f=>u(f)),onClick:d[1]||(d[1]=f=>l.value=!1)},null,40,bS),L("span",xS,Ie(n.measure),1)],2)],6)),[[p,a.value,void 0,{top:!0}]])}}});const SS={class:"select-color_title"},$S={class:"flex-row centered-align end",style:{"padding-right":"12px"}},ES={class:"flex-row centered-align gap8"},kS=L("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 1 5 5 1 1"},null,-1),CS=[kS],VS={key:0,class:"select-color_palette-container"},TS=["onClick"],NS={key:0,class:"select-color_palette-selected-color-box"},hl=ue({__name:"SelectColor",props:{title:{},disabled:{type:Boolean},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ne(!0),l=()=>o.value=(o.value,!0);$e(o,(a,u)=>{a!=u&&setTimeout(a?()=>window.removeEventListener("click",l):()=>window.addEventListener("click",l),100)});const i=()=>{o.value=!o.value},r=a=>{t("update:modelValue",a),o.value=!0},s=K(()=>o.value?"rotated":"unrotated");return(a,u)=>(F(),W("div",{class:"nodrag flex-row between relative clickable select-color_row-panel",onClick:i},[L("p",SS,Ie(n.title),1),L("div",$S,[L("div",ES,[L("div",{style:Be({backgroundColor:n.modelValue}),class:"select-color_box select-color_box-shadow"},null,4),(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6",fill:"none",viewBox:"0 0 10 6",class:we(s.value)},CS,2))])]),o.value?me("",!0):(F(),W("div",VS,[(F(!0),W(Pe,null,mt(N(ei),c=>(F(),W("div",{style:Be({backgroundColor:c}),key:c,class:"select-color_box flex centered clickable",onClick:Ko(d=>r(c),["stop"])},[n.modelValue==c?(F(),W("div",NS)):me("",!0)],12,TS))),128))]))]))}});const PS=ue({__name:"FirstFloor",props:{id:{},modelValue:{},otherFloors:{}},emits:["set-not-unique-name","set-name"],setup(e,{emit:t}){const n=e,o=[{text:"Одна кнопка",value:"simple"},{text:"Кнопки вверх/вниз",value:"up_down"},{text:"Выбор номера этажа",value:"floor_select"}];function l(r,s){const a=n.otherFloors.find(u=>u.text===r&&u.value!==s);return console.log("oOO",a,r,s),a!=null&&a.text?t("set-not-unique-name",a==null?void 0:a.text):t("set-name",(r==null?void 0:r.toString())||""),a?Qe.dublicate_name:!1}function i(r){return r!=null&&r!=""&&+n.modelValue.lower>+r?'Значение "до" не может быть меньше значения "от".':!1}return(r,s)=>(F(),pe(zt,{title:"Группа лобби",color:n.modelValue.color},{"title-icon-left":re(()=>[B(Gi)]),default:re(()=>[B(Ue,{style:{"margin-top":"12px"}},{default:re(()=>[B(Le,{modelValue:r.modelValue.name,"onUpdate:modelValue":s[0]||(s[0]=a=>r.modelValue.name=a),modelModifiers:{trim:!0},title:"Название группы",rules:[a=>!a,a=>l(a,n.id)]},null,8,["modelValue","rules"]),B(hl,{modelValue:r.modelValue.color,"onUpdate:modelValue":s[1]||(s[1]=a=>r.modelValue.color=a),title:"Цвет группы"},null,8,["modelValue"]),B(Xe,{modelValue:r.modelValue.height,"onUpdate:modelValue":s[2]||(s[2]=a=>r.modelValue.height=a),title:"Высота этажа в группе",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"])]),_:1}),B(Ue,{title:"Кол-во этажей в группе"},{default:re(()=>[B(Xe,{modelValue:r.modelValue.lower,"onUpdate:modelValue":s[3]||(s[3]=a=>r.modelValue.lower=a),title:"От",rules:[a=>!a],min:0,max:1e5},null,8,["modelValue","rules"]),B(Xe,{modelValue:r.modelValue.upper,"onUpdate:modelValue":s[4]||(s[4]=a=>r.modelValue.upper=a),title:"До",rules:[a=>!a,a=>i(a)],min:0,max:1e5},null,8,["modelValue","rules"])]),_:1}),B(gn,{title:"Тип вызова лифта"},{default:re(()=>[B(On,{modelValue:r.modelValue.elevatorCallType,"onUpdate:modelValue":s[5]||(s[5]=a=>r.modelValue.elevatorCallType=a),items:o},null,8,["modelValue"])]),_:1})]),_:1},8,["color"]))}}),MS={},FS={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},BS=lt('<rect width="13.2" height="16.8" x="5.4" y="3.602" fill="#15767D" rx="2"></rect><rect width="7.2" height="2.4" x="6.6" y="5.398" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="9" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="12.602" fill="#E1ECF2" rx="1"></rect><rect width="7.2" height="2.4" x="6.6" y="16.199" fill="#E1ECF2" rx="1"></rect>',5),AS=[BS];function IS(e,t){return F(),W("svg",FS,AS)}const OS=Qt(MS,[["render",IS]]),DS={class:"multi-select_item-title"},RS={class:"flex-row centered-align"},zS={class:we("flex centered-align clickable multi-select_arrow")},HS=L("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 1 5 5 1 1"},null,-1),LS=[HS],US=["onClick"],jS={key:0,class:"flex centered checkbox_box-clicked checkbox-item"},GS={key:0,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"8",fill:"none",viewBox:"0 0 12 8"},YS=L("path",{stroke:"#fff","stroke-linecap":"round","stroke-width":"2",d:"m1.833 4 3.333 2.5 5-5"},null,-1),XS=[YS],WS={key:1,class:"flex centered checkbox_box checkbox-item"},Wt=ue({__name:"MultiSelect",props:{title:{},items:{},disabled:{type:Boolean},modelValue:{},isFlight:{type:Boolean},columnsCount:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ne(!0),l=ne(!1),i=K(()=>n.modelValue||[]),r=K(()=>{var f;return((f=n.items)==null?void 0:f.map(m=>({...m,isChecked:i.value.findIndex(h=>h==m.value)!=-1})))||[]}),s=f=>{const m=r.value.filter(_=>_.isChecked),h=f.isChecked?m.filter(_=>_.value!=f.value):[...m,f];t("update:modelValue",h.map(_=>_.value))},a=()=>o.value=(o.value,!0);$e(o,(f,m)=>{f!=m&&setTimeout(f?()=>window.removeEventListener("click",a):()=>window.addEventListener("click",a),100)});const u=()=>{o.value=!o.value,l.value=!1},c=K(()=>l.value&&n.isFlight?"multi-select_is-borned":"multi-select_is-borned-already");Ze(()=>{n.isFlight&&(l.value=!0)});const d=K(()=>o.value?"multi-select_checkbox_selected-items-length-closed":"multi-select_checkbox_selected-items-length-opened"),p=K(()=>o.value?"rotated":"unrotated");return(f,m)=>(F(),W("div",{class:we(`clickable flex-row between relative centered-align input last-input ${c.value}`),onClick:u},[L("p",DS,Ie(n.title),1),L("div",RS,[i.value.length?(F(),W("div",{key:0,class:we(`${d.value}`)},Ie(i.value.length),3)):me("",!0),L("div",zS,[(F(),W("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6",fill:"none",viewBox:"0 0 10 6",class:we(p.value)},LS,2))])]),o.value?me("",!0):(F(),W("div",{key:0,class:we(`nodrag multi-select_container columns-${n.columnsCount||2}`),onWheel:m[0]||(m[0]=Ko(()=>{},["stop"]))},[(F(!0),W(Pe,null,mt(r.value,h=>(F(),W("div",{class:"flex-row clickable centered-align multi-select_checkbox_container checkbox-item",key:h.value,onClick:Ko(_=>s(h),["stop"])},[h.isChecked?(F(),W("div",jS,[h.isChecked?(F(),W("svg",GS,XS)):me("",!0)])):(F(),W("div",WS)),h.color?(F(),W("div",{key:2,class:"multi-select_checkbox_color-box checkbox-indicator",style:Be({backgroundColor:h.color})},null,4)):me("",!0),L("span",null,Ie(h.text),1)],8,US))),128))],34))],2))}});const qS={class:"nodrag flex-col building_checkedbox-block",style:{}},ZS=ue({__name:"Building",props:{id:{},canRemove:{type:Boolean},modelValue:{}},setup(e){const t=e,n=ne([...Array(30).keys()].map(r=>r+1).map(r=>({text:r.toString(),value:r}))),o=(r,s)=>r?s():void 0,l=ne(!1);Ze(()=>nt(()=>l.value=!0)),$e(()=>t.modelValue.isDivideIntoFloorGroups,(r,s)=>o(r!=s,()=>t.modelValue.hasTransferFloor=!1)),$e(()=>t.modelValue.hasTransferFloor,(r,s)=>o(!r&&r!=s,()=>t.modelValue.transferFloors=[])),$e(()=>t.modelValue.hasTechnicalFloors,(r,s)=>o(!r&&r!=s,()=>t.modelValue.technicalFloors=[]));const i=K(()=>t.modelValue.hasTransferFloor?"":"last-group-row");return(r,s)=>(F(),pe(zt,{title:"Здание"},{"title-icon-left":re(()=>[B(OS)]),default:re(()=>[L("div",qS,[B(Pn,{title:"Наличие паркинга",modelValue:t.modelValue.hasParking,"onUpdate:modelValue":s[0]||(s[0]=a=>t.modelValue.hasParking=a)},null,8,["modelValue"]),B(Pn,{title:"Наличие этажей временного посещения",modelValue:t.modelValue.hasTemporaryFloors,"onUpdate:modelValue":s[1]||(s[1]=a=>t.modelValue.hasTemporaryFloors=a)},null,8,["modelValue"]),B(Pn,{title:"Разделить на группы этажей",modelValue:t.modelValue.isDivideIntoFloorGroups,"onUpdate:modelValue":s[2]||(s[2]=a=>t.modelValue.isDivideIntoFloorGroups=a)},null,8,["modelValue"]),t.modelValue.isDivideIntoFloorGroups?(F(),pe(Pn,{key:0,title:"Пересадка на этаже",modelValue:t.modelValue.hasTransferFloor,"onUpdate:modelValue":s[3]||(s[3]=a=>t.modelValue.hasTransferFloor=a)},null,8,["modelValue"])):me("",!0),B(Pn,{title:"Наличие технических этажей",modelValue:t.modelValue.hasTechnicalFloors,"onUpdate:modelValue":s[4]||(s[4]=a=>t.modelValue.hasTechnicalFloors=a)},null,8,["modelValue"])]),B(Ue,null,{default:re(()=>[B(Xe,{title:"Высота этажа",modelValue:t.modelValue.floorHeight,"onUpdate:modelValue":s[5]||(s[5]=a=>t.modelValue.floorHeight=a),measure:"м",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"]),t.modelValue.hasTechnicalFloors?(F(),pe(Xe,{key:0,title:"Высота технического этажа",modelValue:t.modelValue.technicalFloorHeight,"onUpdate:modelValue":s[6]||(s[6]=a=>t.modelValue.technicalFloorHeight=a),measure:"м","is-flight":l.value,min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue","is-flight"])):me("",!0),t.modelValue.hasTechnicalFloors?(F(),pe(Wt,{key:1,title:"Технические этажи",class:we(i.value),modelValue:t.modelValue.technicalFloors,"onUpdate:modelValue":s[7]||(s[7]=a=>t.modelValue.technicalFloors=a),items:n.value,"is-flight":l.value,"columns-count":4},null,8,["class","modelValue","items","is-flight"])):me("",!0),t.modelValue.hasTransferFloor?(F(),pe(Wt,{key:2,title:"Этажи пересадки",class:"last-group-row",modelValue:t.modelValue.transferFloors,"onUpdate:modelValue":s[8]||(s[8]=a=>t.modelValue.transferFloors=a),items:n.value,"is-flight":l.value,"columns-count":4},null,8,["modelValue","items","is-flight"])):me("",!0)]),_:1})]),_:1}))}}),KS={},JS={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},QS=lt('<path fill="#15767D" d="M4.8 19.798h14.4a1.8 1.8 0 0 0 1.8-1.8v-3.6a1.8 1.8 0 0 0-1.8-1.8h-2.4c-.295 0-.573.071-.82.197a2.4 2.4 0 0 0-2.18-1.397h-3.6a2.4 2.4 0 0 0-2.18 1.397 1.792 1.792 0 0 0-.82-.197H4.8a1.8 1.8 0 0 0-1.8 1.8v3.6a1.8 1.8 0 0 0 1.8 1.8Z"></path><circle cx="12" cy="7.798" r="2.4" fill="#15767D"></circle><circle cx="6" cy="9.601" r="1.8" fill="#15767D"></circle><circle cx="18" cy="9.601" r="1.8" fill="#15767D"></circle><path fill="#E1ECF2" d="M4.2 15a1.2 1.2 0 0 1 1.2-1.2h1.2A1.2 1.2 0 0 1 7.8 15v3.6H5.4a1.2 1.2 0 0 1-1.2-1.2V15Z"></path><path fill="#15767D" fill-opacity="0.25" d="M4.2 15a1.2 1.2 0 0 1 1.2-1.2h1.2A1.2 1.2 0 0 1 7.8 15v3.6H5.4a1.2 1.2 0 0 1-1.2-1.2V15Z"></path><path fill="#E1ECF2" d="M9 14.402a1.8 1.8 0 0 1 1.8-1.8h2.4a1.8 1.8 0 0 1 1.8 1.8v4.2H9v-4.2Z"></path><path fill="#15767D" fill-opacity="0.6" d="M9 14.402a1.8 1.8 0 0 1 1.8-1.8h2.4a1.8 1.8 0 0 1 1.8 1.8v4.2H9v-4.2Z"></path><path fill="#E1ECF2" d="M19.8 15a1.2 1.2 0 0 0-1.2-1.2h-1.2a1.2 1.2 0 0 0-1.2 1.2v3.6h2.4a1.2 1.2 0 0 0 1.2-1.2V15Z"></path><path fill="#15767D" fill-opacity="0.25" d="M19.8 15a1.2 1.2 0 0 0-1.2-1.2h-1.2a1.2 1.2 0 0 0-1.2 1.2v3.6h2.4a1.2 1.2 0 0 0 1.2-1.2V15Z"></path>',10),e$=[QS];function t$(e,t){return F(),W("svg",JS,e$)}const n$=Qt(KS,[["render",t$]]),o$=ue({__name:"Trafic",setup(e){const t=xn(),n=[{text:"По группам",value:"group"},{text:"По этажам в группах",value:"floor"},{text:"По диапазонам",value:"range"}],o=ne(0),l=ne(100),i=ne(!1);Ze(()=>nt(()=>i.value=!0));const r=(c,d)=>[...Array(d-c+1).keys()].map(p=>p+c),s=K(()=>t.floorGroups.map(c=>({name:c.data.name,color:c.data.color,range:r(Math.min(c.data.lower,c.data.upper),Math.max(c.data.lower,c.data.upper))})));function a(c,d){console.log("floorIndex",c,d),t.trafic.data.floors.set(c,`${d}`)}function u(c){return t.trafic.data.floors.has(c)?t.trafic.data.floors.get(c):0}return(c,d)=>(F(),pe(zt,{title:"Пассажиропоток"},{"title-icon-left":re(()=>[B(n$)]),default:re(()=>[B(gn,{title:"Форма заполнения",style:{"margin-top":"12px"}},{default:re(()=>[B(On,{items:n,modelValue:N(t).trafic.data.formFill,"onUpdate:modelValue":d[0]||(d[0]=p=>N(t).trafic.data.formFill=p)},null,8,["modelValue"])]),_:1}),N(t).trafic.data.formFill==="group"?(F(),pe(Ue,{key:0,title:"Населенность групп этажей"},{default:re(()=>[(F(!0),W(Pe,null,mt(N(t).trafic.data.groups,p=>(F(),pe(Xe,{modelValue:p.value,"onUpdate:modelValue":f=>p.value=f,modelModifiers:{trim:!0},title:p.name,color:p.color,measure:"чел",key:p.id,"is-flight":i.value,min:0,max:1e4},null,8,["modelValue","onUpdate:modelValue","title","color","is-flight"]))),128))]),_:1})):me("",!0),N(t).trafic.data.formFill==="floor"?(F(),pe(Ue,{key:1,"is-title-mode":"",title:"Населенность этажей в группах, чел"},{default:re(()=>[(F(!0),W(Pe,null,mt(s.value,p=>(F(),pe(Ue,{title:p.name,color:p.color},{default:re(()=>[(F(!0),W(Pe,null,mt(p.range,f=>(F(),pe(Xe,{title:`${f}`,"model-value":u(f),"onUpdate:modelValue":m=>a(f,m),min:0,max:1e4,"is-flight":i.value},null,8,["title","model-value","onUpdate:modelValue","is-flight"]))),256))]),_:2},1032,["title","color"]))),256))]),_:1})):me("",!0),N(t).trafic.data.formFill==="range"?(F(),pe(Ue,{key:2,title:"Населенность этажей в группах"},{default:re(()=>[B(Le,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=p=>o.value=p),title:"Через паркинг",measure:"%",disabled:"","is-flight":i.value},null,8,["modelValue","is-flight"]),B(Le,{modelValue:l.value,"onUpdate:modelValue":d[2]||(d[2]=p=>l.value=p),title:"Через временные этажи",measure:"%",disabled:"","is-flight":i.value},null,8,["modelValue","is-flight"])]),_:1})):me("",!0),B(Ue,{title:"Доля потока","help-text":"Для распределения долей потока нужно создать группу этажей паркинга"},{default:re(()=>[B(Le,{modelValue:o.value,"onUpdate:modelValue":d[3]||(d[3]=p=>o.value=p),title:"Через паркинг",measure:"%",disabled:!N(t).parkingFloorGroups.length,min:0,max:100},null,8,["modelValue","disabled"]),B(Le,{modelValue:l.value,"onUpdate:modelValue":d[4]||(d[4]=p=>l.value=p),title:"Через временные этажи",measure:"%",disabled:!N(t).tempFloorGroups.length,min:0,max:100},null,8,["modelValue","disabled"])]),_:1})]),_:1}))}}),l$={},i$={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},r$=lt('<path fill="#15767D" d="M18.6 5.6v12.8a2 2 0 0 1-2 2h-11a2 2 0 0 1-2-2V5.6a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2Z"></path><path fill="#15767D" fill-opacity="0.6" d="M21.48 8.658A.588.588 0 0 0 21 8.4a.587.587 0 0 0-.48.258l-1.2 1.714a.681.681 0 0 0-.056.673c.101.218.309.355.536.355h2.4a.597.597 0 0 0 .537-.355.681.681 0 0 0-.057-.673l-1.2-1.714ZM21.48 15.942a.587.587 0 0 1-.48.257.587.587 0 0 1-.48-.257l-1.2-1.714a.681.681 0 0 1-.056-.673.597.597 0 0 1 .536-.356h2.4c.227 0 .435.138.537.356a.681.681 0 0 1-.057.673l-1.2 1.714Z"></path><rect width="5.4" height="14.4" x="4.8" y="4.801" fill="#E1ECF2" rx="1"></rect><rect width="5.4" height="14.4" x="4.8" y="4.801" fill="#15767D" fill-opacity="0.25" rx="1"></rect><rect width="5.4" height="14.4" x="12" y="4.801" fill="#E1ECF2" rx="1"></rect><rect width="5.4" height="14.4" x="12" y="4.801" fill="#15767D" fill-opacity="0.25" rx="1"></rect>',6),s$=[r$];function a$(e,t){return F(),W("svg",i$,s$)}const u$=Qt(l$,[["render",a$]]),c$={class:"delete-panel-button__ButtonWrapper-sc-1iu2x-0 kisLzw flex-row gap4 centered-align clickable"},d$=L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[L("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.889 10.223v6.222M10.333 10.223v6.222M17.444 6.666H6.777V19.11c0 .491.398.89.89.89h8.888c.491 0 .889-.399.889-.89V6.666ZM5 6.666h14.222"}),L("path",{stroke:"#1F1F2B","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M14.778 4H9.445a.889.889 0 0 0-.89.889v1.778h7.112V4.889a.889.889 0 0 0-.89-.889Z"})],-1),Yi=ue({__name:"RemoveBtn",props:{title:{default:"Удалить"}},setup(e){const{title:t}=e;return(n,o)=>(F(),W("button",c$,[d$,L("p",null,Ie(t))]))}});const f$=(e,t,n)=>e!=t?n():void 0,p$=(e,t,n)=>{const o=t.filter(l=>e.indexOf(l)<0);return o.length?n(o):void 0},Ff=(e,t,n)=>e!=t&&!e?n():void 0,h$=ue({__name:"Elevator",props:{id:{},canRemove:{type:Boolean},floors:{},transferFloors:{},modelValue:{},otherElevators:{},minHeight:{}},emits:["remove","set-not-unique-name","set-name","error:height","set-height"],setup(e,{emit:t}){const n=e,o=[{text:"Обычные",value:"single"},{text:"Двухэтажные",value:"dooble"}],l=K(()=>n.floors.map(p=>({text:p.data.name,value:p.id,color:p.data.color}))),i=l,r=l;$e(()=>n.modelValue.hasTransferFloor,(p,f)=>Ff(p,f,()=>n.modelValue.transferFloors=[]));const s=ne(!1);Ze(()=>nt(()=>s.value=!0));function a(p,f){const m=n.otherElevators.find(h=>h.text===p&&h.value!==f);return m!=null&&m.text?t("set-not-unique-name",m==null?void 0:m.text):t("set-name",(p==null?void 0:p.toString())||""),m?Qe.dublicate_name:!1}const u=K(()=>n.transferFloors&&n.modelValue.hasTransferFloor),c=K(()=>u.value?"":"last-group-row");function d(p=0){console.log("onCheckHeight",p,n.minHeight,!p,+p>n.minHeight);const f=!p||+p>n.minHeight;return t(f?"error:height":"set-height"),f?Qe.wrong_cabin_height:!1}return(p,f)=>(F(),pe(zt,{title:"Группа лифтов (шахта)",color:n.modelValue.color},{"title-icon-left":re(()=>[B(u$)]),default:re(()=>{var m;return[B(gn,{title:"Тип лифтов",style:{"margin-top":"12px"}},{default:re(()=>[B(On,{modelValue:p.modelValue.elevatorType,"onUpdate:modelValue":f[0]||(f[0]=h=>p.modelValue.elevatorType=h),items:o},null,8,["modelValue"])]),_:1}),(m=n.transferFloors)!=null&&m.length?(F(),pe(Pn,{key:0,title:"Пересадка на этаже",modelValue:n.modelValue.hasTransferFloor,"onUpdate:modelValue":f[1]||(f[1]=h=>n.modelValue.hasTransferFloor=h),"is-flight":s.value},null,8,["modelValue","is-flight"])):me("",!0),B(Ue,null,{default:re(()=>[B(Le,{title:"Название группы",modelValue:p.modelValue.name,"onUpdate:modelValue":f[2]||(f[2]=h=>p.modelValue.name=h),modelModifiers:{trim:!0},rules:[h=>!h,h=>a(h,n.id)]},null,8,["modelValue","rules"]),B(hl,{title:"Цвет группы",modelValue:p.modelValue.color,"onUpdate:modelValue":f[3]||(f[3]=h=>p.modelValue.color=h)},null,8,["modelValue"]),B(Xe,{title:"Количество лифтов",modelValue:p.modelValue.quantity,"onUpdate:modelValue":f[4]||(f[4]=h=>p.modelValue.quantity=h),min:1,max:100,rules:[h=>!h]},null,8,["modelValue","rules"]),B(Xe,{title:"Высота кабины",modelValue:p.modelValue.height,"onUpdate:modelValue":f[5]||(f[5]=h=>p.modelValue.height=h),min:.001,max:100,"is-required":"","is-float":"",rules:[h=>d(h)]},null,8,["modelValue","rules"]),B(Wt,{title:"Группы обслуживаемых этажей",class:we(c.value),modelValue:p.modelValue.enabledFloors,"onUpdate:modelValue":f[6]||(f[6]=h=>p.modelValue.enabledFloors=h),items:l.value},null,8,["class","modelValue","items"]),u.value?(F(),pe(Wt,{key:0,title:"Этажи пересадки",class:"last-group-row",modelValue:p.modelValue.transferFloors,"onUpdate:modelValue":f[7]||(f[7]=h=>p.modelValue.transferFloors=h),items:n.transferFloors,"is-flight":s.value},null,8,["modelValue","items","is-flight"])):me("",!0)]),_:1}),B(Ue,{title:"Вместимость"},{default:re(()=>[B(Le,{title:"Номинальная вместимость",modelValue:p.modelValue.capacityNominal,"onUpdate:modelValue":f[8]||(f[8]=h=>p.modelValue.capacityNominal=h),measure:"чел"},null,8,["modelValue"]),B(Le,{title:"Коэф. использования",modelValue:p.modelValue.capacityRate,"onUpdate:modelValue":f[9]||(f[9]=h=>p.modelValue.capacityRate=h),measure:"%"},null,8,["modelValue"])]),_:1}),B(Ue,{title:"Двери"},{default:re(()=>[B(Le,{title:"Время открытия/закрытия",modelValue:p.modelValue.doorOperationTime,"onUpdate:modelValue":f[10]||(f[10]=h=>p.modelValue.doorOperationTime=h),measure:"чел"},null,8,["modelValue"]),B(Le,{title:"Пропускная способность",modelValue:p.modelValue.doorCapacity,"onUpdate:modelValue":f[11]||(f[11]=h=>p.modelValue.doorCapacity=h),measure:"чел/сек"},null,8,["modelValue"])]),_:1}),B(Ue,{title:"Движение"},{default:re(()=>[B(Le,{title:"Время установки кабины",modelValue:p.modelValue.positioningTime,"onUpdate:modelValue":f[12]||(f[12]=h=>p.modelValue.positioningTime=h),measure:"сек"},null,8,["modelValue"]),B(Le,{title:"Дистанция подхода",modelValue:p.modelValue.approachDistance,"onUpdate:modelValue":f[13]||(f[13]=h=>p.modelValue.approachDistance=h),measure:"м"},null,8,["modelValue"]),B(Le,{title:"Скорость подхода",modelValue:p.modelValue.approachSpeed,"onUpdate:modelValue":f[14]||(f[14]=h=>p.modelValue.approachSpeed=h),measure:"м/с"},null,8,["modelValue"]),B(Le,{title:"Ускорение / замедление",modelValue:p.modelValue.acceleration,"onUpdate:modelValue":f[15]||(f[15]=h=>p.modelValue.acceleration=h),measure:"м/с²"},null,8,["modelValue"]),B(Le,{title:"Максимальная скорость",modelValue:p.modelValue.maxSpeed,"onUpdate:modelValue":f[16]||(f[16]=h=>p.modelValue.maxSpeed=h),measure:"м/с"},null,8,["modelValue"])]),_:1}),B(Ue,{title:"Область парковки"},{default:re(()=>[B(Le,{modelValue:p.modelValue.idleStayTime,"onUpdate:modelValue":f[17]||(f[17]=h=>p.modelValue.idleStayTime=h),title:"Макс. время простоя до возврата на место парковки",measure:"сек"},null,8,["modelValue"]),B(Wt,{title:"Утро",modelValue:p.modelValue.parkingAreaMorning,"onUpdate:modelValue":f[18]||(f[18]=h=>p.modelValue.parkingAreaMorning=h),items:N(i)},null,8,["modelValue","items"]),B(Wt,{title:"Вечер",modelValue:p.modelValue.parkingAreaEvening,"onUpdate:modelValue":f[19]||(f[19]=h=>p.modelValue.parkingAreaEvening=h),class:"last-group-row",items:N(r)},null,8,["modelValue","items"])]),_:1}),n.canRemove?(F(),pe(Yi,{key:1,title:"Удалить группу",onClick:f[20]||(f[20]=h=>t("remove",n.id))})):me("",!0)]}),_:1},8,["color"]))}}),m$=ue({__name:"Floor",props:{id:{},canRemove:{type:Boolean},modelValue:{},elevators:{},otherFloors:{},isBuildingMixedType:{type:Boolean}},emits:["remove","set-not-unique-name","set-name"],setup(e,{emit:t}){const n=e,o=[{text:"Равномерное",value:"uniform"},{text:"Заданное",value:"preset"}],l=[{text:"Одна кнопка",value:"simple"},{text:"Кнопки вверх/вниз",value:"up_down"},{text:"Выбор номера этажа",value:"floor_select"}],i=[{text:"Жилая",value:"residential"},{text:"Бизнес",value:"office"}],r=ne(!1);Ze(()=>nt(()=>r.value=!0));function s(u,c){const d=n.otherFloors.find(p=>p.text===u&&p.value!==c);return console.log("PPP",n.otherFloors.find(p=>p.text===u&&p.value!==c)),d!=null&&d.text?t("set-not-unique-name",d==null?void 0:d.text):t("set-name",(u==null?void 0:u.toString())||""),d?Qe.dublicate_name:!1}function a(u){return u!=null&&u!=""&&+n.modelValue.lower>+u?Qe.wrongToCommon:!1}return(u,c)=>(F(),pe(zt,{title:"Группа этажей",color:n.modelValue.color},{"title-icon-left":re(()=>[B(Gi)]),default:re(()=>[B(Ue,{style:{"margin-top":"12px"}},{default:re(()=>[B(Le,{modelValue:u.modelValue.name,"onUpdate:modelValue":c[0]||(c[0]=d=>u.modelValue.name=d),modelModifiers:{trim:!0},title:"Название группы",rules:[d=>!d,d=>s(d,n.id)]},null,8,["modelValue","rules"]),B(hl,{modelValue:u.modelValue.color,"onUpdate:modelValue":c[1]||(c[1]=d=>u.modelValue.color=d),title:"Цвет группы"},null,8,["modelValue"]),B(Xe,{modelValue:u.modelValue.height,"onUpdate:modelValue":c[2]||(c[2]=d=>u.modelValue.height=d),title:"Высота этажа в группе",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"]),u.modelValue.distribution=="preset"?(F(),pe(Le,{key:0,modelValue:u.modelValue.baseFloorNumber,"onUpdate:modelValue":c[3]||(c[3]=d=>u.modelValue.baseFloorNumber=d),title:"Базовый этаж в группе","is-flight":r.value},null,8,["modelValue","is-flight"])):me("",!0),B(Wt,{class:"last-group-row",modelValue:u.modelValue.floorElevators,"onUpdate:modelValue":c[4]||(c[4]=d=>u.modelValue.floorElevators=d),title:"Группа лифтов",items:u.elevators},null,8,["modelValue","items"])]),_:1}),B(Ue,{title:"Кол-во этажей в группе"},{default:re(()=>[B(Xe,{modelValue:u.modelValue.lower,"onUpdate:modelValue":c[5]||(c[5]=d=>u.modelValue.lower=d),title:"От",rules:[d=>!d],min:0,max:1e5},null,8,["modelValue","rules"]),B(Xe,{modelValue:u.modelValue.upper,"onUpdate:modelValue":c[6]||(c[6]=d=>u.modelValue.upper=d),title:"До",rules:[d=>!d,d=>a(d)],min:0,max:1e5},null,8,["modelValue","rules"])]),_:1}),B(gn,{title:"Распределение базовых этажей парковки лифтов внутри группы"},{default:re(()=>[B(On,{items:o,modelValue:u.modelValue.distribution,"onUpdate:modelValue":c[7]||(c[7]=d=>u.modelValue.distribution=d)},null,8,["modelValue"])]),_:1}),u.isBuildingMixedType?(F(),pe(gn,{key:0,title:"Тип группы"},{default:re(()=>[B(On,{items:i,modelValue:u.modelValue.role,"onUpdate:modelValue":c[8]||(c[8]=d=>u.modelValue.role=d)},null,8,["modelValue"])]),_:1})):me("",!0),B(gn,{title:"Тип вызова лифта"},{default:re(()=>[B(On,{items:l,modelValue:u.modelValue.elevatorCallType,"onUpdate:modelValue":c[9]||(c[9]=d=>u.modelValue.elevatorCallType=d)},null,8,["modelValue"])]),_:1}),u.canRemove?(F(),pe(Yi,{key:1,title:"Удалить группу",onClick:c[10]||(c[10]=d=>t("remove",n.id))})):me("",!0)]),_:1},8,["color"]))}}),g$=ue({__name:"TempFloor",props:{id:{},canRemove:{type:Boolean},modelValue:{},otherFloors:{}},emits:["remove","set-not-unique-name","set-name"],setup(e,{emit:t}){const n=e,o=ne([{value:"ГЭ 1",color:"red"}]);function l(r,s){const a=n.otherFloors.find(u=>u.text===r&&u.value!==s);return a!=null&&a.text?t("set-not-unique-name",a==null?void 0:a.text):t("set-name",(r==null?void 0:r.toString())||""),a?Qe.dublicate_name:!1}function i(r){return r!=null&&r!=""&&+n.modelValue.lower>+r?Qe.wrongToCommon:!1}return(r,s)=>(F(),pe(zt,{title:"Группа этажей временного посещения"},{"title-icon-left":re(()=>[B(Gi)]),default:re(()=>[B(Ue,{style:{"margin-top":"12px"}},{default:re(()=>[B(Le,{modelValue:r.modelValue.name,"onUpdate:modelValue":s[0]||(s[0]=a=>r.modelValue.name=a),modelModifiers:{trim:!0},title:"Название группы",rules:[a=>!a,a=>l(a,n.id)]},null,8,["modelValue","rules"]),B(hl,{modelValue:r.modelValue.color,"onUpdate:modelValue":s[1]||(s[1]=a=>r.modelValue.color=a),title:"Цвет группы"},null,8,["modelValue"]),B(Xe,{modelValue:r.modelValue.height,"onUpdate:modelValue":s[2]||(s[2]=a=>r.modelValue.height=a),title:"Высота этажа в группе",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"]),B(Wt,{class:"last-group-row",modelValue:r.modelValue.floorElevators,"onUpdate:modelValue":s[3]||(s[3]=a=>r.modelValue.floorElevators=a),title:"Группа лифтов",items:o.value},null,8,["modelValue","items"])]),_:1}),B(Ue,{title:"Кол-во этажей в группе"},{default:re(()=>[B(Xe,{modelValue:r.modelValue.lower,"onUpdate:modelValue":s[4]||(s[4]=a=>r.modelValue.lower=a),title:"От",rules:[a=>!a],min:0,max:1e5},null,8,["modelValue","rules"]),B(Xe,{modelValue:r.modelValue.upper,"onUpdate:modelValue":s[5]||(s[5]=a=>r.modelValue.upper=a),title:"До",rules:[a=>!a,a=>i(a)],min:0,max:1e5},null,8,["modelValue","rules"])]),_:1}),B(Ue,{title:"Время нахождения посетителей в группе этажей"},{default:re(()=>[B(Le,{modelValue:r.modelValue.timeToVisitMin,"onUpdate:modelValue":s[6]||(s[6]=a=>r.modelValue.timeToVisitMin=a),title:"Минимальное",measure:"мин"},null,8,["modelValue"]),B(Le,{modelValue:r.modelValue.timeToVisitProbably,"onUpdate:modelValue":s[7]||(s[7]=a=>r.modelValue.timeToVisitProbably=a),title:"Вероятное",measure:"мин"},null,8,["modelValue"]),B(Le,{modelValue:r.modelValue.timeToVisitMax,"onUpdate:modelValue":s[8]||(s[8]=a=>r.modelValue.timeToVisitMax=a),title:"Максимальное",measure:"мин"},null,8,["modelValue"])]),_:1}),r.canRemove?(F(),pe(Yi,{key:0,title:"Удалить группу",onClick:s[9]||(s[9]=a=>t("remove",n.id))})):me("",!0)]),_:1}))}}),v$=ue({__name:"ParkingFloor",props:{id:{},canRemove:{type:Boolean},modelValue:{},otherFloors:{}},emits:["update:modelValue","remove","set-not-unique-name","set-name"],setup(e,{emit:t}){const n=e,o=ne([{value:"ГЭ 1",color:"red"}]);function l(r,s){const a=n.otherFloors.find(u=>u.text===r&&u.value!==s);return a!=null&&a.text?t("set-not-unique-name",a==null?void 0:a.text):t("set-name",(r==null?void 0:r.toString())||""),a?Qe.dublicate_name:!1}function i(r){return r!=null&&r!=""&&+n.modelValue.lower>+r?Qe.wrongToCommon:!1}return(r,s)=>(F(),pe(zt,{title:"Группа этажей паркинга"},{"title-icon-left":re(()=>[B(Gi)]),default:re(()=>[B(Ue,{style:{"margin-top":"12px"}},{default:re(()=>[B(Le,{modelValue:r.modelValue.name,"onUpdate:modelValue":s[0]||(s[0]=a=>r.modelValue.name=a),modelModifiers:{trim:!0},title:"Название группы",rules:[a=>!a,a=>l(a,n.id)]},null,8,["modelValue","rules"]),B(hl,{modelValue:r.modelValue.color,"onUpdate:modelValue":s[1]||(s[1]=a=>r.modelValue.color=a),title:"Цвет группы"},null,8,["modelValue"]),B(Xe,{modelValue:r.modelValue.height,"onUpdate:modelValue":s[2]||(s[2]=a=>r.modelValue.height=a),title:"Высота этажа в группе",min:.001,max:100,"is-required":"","is-float":""},null,8,["modelValue"]),B(Wt,{class:"last-group-row",modelValue:r.modelValue.floorElevators,"onUpdate:modelValue":s[3]||(s[3]=a=>r.modelValue.floorElevators=a),title:"Группа лифтов",items:o.value},null,8,["modelValue","items"])]),_:1}),B(Ue,{title:"Кол-во этажей в группе"},{default:re(()=>[B(Xe,{modelValue:r.modelValue.lower,"onUpdate:modelValue":s[4]||(s[4]=a=>r.modelValue.lower=a),title:"От",rules:[a=>!a],min:0,max:1e5},null,8,["modelValue","rules"]),B(Xe,{modelValue:r.modelValue.upper,"onUpdate:modelValue":s[5]||(s[5]=a=>r.modelValue.upper=a),title:"До",rules:[a=>!a,a=>i(a)],min:0,max:1e5},null,8,["modelValue","rules"])]),_:1}),r.canRemove?(F(),pe(Yi,{key:0,title:"Удалить группу",onClick:s[6]||(s[6]=a=>t("remove",n.id))})):me("",!0)]),_:1}))}}),y$={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",style:{"min-width":"24px"}},_$=L("path",{stroke:"#CC2024","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m21.526 18.5-8.66-15a1 1 0 0 0-1.732 0l-8.66 15a1 1 0 0 0 .865 1.5h17.32a1 1 0 0 0 .867-1.5Z"},null,-1),w$=L("path",{stroke:"#CC2024","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.95 16h.1v.1h-.1V16ZM12 9v4"},null,-1),b$=[_$,w$],x$={class:"notification_message"},S$=ue({__name:"Notification",setup(e){const t=xn();return(n,o)=>(F(),pe(rm,{name:"notification-list",tag:"div",class:"notification flex-col gap8"},{default:re(()=>[(F(!0),W(Pe,null,mt(N(t).errorMessages,l=>(F(),W("div",{class:"notification_box flex-row between",key:l},[(F(),W("svg",y$,b$)),L("p",x$,Ie(l),1)]))),128))]),_:1}))}});class mr{constructor(t,n,o){ml(this,"key");ml(this,"text");ml(this,"errorCenter");this.key=t,this.text=n,this.errorCenter=o}reg(t,n=""){const o=t+this.key;if(!this.errorCenter.has(o)){const l=typeof this.text=="string"?this.text:this.text(n);this.errorCenter.set(o,l)}}unreg(t){const n=t+this.key;this.errorCenter.has(n)&&this.errorCenter.delete(n)}}const $$=e=>{const t=new mr("dublicate_floor",Qe.dublicate_floor,e),n=new mr("dublicate_lift",Qe.dublicate_lift,e),o=new mr("wrong_cabin_height",Qe.wrong_cabin_height,e);return{dublicateFloorError:t,dublicateElevatorError:n,wrongCabinHeightError:o}},E$=L("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32",class:"info-icon clickable"},[L("circle",{cx:"16",cy:"15.999",r:"13.333",fill:"#1F1F2B","fill-opacity":"0.64"}),L("circle",{cx:"2",cy:"2",r:"2",fill:"#fff",transform:"matrix(-1 0 0 1 18 8)"}),L("rect",{width:"3",height:"10.667",x:"14.5",y:"14.666",fill:"#fff",rx:"1"})],-1),k$=ue({__name:"Flow",setup(e){const t=xn(),{dublicateFloorError:n,dublicateElevatorError:o,wrongCabinHeightError:l}=$$(t.errorCenter),i={stroke:"#fff"},r=[34,34],{findNode:s,addNodes:a,project:u,vueFlowRef:c,onPaneReady:d,removeNodes:p}=Ge({connectionMode:bn.Loose,connectionLineStyle:i,snapToGrid:!0,snapGrid:r});d(I=>{I.fitView(),console.log("flow loaded:",I)});function f(I){const j=I;j&&(console.log("onDragOver"),j.preventDefault(),j.dataTransfer&&(j.dataTransfer.dropEffect="move"))}const m=(I,j)=>{const O=t.building.data.floorHeight,J=t.trafic.data.buildingType=="business"?"office":"residential";switch(I){case"node-temp-floor":return t.createTempFloorElement(j.x,j.y,O);case"node-parking-floor":return t.createParkingFloorElement(j.x,j.y,O);case"node-elevator":return t.createElevatorElement(j.x,j.y);case"node-floor":return t.createFloorElement(j.x,j.y,O,J)}},h=I=>{switch(I.type){case Fe.SelectorNodeElevator:return t.registry.registryElevator(I);case Fe.SelectorNodeFloor:return t.registry.registryFloor(I);case Fe.SelectorNodeTempFloor:return t.registry.registryTempFloor(I);case Fe.SelectorNodeParkingFloor:return t.registry.registryParkingFloor(I)}},_=I=>{switch(I.type){case Fe.SelectorNodeElevator:return t.registry.unRegistryElevator(I);case Fe.SelectorNodeFloor:return t.registry.unRegistryFloor(I);case Fe.SelectorNodeTempFloor:return t.registry.unRegistryTempFloor(I);case Fe.SelectorNodeParkingFloor:return t.registry.unRegistryParkingFloor(I)}};function v(I){h(I);const j=s(I.id.toString());if(j){const O=$e(()=>j.dimensions,J=>{J.width>0&&J.height>0&&(j.position={x:j.position.x-j.dimensions.width/2,y:j.position.y-40},O())},{deep:!0,flush:"post"})}}function x(I){var se,le;const j=(se=I.dataTransfer)==null?void 0:se.getData("application/vueflow"),{left:O,top:J}=((le=c==null?void 0:c.value)==null?void 0:le.getBoundingClientRect())||{left:0,top:0},he=u({x:I.clientX-O,y:I.clientY-J}),ee=m(j,he);ee&&(a([ee]),nt(()=>v(ee)))}function C(I){const j=s(I==null?void 0:I.toString());j&&(_(j),p([j]))}const b=K(()=>{var I;return(I=t.building.data.transferFloors)==null?void 0:I.map(j=>({text:j==null?void 0:j.toString(),value:j}))}),A=K(()=>t.elevators.map(I=>({text:I.data.name,value:I.id,color:I.data.color}))),y=K(()=>t.trafic.data.buildingType==="mixed"),V=K(()=>[...t.allFloorGroups,...A.value]),S=K(()=>t.elevatorGroups.length>1),z=K(()=>t.elements.filter(I=>I.type==Fe.SelectorNodeFloor).length>1),R=`node-${Fe.SelectorNodeParkingFloor}`,te=`node-${Fe.SelectorNodeFloor}`,G=`node-${Fe.SelectorNodeTempFloor}`,ie=`node-${Fe.SelectorNodeElevator}`,k=`node-${Fe.SelectorNodeFirstFloor}`,Y=`node-${Fe.SelectorNodeBuilding}`,P=`node-${Fe.SelectorNodeTrafic}`,U=I=>I.forEach(j=>t.elevatorGroups.forEach(O=>O.data.transferFloors=O.data.transferFloors.filter(J=>J!=j))),Z=()=>t.elevators.forEach(I=>I.data.hasTransferFloor=!1);$e(()=>t.building.data.hasTransferFloor,(I,j)=>Ff(I,j,Z)),$e(()=>t.building.data.transferFloors,(I,j)=>p$(I,j,U));const ae=I=>[...t.floorGroups,...t.tempFloorGroups,...t.parkingFloorGroups].forEach(j=>j.data.height=I);return $e(()=>t.building.data.floorHeight,(I,j)=>f$(I,j,()=>ae(I))),(I,j)=>(F(),W("div",{class:"main-flow flex-row relative",onDrop:x},[B(L2,{canAddFloor:N(t).canAddFloor,canAddTempFloor:N(t).canAddTempFloor,canAddParkingFloor:N(t).canAddParkingFloor,canAddElevator:N(t).canAddElevator},null,8,["canAddFloor","canAddTempFloor","canAddParkingFloor","canAddElevator"]),B(N(kx),{modelValue:N(t).elements,"onUpdate:modelValue":j[0]||(j[0]=O=>N(t).elements=O),"fit-view-on-init":!0,"snap-to-grid":!0,onDragover:f,style:{"border-radius":"16px"}},{[Y]:re(O=>[B(ZS,Tt(O,{modelValue:O.data,"onUpdate:modelValue":J=>O.data=J}),null,16,["modelValue","onUpdate:modelValue"])]),[P]:re(O=>[B(o$,Tt(O,{modelValue:O.data,"onUpdate:modelValue":J=>O.data=J}),null,16,["modelValue","onUpdate:modelValue"])]),[k]:re(O=>[B(PS,Tt(O,{modelValue:O.data,"onUpdate:modelValue":J=>O.data=J,"other-floors":V.value,onSetNotUniqueName:J=>N(n).reg(O.id,J),onSetName:J=>N(n).unreg(O.id)}),null,16,["modelValue","onUpdate:modelValue","other-floors","onSetNotUniqueName","onSetName"])]),[ie]:re(O=>[B(h$,Tt(O,{modelValue:O.data,"onUpdate:modelValue":J=>O.data=J,"min-height":N(t).minHeight,floors:N(t).floors,"other-elevators":V.value,onRemove:C,"can-remove":S.value,"transfer-floors":b.value,onSetNotUniqueName:J=>N(o).reg(O.id,J),onSetName:J=>N(o).unreg(O.id),"onError:height":J=>N(l).reg(O.id),onSetHeight:J=>N(l).unreg(O.id)}),null,16,["modelValue","onUpdate:modelValue","min-height","floors","other-elevators","can-remove","transfer-floors","onSetNotUniqueName","onSetName","onError:height","onSetHeight"])]),[te]:re(O=>[B(m$,Tt(O,{modelValue:O.data,"onUpdate:modelValue":J=>O.data=J,floors:N(t).floors,onRemove:C,"can-remove":z.value,elevators:A.value,"other-floors":V.value,"is-building-mixed-type":y.value,onSetNotUniqueName:J=>N(n).reg(O.id,J),onSetName:J=>N(n).unreg(O.id)}),null,16,["modelValue","onUpdate:modelValue","floors","can-remove","elevators","other-floors","is-building-mixed-type","onSetNotUniqueName","onSetName"])]),[G]:re(O=>[B(g$,Tt(O,{modelValue:O.data,"onUpdate:modelValue":J=>O.data=J,"other-floors":V.value,onRemove:C,"can-remove":"",onSetNotUniqueName:J=>N(n).reg(O.id,J),onSetName:J=>N(n).unreg(O.id)}),null,16,["modelValue","onUpdate:modelValue","other-floors","onSetNotUniqueName","onSetName"])]),[R]:re(O=>[B(v$,Tt(O,{modelValue:O.data,"onUpdate:modelValue":J=>O.data=J,"can-remove":"","other-floors":V.value,onRemove:C,onSetNotUniqueName:J=>N(n).reg(O.id,J),onSetName:J=>N(n).unreg(O.id)}),null,16,["modelValue","onUpdate:modelValue","other-floors","onSetNotUniqueName","onSetName"])]),default:re(()=>[B(N(p2)),B(N(Ix))]),_:2},1032,["modelValue"]),B(S$),B(mS),E$],32))}});const C$={class:"progress-bar"},V$={class:"flex-row between gap8 centered-align"},T$={class:"progress-bar_line"},N$={class:"progress-bar_time"},P$=L("p",null,"Формирование дашбордов с прогонами занимает некоторое время. Пожалуйста, не закрывайте страницу.",-1),M$=ue({__name:"ProgressBar",props:{time:{}},setup(e){const t=e,n=K(()=>{var o;return(((o=t.time)==null?void 0:o.relativeTime)||0)*100});return(o,l)=>{var i;return F(),W("div",C$,[L("div",V$,[L("div",T$,[L("div",{class:"progress-bar_value",style:Be(`width:${n.value}%`)},null,4)]),L("time",N$,Ie((i=t.time)==null?void 0:i.calendarTime),1)]),P$])}}});const F$={class:"layout flex-col",style:{height:"90vh"}},B$=ue({__name:"App",setup(e){const t=xn();return(n,o)=>(F(),W("div",F$,[B(v0),B(k$),N(t).time?(F(),pe(M$,{key:0,time:N(t).time},null,8,["time"])):me("",!0)]))}});const A$=_m();Yc(B$).use(A$).use(Tg,{themes:{error:{$extend:"tooltip",autoHide:!0}}}).mount("#app");
